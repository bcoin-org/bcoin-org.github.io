
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Bcoin API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell--curl&quot;,&quot;shell--cli&quot;,&quot;javascript&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
        <a href="http://bcoin.io">
      <img src="images/logo.png" class="logo" alt="Logo" />
        </a>
        <div class="lang-selector">
              <a href="#" data-language-name="shell--curl">cURL</a>
              <a href="#" data-language-name="shell--cli">CLI</a>
              <a href="#" data-language-name="javascript">javascript</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#auth" class="toc-h2 toc-link" data-title="Authentication">Auth</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#configuring-clients" class="toc-h1 toc-link" data-title="Configuring Clients">Configuring Clients</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#default-listeners" class="toc-h2 toc-link" data-title="Configuring Clients">Default Listeners</a>
                  </li>
                  <li>
                    <a href="#configuring-bcoin-cli" class="toc-h2 toc-link" data-title="Configuring Clients">Configuring BCOIN CLI</a>
                  </li>
                  <li>
                    <a href="#using-javascript-client" class="toc-h2 toc-link" data-title="Configuring Clients">Using Javascript Client</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#node" class="toc-h1 toc-link" data-title="Node">Node</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#json-rpc-requests" class="toc-h2 toc-link" data-title="Node">JSON-RPC Requests</a>
                  </li>
                  <li>
                    <a href="#get-server-info" class="toc-h2 toc-link" data-title="Node">Get server info</a>
                  </li>
                  <li>
                    <a href="#get-mempool-snapshot" class="toc-h2 toc-link" data-title="Node">Get mempool snapshot</a>
                  </li>
                  <li>
                    <a href="#get-block-by-hash-or-height" class="toc-h2 toc-link" data-title="Node">Get block by hash or height</a>
                  </li>
                  <li>
                    <a href="#broadcast-transaction" class="toc-h2 toc-link" data-title="Node">Broadcast transaction</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-node" class="toc-h1 toc-link" data-title="RPC Calls - Node">RPC Calls - Node</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-parameters-rpc" class="toc-h2 toc-link" data-title="RPC Calls - Node">POST Parameters RPC</a>
                  </li>
                  <li>
                    <a href="#stop" class="toc-h2 toc-link" data-title="RPC Calls - Node">stop</a>
                  </li>
                  <li>
                    <a href="#getinfo" class="toc-h2 toc-link" data-title="RPC Calls - Node">getinfo</a>
                  </li>
                  <li>
                    <a href="#getmemoryinfo" class="toc-h2 toc-link" data-title="RPC Calls - Node">getmemoryinfo</a>
                  </li>
                  <li>
                    <a href="#setloglevel" class="toc-h2 toc-link" data-title="RPC Calls - Node">setloglevel</a>
                  </li>
                  <li>
                    <a href="#validateaddress" class="toc-h2 toc-link" data-title="RPC Calls - Node">validateaddress</a>
                  </li>
                  <li>
                    <a href="#createmultisig" class="toc-h2 toc-link" data-title="RPC Calls - Node">createmultisig</a>
                  </li>
                  <li>
                    <a href="#createwitnessaddress" class="toc-h2 toc-link" data-title="RPC Calls - Node">createwitnessaddress</a>
                  </li>
                  <li>
                    <a href="#signmessagewithprivkey" class="toc-h2 toc-link" data-title="RPC Calls - Node">signmessagewithprivkey</a>
                  </li>
                  <li>
                    <a href="#verifymessage" class="toc-h2 toc-link" data-title="RPC Calls - Node">verifymessage</a>
                  </li>
                  <li>
                    <a href="#setmocktime" class="toc-h2 toc-link" data-title="RPC Calls - Node">setmocktime</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-chain" class="toc-h1 toc-link" data-title="RPC Calls - Chain">RPC Calls - Chain</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#pruneblockchain" class="toc-h2 toc-link" data-title="RPC Calls - Chain">pruneblockchain</a>
                  </li>
                  <li>
                    <a href="#invalidateblock" class="toc-h2 toc-link" data-title="RPC Calls - Chain">invalidateblock</a>
                  </li>
                  <li>
                    <a href="#reconsiderblock" class="toc-h2 toc-link" data-title="RPC Calls - Chain">reconsiderblock</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-block" class="toc-h1 toc-link" data-title="RPC Calls - Block">RPC Calls - Block</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getblockchaininfo" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblockchaininfo</a>
                  </li>
                  <li>
                    <a href="#getbestblockhash" class="toc-h2 toc-link" data-title="RPC Calls - Block">getbestblockhash</a>
                  </li>
                  <li>
                    <a href="#getblockcount" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblockcount</a>
                  </li>
                  <li>
                    <a href="#getblock" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblock</a>
                  </li>
                  <li>
                    <a href="#getblockbyheight" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblockbyheight</a>
                  </li>
                  <li>
                    <a href="#getblockhash" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblockhash</a>
                  </li>
                  <li>
                    <a href="#getblockheader" class="toc-h2 toc-link" data-title="RPC Calls - Block">getblockheader</a>
                  </li>
                  <li>
                    <a href="#getchaintips" class="toc-h2 toc-link" data-title="RPC Calls - Block">getchaintips</a>
                  </li>
                  <li>
                    <a href="#getdifficulty" class="toc-h2 toc-link" data-title="RPC Calls - Block">getdifficulty</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-mempool" class="toc-h1 toc-link" data-title="RPC Calls - Mempool">RPC Calls - Mempool</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getmempoolinfo" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">getmempoolinfo</a>
                  </li>
                  <li>
                    <a href="#getmempoolancestors" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">getmempoolancestors</a>
                  </li>
                  <li>
                    <a href="#getmempooldescendants" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">getmempooldescendants</a>
                  </li>
                  <li>
                    <a href="#getmempoolentry" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">getmempoolentry</a>
                  </li>
                  <li>
                    <a href="#getrawmempool" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">getrawmempool</a>
                  </li>
                  <li>
                    <a href="#prioritisetransaction" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">prioritisetransaction</a>
                  </li>
                  <li>
                    <a href="#estimatefee" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">estimatefee</a>
                  </li>
                  <li>
                    <a href="#estimatepriority" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">estimatepriority</a>
                  </li>
                  <li>
                    <a href="#estimatesmartfee" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">estimatesmartfee</a>
                  </li>
                  <li>
                    <a href="#estimatesmartpriority" class="toc-h2 toc-link" data-title="RPC Calls - Mempool">estimatesmartpriority</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-transactions" class="toc-h1 toc-link" data-title="RPC Calls - Transactions">RPC Calls - Transactions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#gettxout" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">gettxout</a>
                  </li>
                  <li>
                    <a href="#gettxoutsetinfo" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">gettxoutsetinfo</a>
                  </li>
                  <li>
                    <a href="#getrawtransaction" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">getrawtransaction</a>
                  </li>
                  <li>
                    <a href="#decoderawtransaction" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">decoderawtransaction</a>
                  </li>
                  <li>
                    <a href="#decodescript" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">decodescript</a>
                  </li>
                  <li>
                    <a href="#sendrawtransaction" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">sendrawtransaction</a>
                  </li>
                  <li>
                    <a href="#createrawtransaction" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">createrawtransaction</a>
                  </li>
                  <li>
                    <a href="#signrawtransaction" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">signrawtransaction</a>
                  </li>
                  <li>
                    <a href="#gettxoutproof" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">gettxoutproof</a>
                  </li>
                  <li>
                    <a href="#verifytxoutproof" class="toc-h2 toc-link" data-title="RPC Calls - Transactions">verifytxoutproof</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-mining" class="toc-h1 toc-link" data-title="RPC Calls - Mining">RPC Calls - Mining</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getnetworkhashps" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getnetworkhashps</a>
                  </li>
                  <li>
                    <a href="#getmininginfo" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getmininginfo</a>
                  </li>
                  <li>
                    <a href="#getwork" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getwork</a>
                  </li>
                  <li>
                    <a href="#getworklp" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getworklp</a>
                  </li>
                  <li>
                    <a href="#getblocktemplate" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getblocktemplate</a>
                  </li>
                  <li>
                    <a href="#submitblock" class="toc-h2 toc-link" data-title="RPC Calls - Mining">submitblock</a>
                  </li>
                  <li>
                    <a href="#verifyblock" class="toc-h2 toc-link" data-title="RPC Calls - Mining">verifyblock</a>
                  </li>
                  <li>
                    <a href="#setgenerate" class="toc-h2 toc-link" data-title="RPC Calls - Mining">setgenerate</a>
                  </li>
                  <li>
                    <a href="#getgenerate" class="toc-h2 toc-link" data-title="RPC Calls - Mining">getgenerate</a>
                  </li>
                  <li>
                    <a href="#generate" class="toc-h2 toc-link" data-title="RPC Calls - Mining">generate</a>
                  </li>
                  <li>
                    <a href="#generatetoaddress" class="toc-h2 toc-link" data-title="RPC Calls - Mining">generatetoaddress</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rpc-calls-network" class="toc-h1 toc-link" data-title="RPC Calls - Network">RPC Calls - Network</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#getconnectioncount" class="toc-h2 toc-link" data-title="RPC Calls - Network">getconnectioncount</a>
                  </li>
                  <li>
                    <a href="#ping" class="toc-h2 toc-link" data-title="RPC Calls - Network">ping</a>
                  </li>
                  <li>
                    <a href="#getpeerinfo" class="toc-h2 toc-link" data-title="RPC Calls - Network">getpeerinfo</a>
                  </li>
                  <li>
                    <a href="#addnode" class="toc-h2 toc-link" data-title="RPC Calls - Network">addnode</a>
                  </li>
                  <li>
                    <a href="#disconnectnode" class="toc-h2 toc-link" data-title="RPC Calls - Network">disconnectnode</a>
                  </li>
                  <li>
                    <a href="#getaddednodeinfo" class="toc-h2 toc-link" data-title="RPC Calls - Network">getaddednodeinfo</a>
                  </li>
                  <li>
                    <a href="#getnettotals" class="toc-h2 toc-link" data-title="RPC Calls - Network">getnettotals</a>
                  </li>
                  <li>
                    <a href="#getnetworkinfo" class="toc-h2 toc-link" data-title="RPC Calls - Network">getnetworkinfo</a>
                  </li>
                  <li>
                    <a href="#setban" class="toc-h2 toc-link" data-title="RPC Calls - Network">setban</a>
                  </li>
                  <li>
                    <a href="#listbanned" class="toc-h2 toc-link" data-title="RPC Calls - Network">listbanned</a>
                  </li>
                  <li>
                    <a href="#clearbanned" class="toc-h2 toc-link" data-title="RPC Calls - Network">clearbanned</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#coin" class="toc-h1 toc-link" data-title="Coin">Coin</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-coin-by-outpoint" class="toc-h2 toc-link" data-title="Coin">Get coin by Outpoint</a>
                  </li>
                  <li>
                    <a href="#get-coins-by-address" class="toc-h2 toc-link" data-title="Coin">Get coins by address</a>
                  </li>
                  <li>
                    <a href="#get-coins-by-addresses" class="toc-h2 toc-link" data-title="Coin">Get coins by addresses</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#transaction" class="toc-h1 toc-link" data-title="Transaction">Transaction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-tx-by-txhash" class="toc-h2 toc-link" data-title="Transaction">Get tx by txhash</a>
                  </li>
                  <li>
                    <a href="#get-tx-by-address" class="toc-h2 toc-link" data-title="Transaction">Get tx by address</a>
                  </li>
                  <li>
                    <a href="#get-tx-by-addresses" class="toc-h2 toc-link" data-title="Transaction">Get tx by addresses</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet-admin" class="toc-h1 toc-link" data-title="Wallet Admin">Wallet Admin</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#wallet-rescan" class="toc-h2 toc-link" data-title="Wallet Admin">Wallet Rescan</a>
                  </li>
                  <li>
                    <a href="#wallet-resend" class="toc-h2 toc-link" data-title="Wallet Admin">Wallet Resend</a>
                  </li>
                  <li>
                    <a href="#wallet-backup" class="toc-h2 toc-link" data-title="Wallet Admin">Wallet Backup</a>
                  </li>
                  <li>
                    <a href="#list-all-wallets" class="toc-h2 toc-link" data-title="Wallet Admin">List all Wallets</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet" class="toc-h1 toc-link" data-title="Wallet">Wallet</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-walletdb-and-object" class="toc-h2 toc-link" data-title="Wallet">The WalletDB and Object</a>
                  </li>
                  <li>
                    <a href="#wallet-options" class="toc-h2 toc-link" data-title="Wallet">Wallet Options</a>
                  </li>
                  <li>
                    <a href="#wallet-auth" class="toc-h2 toc-link" data-title="Wallet">Wallet Auth</a>
                  </li>
                  <li>
                    <a href="#reset-authentication-token" class="toc-h2 toc-link" data-title="Wallet">Reset Authentication Token</a>
                  </li>
                  <li>
                    <a href="#get-wallet-info" class="toc-h2 toc-link" data-title="Wallet">Get Wallet Info</a>
                  </li>
                  <li>
                    <a href="#get-master-hd-key" class="toc-h2 toc-link" data-title="Wallet">Get Master HD Key</a>
                  </li>
                  <li>
                    <a href="#create-a-wallet" class="toc-h2 toc-link" data-title="Wallet">Create A Wallet</a>
                  </li>
                  <li>
                    <a href="#change-passphrase" class="toc-h2 toc-link" data-title="Wallet">Change Passphrase</a>
                  </li>
                  <li>
                    <a href="#unlock-wallet" class="toc-h2 toc-link" data-title="Wallet">Unlock Wallet</a>
                  </li>
                  <li>
                    <a href="#lock-wallet" class="toc-h2 toc-link" data-title="Wallet">Lock Wallet</a>
                  </li>
                  <li>
                    <a href="#import-public-private-key" class="toc-h2 toc-link" data-title="Wallet">Import Public/Private Key</a>
                  </li>
                  <li>
                    <a href="#import-address" class="toc-h2 toc-link" data-title="Wallet">Import Address</a>
                  </li>
                  <li>
                    <a href="#get-blocks-with-wallet-txs" class="toc-h2 toc-link" data-title="Wallet">Get Blocks with Wallet Txs</a>
                  </li>
                  <li>
                    <a href="#get-wallet-block-by-height" class="toc-h2 toc-link" data-title="Wallet">Get Wallet Block by Height</a>
                  </li>
                  <li>
                    <a href="#add-xpubkey-multisig" class="toc-h2 toc-link" data-title="Wallet">Add xpubkey (Multisig)</a>
                  </li>
                  <li>
                    <a href="#remove-xpubkey-multisig" class="toc-h2 toc-link" data-title="Wallet">Remove xpubkey (Multisig)</a>
                  </li>
                  <li>
                    <a href="#get-public-key-by-address" class="toc-h2 toc-link" data-title="Wallet">Get Public Key By Address</a>
                  </li>
                  <li>
                    <a href="#get-private-key-by-address" class="toc-h2 toc-link" data-title="Wallet">Get Private Key By Address</a>
                  </li>
                  <li>
                    <a href="#generate-receiving-address" class="toc-h2 toc-link" data-title="Wallet">Generate Receiving Address</a>
                  </li>
                  <li>
                    <a href="#generate-change-address" class="toc-h2 toc-link" data-title="Wallet">Generate Change Address</a>
                  </li>
                  <li>
                    <a href="#derive-nested-address" class="toc-h2 toc-link" data-title="Wallet">Derive Nested Address</a>
                  </li>
                  <li>
                    <a href="#get-balance" class="toc-h2 toc-link" data-title="Wallet">Get Balance</a>
                  </li>
                  <li>
                    <a href="#list-all-coins" class="toc-h2 toc-link" data-title="Wallet">List all Coins</a>
                  </li>
                  <li>
                    <a href="#lock-coin-outpoints" class="toc-h2 toc-link" data-title="Wallet">Lock Coin/Outpoints</a>
                  </li>
                  <li>
                    <a href="#unlock-outpoint" class="toc-h2 toc-link" data-title="Wallet">Unlock Outpoint</a>
                  </li>
                  <li>
                    <a href="#get-locked-outpoints" class="toc-h2 toc-link" data-title="Wallet">Get Locked Outpoints</a>
                  </li>
                  <li>
                    <a href="#get-wallet-coin" class="toc-h2 toc-link" data-title="Wallet">Get Wallet Coin</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet-transactions" class="toc-h1 toc-link" data-title="Wallet Transactions">Wallet Transactions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#send-a-transaction" class="toc-h2 toc-link" data-title="Wallet Transactions">Send a transaction</a>
                  </li>
                  <li>
                    <a href="#create-a-transaction" class="toc-h2 toc-link" data-title="Wallet Transactions">Create a Transaction</a>
                  </li>
                  <li>
                    <a href="#sign-transaction" class="toc-h2 toc-link" data-title="Wallet Transactions">Sign Transaction</a>
                  </li>
                  <li>
                    <a href="#zap-transactions" class="toc-h2 toc-link" data-title="Wallet Transactions">Zap Transactions</a>
                  </li>
                  <li>
                    <a href="#delete-transaction" class="toc-h2 toc-link" data-title="Wallet Transactions">Delete Transaction</a>
                  </li>
                  <li>
                    <a href="#get-wallet-id-tx-history" class="toc-h2 toc-link" data-title="Wallet Transactions">GET /wallet/:id/tx/history</a>
                  </li>
                  <li>
                    <a href="#get-wallet-id-tx-unconfirmed" class="toc-h2 toc-link" data-title="Wallet Transactions">GET /wallet/:id/tx/unconfirmed</a>
                  </li>
                  <li>
                    <a href="#get-wallet-id-tx-range" class="toc-h2 toc-link" data-title="Wallet Transactions">GET /wallet/:id/tx/range</a>
                  </li>
                  <li>
                    <a href="#get-wallet-id-tx-last" class="toc-h2 toc-link" data-title="Wallet Transactions">GET /wallet/:id/tx/last</a>
                  </li>
                  <li>
                    <a href="#get-wallet-id-tx-hash" class="toc-h2 toc-link" data-title="Wallet Transactions">GET /wallet/:id/tx/:hash</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#wallet-accounts" class="toc-h1 toc-link" data-title="Wallet Accounts">Wallet Accounts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#account-object" class="toc-h2 toc-link" data-title="Wallet Accounts">Account Object</a>
                  </li>
                  <li>
                    <a href="#get-wallet-account-list" class="toc-h2 toc-link" data-title="Wallet Accounts">Get Wallet Account List</a>
                  </li>
                  <li>
                    <a href="#get-account-information" class="toc-h2 toc-link" data-title="Wallet Accounts">Get Account Information</a>
                  </li>
                  <li>
                    <a href="#create-new-wallet-account" class="toc-h2 toc-link" data-title="Wallet Accounts">Create new wallet account</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='http://bcoin.io/slack-signup.html'>Join us on slack</a></li>
            <li><a href='http://bcoin.io/guides.html'>Browse the guides</a></li>
            <li><a href='http://bcoin.io/docs/index.html'>Full API Documentation</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the Bcoin API!</p>

<p>The default bcoin HTTP server listens on the standard RPC port (<code>8332</code> for main, <code>18332</code> for testnet, <code>48332</code> for regtest, and <code>18556</code> default for simnet). It exposes a REST json api, as well as a JSON-RPC api.</p>
<h1 id='authentication'>Authentication</h1><h2 id='auth'>Auth</h2><pre class="highlight shell tab-shell--curl"><code>curl http://x:[api-key]@127.0.0.1:8332/
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="nb">export </span><span class="nv">BCOIN_API_KEY</span><span class="o">=[</span>api-key]
bcoin cli info
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="p">[</span><span class="nx">api</span><span class="o">-</span><span class="nx">key</span><span class="p">],</span>
  <span class="c1">//...</span>
<span class="p">});</span>
<span class="c1">// Or wallet</span>
<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span>
  <span class="na">apiKey</span><span class="p">:</span> <span class="p">[</span><span class="nx">api</span><span class="o">-</span><span class="nx">key</span><span class="p">],</span>
  <span class="c1">//...</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code>[api-key]</code> with your own key.</p>
</blockquote>

<p>Auth is accomplished via HTTP Basic Auth, using your node&#39;s API key (passed via --api-key).</p>

<aside class="notice">
You must replace <code>[api-key]</code> with your personal API key.
</aside>

<aside class="warning">
If you intend to use API via network and setup <code>api-key</code>, make sure to setup <code>ssl</code> too.
</aside>
<h1 id='configuring-clients'>Configuring Clients</h1><h2 id='default-listeners'>Default Listeners</h2><pre class="highlight shell tab-shell--visible"><code><span class="c"># With curl you just send HTTP Requests based on further docs</span>
<span class="c"># Only thing to have in mind is Authentication, which is described in Auth section.</span>

curl http://127.0.0.1:18332/ <span class="c"># will get info from testnet</span>
</code></pre>
<p>By default API listens on these addresses:</p>

<table><thead>
<tr>
<th>Network</th>
<th>API Port</th>
</tr>
</thead><tbody>
<tr>
<td>main</td>
<td>8332</td>
</tr>
<tr>
<td>testnet</td>
<td>18332</td>
</tr>
<tr>
<td>regtest</td>
<td>48332</td>
</tr>
<tr>
<td>simnet</td>
<td>18556</td>
</tr>
</tbody></table>

<p>You can interact with bcoin with REST Api as well as RPC,
there are couple of ways you can use API.</p>

<ul>
<li><code>bcoin cli</code> - has almost all methods described to be used.</li>
<li><code>javascript</code> - Clients used by <code>bcoin cli</code> can be used directly from javascript</li>
<li><code>curl</code> - or you can use direct HTTP calls for invoking REST/RPC API calls.</li>
</ul>
<h2 id='configuring-bcoin-cli'>Configuring BCOIN CLI</h2><pre class="highlight shell tab-shell--visible"><code><span class="c"># You can use config file</span>
bcoin cli --config /full/path/to/bcoin.conf

<span class="c"># Or with prefix (which will later load bcoin.conf file from the directory)</span>
bcoin cli --prefix /full/path/to/bcoin/dir

<span class="c"># You can configure it by passing arguments:</span>
bcoin cli --network<span class="o">=</span>regtest info
bcoin cli info --network<span class="o">=</span>regtest

<span class="c"># Or use ENV variables (Starting with BCOIN_)</span>
<span class="nb">export </span><span class="nv">BCOIN_NETWORK</span><span class="o">=</span>regtest
<span class="nb">export </span><span class="nv">BCOIN_API_KEY</span><span class="o">=</span>yoursecret
bcoin cli info
</code></pre>
<p><code>bcoin cli</code> can be configured with many params:</p>
<h3 id='general-configurations-are'>General configurations are:</h3>
<table><thead>
<tr>
<th>Config</th>
<th>Options</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>prefix</td>
<td>dir path</td>
<td>This accepts directory where DBs and <code>bcoin.conf</code> are located.</td>
</tr>
<tr>
<td>network</td>
<td><code>main</code>, <code>testnet</code>, <code>regtest</code></td>
<td>This will configure which network to load, also where to look for config file</td>
</tr>
<tr>
<td>uri, url</td>
<td>Base HTTP URI</td>
<td>This can be used for custom port</td>
</tr>
<tr>
<td>api-key</td>
<td>secret</td>
<td>Secret used by RPC for auth.</td>
</tr>
</tbody></table>
<h3 id='wallet-specific'>Wallet Specific</h3>
<table><thead>
<tr>
<th>Config</th>
<th>Options</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>primary, custom</td>
<td>specify which account to use by default</td>
</tr>
<tr>
<td>token</td>
<td>token str</td>
<td>Token specific wallet</td>
</tr>
</tbody></table>

<aside class="notice">
Some commands might accept additional parameters.
</aside>
<h2 id='using-javascript-client'>Using Javascript Client</h2><pre class="highlight javascript tab-javascript--visible"><code><span class="kr">const</span> <span class="nx">bcoin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'bcoin'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">Client</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">Wallet</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s1">'http://localhost:18332'</span>
<span class="p">});</span>

<span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wallet</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span><span class="p">,</span>
  <span class="na">uri</span><span class="p">:</span> <span class="s1">'http://localhost:18332'</span><span class="p">,</span>
  <span class="na">id</span><span class="p">:</span> <span class="s1">'primary'</span>
<span class="p">});</span>
</code></pre>
<p>You can also use api with Javascript Library (used by <code>bcoin cli</code>).
There are two objects: <code>bcoin.http.Client</code> for general API and <code>bcoin.http.Wallet</code> for wallet API.</p>

<p><code>bcoin.http.Client</code> options:</p>

<table><thead>
<tr>
<th>Config</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>network</td>
<td><code>main</code>, <code>testnet</code>, <code>regtest</code></td>
<td>Network to use (doesn&#39;t lookup configs by itself)</td>
</tr>
<tr>
<td>uri</td>
<td>String</td>
<td>URI of the service</td>
</tr>
<tr>
<td>apiKey</td>
<td>String</td>
<td>api secret</td>
</tr>
</tbody></table>

<p><code>bcoin.http.Wallet</code> options:</p>

<table><thead>
<tr>
<th>Config</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>network</td>
<td><code>main</code>, <code>testnet</code>, <code>regtest</code></td>
<td>Network to use (doesn&#39;t lookup configs by itself)</td>
</tr>
<tr>
<td>uri</td>
<td>String</td>
<td>URI of the service</td>
</tr>
<tr>
<td>apiKey</td>
<td>String</td>
<td>api secret</td>
</tr>
<tr>
<td>id</td>
<td>primary, custom</td>
<td>specify which account to use by default</td>
</tr>
<tr>
<td>token</td>
<td>token str</td>
<td>Token specific wallet</td>
</tr>
</tbody></table>
<h1 id='node'>Node</h1><h2 id='json-rpc-requests'>JSON-RPC Requests</h2>
<p>Route for JSON-RPC requests, most of which mimic the bitcoind RPC calls completely.</p>
<pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getblockchaininfo", "params": [] }'</span>
</code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>POST /</code></p>

<p>More about RPC Requests in RPC Docs.</p>
<h2 id='get-server-info'>Get server info</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli info
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
  <span class="kr">const</span> <span class="nx">info</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getInfo</span><span class="p">();</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">info</span><span class="p">);</span>

  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1.0.0-beta.14"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testnet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chain"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1157058</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tip"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000000002ac70408966be53a1e01e7e014a3d4f1f275201c751de7d6e77"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"progress"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"pool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"203.0.113.114"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">18333</span><span class="p">,</span><span class="w">
    </span><span class="s2">"agent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/bcoin:v1.0.0-beta.14/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1001"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"outbound"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inbound"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"mempool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">121512</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"uptime"</span><span class="p">:</span><span class="w"> </span><span class="mi">7403</span><span class="p">,</span><span class="w">
    </span><span class="s2">"system"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502381034</span><span class="p">,</span><span class="w">
    </span><span class="s2">"adjusted"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502381035</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"memory"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">87</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jsHeap"</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w">
    </span><span class="s2">"jsHeapTotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nativeHeap"</span><span class="p">:</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span><span class="w">
    </span><span class="s2">"external"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get server Info.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p>Get server info. No params.</p>

<p><code>GET /</code></p>

<p>No Params.</p>
<h2 id='get-mempool-snapshot'>Get mempool snapshot</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/mempool
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli mempool
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
  <span class="kr">const</span> <span class="nx">mempoolTxs</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getMempool</span><span class="p">();</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">mempoolTxs</span><span class="p">);</span>

  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"9fee8350a3cc2f5bfa9d90f008af0bbc22d84aa5b1242da2f3479935f597c9ed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"d3bd772f3b369e2e04b9b928e40dddded5ee1448b9d1ee0b6a13e6c2ae283f6a"</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get mempool snapshot (array of json txs).</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /mempool</code></p>

<p>No Params.</p>
<h2 id='get-block-by-hash-or-height'>Get block by hash or height</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockHash</span><span class="p">,</span> <span class="nx">blockHeight</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockHash</span><span class="o">=</span><span class="s1">'00000000cabd2d0245add40f335bab18d3e837eccf868b64aabbbbac74fb21e0'</span>;
<span class="nv">blockHeight</span><span class="o">=</span><span class="s1">'1500'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/block/<span class="nv">$blockHash</span> <span class="c"># by hash</span>
curl <span class="nv">$url</span>/block/<span class="nv">$blockHeight</span> <span class="c"># by height</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli block <span class="nv">$blockHash</span> <span class="c"># by hash</span>
bcoin cli block <span class="nv">$blockHeight</span> <span class="c"># by height</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>
  <span class="kr">const</span> <span class="nx">blockByHash</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getBlock</span><span class="p">(</span><span class="nx">blockHash</span><span class="p">);</span>
  <span class="kr">const</span> <span class="nx">blockByHeight</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getBlock</span><span class="p">(</span><span class="nx">blockHeight</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">blockByHash</span><span class="p">,</span> <span class="nx">blockByHeight</span><span class="p">);</span>

  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000cabd2d0245add40f335bab18d3e837eccf868b64aabbbbac74fb21e0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"prevBlock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000f651e7fe6d9a4845dcf40f5642216e59054453a4368a73a7295f9f3d"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merkleRoot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3e4590784a828967e6d9319eca2915c1860a63167449f9605e649a0aafe6d0a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1337966228</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">486604799</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nonce"</span><span class="p">:</span><span class="w"> </span><span class="mi">2671491584</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3e4590784a828967e6d9319eca2915c1860a63167449f9605e649a0aafe6d0a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3e4590784a828967e6d9319eca2915c1860a63167449f9605e649a0aafe6d0a"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502382669</span><span class="p">,</span><span class="w">
      </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"flag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0494bebf4f0108172f503253482f49636549726f6e2d51432d6d696e65722f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000000000</span><span class="p">,</span><span class="w">
          </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21032fd2666c8d5ffae0147acc0b9628160652679663397e911170ebaf1e26358abfac"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mtohBeScUtM2ndcmmpSV8o2jcvmknp1Mpy"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns block info by block hash or height.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>GET /block/:blockhashOrHeight</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:blockhashOrHeight</td>
<td>Hash or Height of block</td>
</tr>
</tbody></table>
<h2 id='broadcast-transaction'>Broadcast transaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">tx</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">tx</span><span class="o">=</span><span class="s1">'0100000001ff2a3afc3a8133a3bfeedd391bc3cff39d47fe4e3caee492a93f92edff76b9d4000000006a47304402204cc6a35cb3d3d976cb10e3c98df66aba29b5efc7b5ecdbc0f4ed949aa64235f20220512fce2d63739012094f12c3a9402919b32149c32d4d71a3448d4695ae8e3dc601210325c9abd8916d6e5ba0b3c501a70c0186f3bf6e4567922b9d83ae205d1d9e9affffffffff0244cff505000000001976a91423f5580d600bcfe5b99d9fe737530fd8b32492a088ac00111024010000001976a91473f3ecd665da93701358bd957393b8085c1aa2d988ac00000000'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/broadcast <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "tx": "'</span><span class="nv">$tx</span><span class="s1">'" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli broadcast <span class="nv">$txhex</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span><span class="p">,</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>

  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">broadcast</span><span class="p">(</span><span class="nx">tx</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>

  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Broadcast a transaction by adding it to the node&#39;s mempool. If mempool verification fails, the node will still forcefully advertise and relay the transaction for the next 60 seconds.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /broadcast</code></p>
<h3 id='post-parameters-json'>POST Parameters (JSON)</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tx</td>
<td>transaction hash</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-node'>RPC Calls - Node</h1><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "methodname", "params": [...] "id": "some-id" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc params...
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'MethodName'</span><span class="p">,</span> <span class="p">[</span> <span class="p">...</span><span class="nx">params</span> <span class="p">]);</span>

  <span class="c1">// RES will return "result" part of the object, not the id or error</span>
  <span class="c1">// error will be thrown.</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>

<p>Further examples will only include &quot;result&quot; part.</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="err">resultObject</span><span class="w"> </span><span class="p">,</span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="err">errorObject</span><span class="p">,</span><span class="w"> </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="err">passedID</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Bcoin rpc calls mimic Bitcoin Core&#39;s RPC.
This is documentation how to use it with <code>bcoin</code>.</p>

<p>RPC Calls are accepted at:
<code>POST /</code></p>

<p><em>Note: bcoin cli rpc and javascript will return error OR result.</em></p>
<h3 id='post-parameters-rpc'>POST Parameters RPC</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>method</td>
<td>Name of the RPC call</td>
</tr>
<tr>
<td>params</td>
<td>Parameters accepted by method</td>
</tr>
<tr>
<td>id</td>
<td>Will be returned with the response (Shouldn&#39;t be object)</td>
</tr>
</tbody></table>
<h2 id='stop'>stop</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "stop" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc stop
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'stop'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"Stopping."</span><span class="w">
</span></code></pre>
<p>Stops the running node.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getinfo'>getinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getinfo",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getinfo'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1.0.0-beta.14"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"protocolversion"</span><span class="p">:</span><span class="w"> </span><span class="mi">70015</span><span class="p">,</span><span class="w">
  </span><span class="s2">"walletversion"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1178980</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timeoffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"connections"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"proxy"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1048576</span><span class="p">,</span><span class="w">
  </span><span class="s2">"testnet"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keypoololdest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keypoolsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unlocked_until"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"paytxfee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0002</span><span class="p">,</span><span class="w">
  </span><span class="s2">"relayfee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns general info</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getmemoryinfo'>getmemoryinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmemoryinfo",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getmemoryinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmemoryinfo'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w">
  </span><span class="s2">"jsHeap"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
  </span><span class="s2">"jsHeapTotal"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nativeHeap"</span><span class="p">:</span><span class="w"> </span><span class="mi">69</span><span class="p">,</span><span class="w">
  </span><span class="s2">"external"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns Memory usage info.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='setloglevel'>setloglevel</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "setloglevel",
    "params": [ "none" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc setloglevel none
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'setloglevel'</span><span class="p">,</span> <span class="p">[</span> <span class="s1">'none'</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Change Log level of the running node.</p>

<p>Levels are: <code>NONE</code>, <code>ERROR</code>, <code>WARNING</code>, <code>INFO</code>, <code>DEBUG</code>, <code>SPAM</code></p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>level</td>
<td>Required</td>
<td>Level for the logger</td>
</tr>
</tbody></table>
<h2 id='validateaddress'>validateaddress</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address</span><span class="o">=</span><span class="s1">'n34pHHSqsXJQwq9FXUsrfhmTghrVtN74yo'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "validateaddress",
    "params": [ "'</span><span class="nv">$address</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc validateaddress <span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'validateaddress'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">address</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"isvalid"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n34pHHSqsXJQwq9FXUsrfhmTghrVtN74yo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"scriptPubKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914ec61435a3c8f0efee2ffafb8ddb4e1440d2db8d988ac"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ismine"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"iswatchonly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Validates address.</p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>address</td>
<td>Required</td>
<td>Address to validate</td>
</tr>
</tbody></table>
<h2 id='createmultisig'>createmultisig</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nrequired</span><span class="p">,</span> <span class="nx">pubkey0</span><span class="p">,</span> <span class="nx">pubkey1</span><span class="p">,</span> <span class="nx">pubkey2</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nrequired</span><span class="o">=</span>2;
<span class="nv">pubkey0</span><span class="o">=</span><span class="s1">'02b3280e779a7c849f9d6460e926097fe4b0f6280fa6fd038ce8e1236a4688c358'</span>;
<span class="nv">pubkey1</span><span class="o">=</span><span class="s1">'021f1dbc575db95a44e016fe6ecf00231109e7799d9b1e007dbe8814017cf0d65c'</span>;
<span class="nv">pubkey2</span><span class="o">=</span><span class="s1">'0315613667e3ebe065c0b8d86ae0443d97de56545bdf38c99a6ee584f300206d9a'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "createmultisig",
    "params": [ "'</span><span class="nv">$nrequired</span><span class="s1">'", [ "'</span><span class="nv">$pubkey0</span><span class="s1">'", "'</span><span class="nv">$pubkey1</span><span class="s1">'", "'</span><span class="nv">$pubkey2</span><span class="s1">'" ] ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc createmultisig <span class="nv">$nrequired</span> <span class="s1">'[ "'</span><span class="nv">$pubkey0</span><span class="s1">'", "'</span><span class="nv">$pubkey1</span><span class="s1">'", "'</span><span class="nv">$pubkey2</span><span class="s1">'" ]'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'createmultisig'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nrequired</span><span class="p">,</span> <span class="p">[</span> <span class="nx">pubkey0</span><span class="p">,</span> <span class="nx">pubkey1</span><span class="p">,</span> <span class="nx">pubkey2</span> <span class="p">]</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2MzY9R5P1Wfy9aNdqyoH63K1EQZF7APuZ4S"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"redeemScript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5221021f1dbc575db95a44e016fe6ecf00231109e7799d9b1e007dbe8814017cf0d65c2102b3280e779a7c849f9d6460e926097fe4b0f6280fa6fd038ce8e1236a4688c358210315613667e3ebe065c0b8d86ae0443d97de56545bdf38c99a6ee584f300206d9a53ae"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>create multisig address</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>nrequired</td>
<td>Required</td>
<td>Required number of approvals for spending</td>
</tr>
<tr>
<td>2</td>
<td>keyArray</td>
<td>Required</td>
<td>Array of public keys</td>
</tr>
</tbody></table>
<h2 id='createwitnessaddress'>createwitnessaddress</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">script</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">script</span><span class="o">=</span><span class="s1">'5221021f1dbc575db95a44e016fe6ecf00231109e7799d9b1e007dbe8814017cf0d65c2102b3280e779a7c849f9d6460e926097fe4b0f6280fa6fd038ce8e1236a4688c358210315613667e3ebe065c0b8d86ae0443d97de56545bdf38c99a6ee584f300206d9a53ae'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "createwitnessaddress",
    "params": [ "'</span><span class="nv">$script</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc createwitnessaddress <span class="nv">$script</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'createwitnessaddress'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">script</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tb1qlfgqame3n0dt2ldjl2m9qjg6n2vut26jw3ezm25hqx9ez4m9wp5q567kg2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessScript"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0020fa500eef319bdab57db2fab650491a9a99c5ab5274722daa97018b9157657068"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Creates witness address.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>script</td>
<td>Required</td>
<td>Bitcoin script.</td>
</tr>
</tbody></table>
<h2 id='signmessagewithprivkey'>signmessagewithprivkey</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">privkey</span><span class="p">,</span> <span class="nx">message</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">privkey</span><span class="o">=</span><span class="s1">'EL4QU6ViZvT4RuCTCivw2uBnvBPSamP5jMtH31gGQLbEEcmNCHVz'</span>;
<span class="nv">message</span><span class="o">=</span><span class="s1">'hello'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "signmessagewithprivkey",
    "params": [ "'</span><span class="nv">$privkey</span><span class="s1">'", "'</span><span class="nv">$message</span><span class="s1">'"]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc signmessagewithprivkey <span class="nv">$privkey</span> <span class="nv">$message</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'signmessagewithprivkey'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">privkey</span><span class="p">,</span> <span class="nx">message</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"MEQCIAwF9NPMo5KBRsCWTBJ2r69/h7CfDl+RQfxxwAbNp1WJAiAiubiK5rg9MugiU7EHpwbJLc3b356LAedob0ePI40Wmg=="</span><span class="w">
</span></code></pre>
<p>Signs message with private key.</p>
<h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>privkey</td>
<td>Required</td>
<td>Private key</td>
</tr>
<tr>
<td>1</td>
<td>message</td>
<td>Required</td>
<td>Message you want to sign.</td>
</tr>
</tbody></table>
<h2 id='verifymessage'>verifymessage</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">signature</span><span class="p">,</span> <span class="nx">message</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address</span><span class="o">=</span><span class="s1">'R9LTC6Sp6Zwk71qUrm81sEdsppFNiDM6mF'</span>;
<span class="nv">signature</span><span class="o">=</span><span class="s1">'MEQCIAwF9NPMo5KBRsCWTBJ2r69/h7CfDl+RQfxxwAbNp1WJAiAiubiK5rg9MugiU7EHpwbJLc3b356LAedob0ePI40Wmg=='</span>;
<span class="nv">message</span><span class="o">=</span><span class="s1">'hello'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "verifymessage",
    "params": [ "'</span><span class="nv">$address</span><span class="s1">'", "'</span><span class="nv">$signature</span><span class="s1">'", "'</span><span class="nv">$message</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc verifymessage <span class="nv">$address</span> <span class="nv">$signature</span> <span class="nv">$message</span> 
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'verifymessage'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">signature</span><span class="p">,</span> <span class="nx">message</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="w">
</span></code></pre>
<p>Verify sign</p>
<h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>address</td>
<td>Required</td>
<td>Address of the signer</td>
</tr>
<tr>
<td>2</td>
<td>signature</td>
<td>Required</td>
<td>Signature of signed message</td>
</tr>
<tr>
<td>3</td>
<td>message</td>
<td>Required</td>
<td>Message that was signed</td>
</tr>
</tbody></table>
<h2 id='setmocktime'>setmocktime</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">timestamp</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">timestamp</span><span class="o">=</span>1503058155;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "setmocktime",
    "params": [ '</span><span class="nv">$timestamp</span><span class="s1">' ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc setmocktime <span class="nv">$timestamp</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'setmocktime'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">timestamp</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Changes network time (This is consensus-critical)</p>
<h3 id='params-10'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>timestamp</td>
<td>Required</td>
<td>timestamp to change to</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-chain'>RPC Calls - Chain</h1><h2 id='pruneblockchain'>pruneblockchain</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "pruneblockchain",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc pruneblockchain
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'pruneblockchain'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>Prunes the blockchain, it will keep blocks specified in Network Configurations.</p>
<h3 id='default-prune-options'>Default Prune Options</h3>
<table><thead>
<tr>
<th>Network</th>
<th>keepBlocks</th>
<th>pruneAfter</th>
</tr>
</thead><tbody>
<tr>
<td>main</td>
<td>288</td>
<td>1000</td>
</tr>
<tr>
<td>testnet</td>
<td>10000</td>
<td>1000</td>
</tr>
<tr>
<td>regtest</td>
<td>10000</td>
<td>1000</td>
</tr>
</tbody></table>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='invalidateblock'>invalidateblock</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockhash</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockhash</span><span class="o">=</span><span class="s1">'0000000000000dca8da883af9515dd90443d59139adbda3f9eeac1d18397fec3'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "invalidateblock",
    "params": [ "'</span><span class="nv">$blockhash</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc invalidateblock <span class="nv">$blockhash</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'invalidateblock'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockhash</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>Invalidates the block in the chain.
It will rewind network to blockhash and invalidate it. </p>

<p>It won&#39;t accept that block as valid
<em>Invalidation will work while running, restarting node will remove invalid block from list.</em></p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockhash</td>
<td>Required</td>
<td>Block&#39;s hash</td>
</tr>
</tbody></table>
<h2 id='reconsiderblock'>reconsiderblock</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockhash</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockhash</span><span class="o">=</span><span class="s1">'0000000000000dca8da883af9515dd90443d59139adbda3f9eeac1d18397fec3'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "reconsiderblock",
    "params": [ "'</span><span class="nv">$blockhash</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc reconsiderblock <span class="nv">$blockhash</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'reconsiderblock'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockhash</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>This rpc command will remove block from invalid block set.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockhash</td>
<td>Required</td>
<td>Block&#39;s hash</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-block'>RPC Calls - Block</h1><h2 id='getblockchaininfo'>getblockchaininfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getblockchaininfo" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getblockchaininfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblockchaininfo'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1178402</span><span class="p">,</span><span class="w">
  </span><span class="s2">"headers"</span><span class="p">:</span><span class="w"> </span><span class="mi">1178402</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bestblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000dd897f549915ba7099b6d4f86f4512801d617a7c0c655827d08"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1048576</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mediantime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502814951</span><span class="p">,</span><span class="w">
  </span><span class="s2">"verificationprogress"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chainwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000000000000000000000000000000000000000002976ca78529498e335"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pruned"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"softforks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bip34"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bip66"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bip65"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reject"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"bip9_softforks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"csv"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1456790400</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1493596800</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"segwit"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bit"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1462060800</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1493596800</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"segsignal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defined"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bit"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"testdummy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"bit"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
      </span><span class="s2">"startTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1199145601</span><span class="p">,</span><span class="w">
      </span><span class="s2">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1230767999</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"pruneheight"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns blockchain information.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getbestblockhash'>getbestblockhash</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getbestblockhash" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getbestblockhash
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getbestblockhash'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"0000000000000225f8332239fe00b74c65f916ff71dde5dee33b72ddd3b0e237"</span><span class="w">
</span></code></pre>
<p>Returns Block Hash of the tip.</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getblockcount'>getblockcount</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "method": "getblockcount" }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getbestblockhash
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblockcount'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mi">1178418</span><span class="w">
</span></code></pre>
<p>Returns block count.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getblock'>getblock</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockhash</span><span class="p">,</span> <span class="nx">details</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockhash</span><span class="o">=</span><span class="s1">'00000000e0290b7c66227c7499692aac5437860ee912424bf8eea3a3883a4e37'</span>;
<span class="nv">verbose</span><span class="o">=</span>1;
<span class="nv">details</span><span class="o">=</span>0;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getblock",
    "params": [ "'</span><span class="nv">$blockhash</span><span class="s1">'", "'</span><span class="nv">$verbose</span><span class="s1">'", "'</span><span class="nv">$details</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getblock <span class="nv">$blockhash</span> <span class="nv">$verbose</span> <span class="nv">$details</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblock'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockhash</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">,</span> <span class="nx">details</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000e0290b7c66227c7499692aac5437860ee912424bf8eea3a3883a4e37"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">1177921</span><span class="p">,</span><span class="w">
  </span><span class="s2">"strippedsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">2499</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2499</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">9996</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"versionHex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merkleroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4f7a9087973b891fc86cc59fd9c2cb696f7a813360d3553626dc6c38909f9571"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3337346bde777ade327922b5deef5fb7f88e98cecb22"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"2a69b021fc6cbd61260767302781c85fb0873acf18980ea6187fc868e4a3e3f9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"c61f2ef26bb08dcf1e16db4fece56ac92a3acac24e4dac90315e5c0ad6af67e6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ed8c8213cc2d214ad2f293caae99e26e2c59d158f3eda5d9c1292e0961e20e76"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"21da008d1fddc1a067d2d6cd9bb6e78acb5bdc9560252c17cfd59c331dd5c2cf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"90cc439e0a03109c33c966d92ccd18b0509ef678458d85a097397ee9bfbd54c0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1d67f7466fd711f8106fb437cb6a59b7ccd14cd6069edc132627a9fb01d4f09c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"402450f5b4cd794d4198f940977bf4291ce25a7ff8b157adf71c07ed065db380"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"0173a5d24d393127d5e6fc043ff1a00dafc6a2777143cb98a803a0b6e8cd02c7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"86150a141ebe5903a5d31e701698a01d598b81f099ea7577dad73033eab02ef9"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1296746959</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mediantime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1296746728</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">486604799</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chainwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000000000000000000000000000000000000000000000000000001f701f701f7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previousblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000c7f50b6dfac8b8a59e11b7e62f07fdef20597089b9c5d64ebfe6d682"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nextblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000f797111d0f67d7f08346757948e7c469f14cddbd1c3d0217306bf003"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns information about block.</p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockhash</td>
<td>Required</td>
<td>Hash of the block</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>true</td>
<td>If set to false, it will return hex of the block</td>
</tr>
<tr>
<td>3</td>
<td>details</td>
<td>false</td>
<td>If set to true, it will return transaction details too.</td>
</tr>
</tbody></table>
<h2 id='getblockbyheight'>getblockbyheight</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockhash</span><span class="p">,</span> <span class="nx">details</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockheight</span><span class="o">=</span>502;
<span class="nv">verbose</span><span class="o">=</span>1;
<span class="nv">details</span><span class="o">=</span>0;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getblockbyheight",
    "params": [ "'</span><span class="nv">$blockheight</span><span class="s1">'", "'</span><span class="nv">$verbose</span><span class="s1">'", "'</span><span class="nv">$details</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getblockbyheight <span class="nv">$blockheight</span> <span class="nv">$verbose</span> <span class="nv">$details</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblockbyheight'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockheight</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">,</span> <span class="nx">details</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000e0290b7c66227c7499692aac5437860ee912424bf8eea3a3883a4e37"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">1177921</span><span class="p">,</span><span class="w">
  </span><span class="s2">"strippedsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">2499</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">2499</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">9996</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"versionHex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merkleroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4f7a9087973b891fc86cc59fd9c2cb696f7a813360d3553626dc6c38909f9571"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3337346bde777ade327922b5deef5fb7f88e98cecb22"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"2a69b021fc6cbd61260767302781c85fb0873acf18980ea6187fc868e4a3e3f9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"c61f2ef26bb08dcf1e16db4fece56ac92a3acac24e4dac90315e5c0ad6af67e6"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ed8c8213cc2d214ad2f293caae99e26e2c59d158f3eda5d9c1292e0961e20e76"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"21da008d1fddc1a067d2d6cd9bb6e78acb5bdc9560252c17cfd59c331dd5c2cf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"90cc439e0a03109c33c966d92ccd18b0509ef678458d85a097397ee9bfbd54c0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"1d67f7466fd711f8106fb437cb6a59b7ccd14cd6069edc132627a9fb01d4f09c"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"402450f5b4cd794d4198f940977bf4291ce25a7ff8b157adf71c07ed065db380"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"0173a5d24d393127d5e6fc043ff1a00dafc6a2777143cb98a803a0b6e8cd02c7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"86150a141ebe5903a5d31e701698a01d598b81f099ea7577dad73033eab02ef9"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1296746959</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mediantime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1296746728</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">486604799</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chainwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000000000000000000000000000000000000000000000000000001f701f701f7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previousblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000c7f50b6dfac8b8a59e11b7e62f07fdef20597089b9c5d64ebfe6d682"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nextblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000f797111d0f67d7f08346757948e7c469f14cddbd1c3d0217306bf003"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns information about block by height.</p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockheight</td>
<td>Required</td>
<td>height of the block in the blockchain.</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>true</td>
<td>If set to false, it will return hex of the block.</td>
</tr>
<tr>
<td>3</td>
<td>details</td>
<td>false</td>
<td>If set to true, it will return transaction details too.</td>
</tr>
</tbody></table>
<h2 id='getblockhash'>getblockhash</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockheight</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockheight</span><span class="o">=</span>502;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getblockhash",
    "params": [ "'</span><span class="nv">$blockheight</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getblockhash <span class="nv">$blockheight</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblockhash'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockheight</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"00000000e0290b7c66227c7499692aac5437860ee912424bf8eea3a3883a4e37"</span><span class="w">
</span></code></pre>
<p>Returns block&#39;s hash by height.</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockheight</td>
<td>Required</td>
<td>height of the block in the blockchain.</td>
</tr>
</tbody></table>
<h2 id='getblockheader'>getblockheader</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockhash</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockhash</span><span class="o">=</span><span class="s1">'00000000e0290b7c66227c7499692aac5437860ee912424bf8eea3a3883a4e37'</span>;
<span class="nv">verbose</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getblockheader",
    "params": [ "'</span><span class="nv">$blockhash</span><span class="s1">'", "'</span><span class="nv">$details</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getblockheader <span class="nv">$blockhash</span> <span class="nv">$verbose</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblockheader'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockheight</span><span class="p">,</span> <span class="nx">verbose</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000e0290b7c66227c7499692aac5437860ee912424bf8eea3a3883a4e37"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">1177934</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"versionHex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000001"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"merkleroot"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4f7a9087973b891fc86cc59fd9c2cb696f7a813360d3553626dc6c38909f9571"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1296746959</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mediantime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1296746728</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">486604799</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chainwork"</span><span class="p">:</span><span class="w"> </span><span class="s2">"000000000000000000000000000000000000000000000000000001f701f701f7"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previousblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000c7f50b6dfac8b8a59e11b7e62f07fdef20597089b9c5d64ebfe6d682"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nextblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000f797111d0f67d7f08346757948e7c469f14cddbd1c3d0217306bf003"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns block&#39;s header by hash.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockheight</td>
<td>Required</td>
<td>height of the block in the blockchain.</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>true</td>
<td>If set to false, it will return hex of the block.</td>
</tr>
</tbody></table>
<h2 id='getchaintips'>getchaintips</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getchaintips"
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getchaintips
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getchaintips'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>Returns chaintips.</p>

<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1159071</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000043bc8896351bf4fbb9fadfa596566e6d88078a2364252346e0d2a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"branchlen"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"valid-headers"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1158313</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000011e8328cf0382888e07f207e178e967f896794d600e39c962362e"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"branchlen"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"valid-headers"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getdifficulty'>getdifficulty</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getdifficulty"
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getdifficulty
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getdifficulty'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mi">1048576</span><span class="w">
</span></code></pre><h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id='rpc-calls-mempool'>RPC Calls - Mempool</h1><h2 id='getmempoolinfo'>getmempoolinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmempoolinfo"
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getmempoolinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmempoolinfo'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bytes"</span><span class="p">:</span><span class="w"> </span><span class="mi">68064</span><span class="p">,</span><span class="w">
  </span><span class="s2">"usage"</span><span class="p">:</span><span class="w"> </span><span class="mi">68064</span><span class="p">,</span><span class="w">
  </span><span class="s2">"maxmempool"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mempoolminfee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns informations about mempool.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getmempoolancestors'>getmempoolancestors</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'939a3b8485b53a718d89e7e4412473b3762fa1d9bbd555fc8b01e73be0ab1881'</span>;
<span class="nv">verbose</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmempoolancestors",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'", "'</span><span class="nv">$verbose</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getmempoolancestors <span class="nv">$txhash</span> <span class="nv">$verbose</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmempoolancestors'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">verbose=</span><span class="mi">1</span><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502891340</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">451</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">9080</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">verbose=</span><span class="mi">0</span><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="s2">"56ab7663c80cb6ffc9f8a4b493d77b2e6f52ae8ff64eefa8899c2065922665c8"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>returns all in-mempool ancestors for a transaction in the mempool.</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txhash</td>
<td>Required</td>
<td>Transaction Hash</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>false</td>
<td>False returns only tx hashs, true - returns dependency tx info</td>
</tr>
</tbody></table>
<h2 id='getmempooldescendants'>getmempooldescendants</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'56ab7663c80cb6ffc9f8a4b493d77b2e6f52ae8ff64eefa8899c2065922665c8'</span>;
<span class="nv">verbose</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmempooldescendants",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'", "'</span><span class="nv">$verbose</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getmempooldescendants <span class="nv">$txhash</span> <span class="nv">$verbose</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmempooldescendants'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">verbose=</span><span class="mi">1</span><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502891378</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">4540</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"56ab7663c80cb6ffc9f8a4b493d77b2e6f52ae8ff64eefa8899c2065922665c8"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><pre class="highlight json tab-json"><code><span class="err">//</span><span class="w"> </span><span class="err">verbose=</span><span class="mi">0</span><span class="w">
</span><span class="p">[</span><span class="w">
  </span><span class="s2">"939a3b8485b53a718d89e7e4412473b3762fa1d9bbd555fc8b01e73be0ab1881"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>returns all in-mempool descendants for a transaction in the mempool.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txhash</td>
<td>Required</td>
<td>Transaction hash</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>false</td>
<td>False returns only tx hashs, true - returns dependency tx info</td>
</tr>
</tbody></table>
<h2 id='getmempoolentry'>getmempoolentry</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'939a3b8485b53a718d89e7e4412473b3762fa1d9bbd555fc8b01e73be0ab1881'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmempoolentry",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getmempoolentry <span class="nv">$txhash</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmempoolentry'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
  </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502891378</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w">
  </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
  </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">4540</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"56ab7663c80cb6ffc9f8a4b493d77b2e6f52ae8ff64eefa8899c2065922665c8"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>returns mempool transaction info by its hash.</p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txhash</td>
<td>Required</td>
<td>Transaction Hash</td>
</tr>
</tbody></table>
<h2 id='getrawmempool'>getrawmempool</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">verbose</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">verbose</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getrawmempool",
    "params": [ "'</span><span class="nv">$verbose</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getrawmempool <span class="nv">$verbose</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getrawmempool'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">verbose</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"56ab7663c80cb6ffc9f8a4b493d77b2e6f52ae8ff64eefa8899c2065922665c8"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502891340</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">451</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">9080</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"939a3b8485b53a718d89e7e4412473b3762fa1d9bbd555fc8b01e73be0ab1881"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000454</span><span class="p">,</span><span class="w">
    </span><span class="s2">"modifiedfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502891378</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currentpriority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
    </span><span class="s2">"descendantfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">4540</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorcount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ancestorfees"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"56ab7663c80cb6ffc9f8a4b493d77b2e6f52ae8ff64eefa8899c2065922665c8"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns mempool detailed information (on verbose).
Or mempool tx list.</p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>verbose</td>
<td>false</td>
<td>False returns only tx hashs, true - returns full tx info</td>
</tr>
</tbody></table>
<h2 id='prioritisetransaction'>prioritisetransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">priorityDelta</span><span class="p">,</span> <span class="nx">feeDelta</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">''</span>;
<span class="nv">priorityDelta</span><span class="o">=</span>1000;
<span class="nv">feeDelta</span><span class="o">=</span>1000;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "prioritisetransaction",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'", "'</span><span class="nv">$priorityDelta</span><span class="s1">'", "'</span><span class="nv">$feeDelta</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc prioritisetransaction <span class="nv">$txhash</span> <span class="nv">$priorityDelta</span> <span class="nv">$feeDelta</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'prioritisetransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">priorityDelta</span><span class="p">,</span> <span class="nx">feeDelta</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="w">
</span></code></pre>
<p>Prioritises the transaction.</p>

<p><em>Note: changing fee or priority will only trick local miner (using this mempool)
into accepting Transaction(s) into the block. (even if Priority/Fee doen&#39;t qualify)</em></p>

<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txid</td>
<td>Required</td>
<td>Transaction hash</td>
</tr>
<tr>
<td>2</td>
<td>priority delta</td>
<td>Required</td>
<td>Virtual priority to add/subtract to the entry</td>
</tr>
<tr>
<td>3</td>
<td>fee delta</td>
<td>Required</td>
<td>Virtual fee to add/subtract to the entry</td>
</tr>
</tbody></table>
<h2 id='estimatefee'>estimatefee</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nblocks</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nblocks</span><span class="o">=</span>10;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "estimatefee",
    "params": [ "'</span><span class="nv">$nblocks</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc estimatefee <span class="nv">$nblocks</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'estimatefee'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nblocks</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mf">0.001</span><span class="w">
</span></code></pre>
<p>Estimates fee to be paid for transaction.</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>nblocks</td>
<td>1</td>
<td>Number of blocks to check for estimation.</td>
</tr>
</tbody></table>
<h2 id='estimatepriority'>estimatepriority</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nblocks</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nblocks</span><span class="o">=</span>10;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "estimatepriority",
    "params": [ "'</span><span class="nv">$nblocks</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc estimatepriority <span class="nv">$nblocks</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'estimatepriority'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nblocks</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mf">718158904.3501</span><span class="w">
</span></code></pre>
<p>estimates the priority (coin age) that a transaction needs in order to be included within a certain number of blocks as a free high-priority transaction.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>nblocks</td>
<td>1</td>
<td>Number of blocks to check for estimation.</td>
</tr>
</tbody></table>
<h2 id='estimatesmartfee'>estimatesmartfee</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nblocks</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nblocks</span><span class="o">=</span>10;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "estimatesmartfee",
    "params": [ "'</span><span class="nv">$nblocks</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc estimatesmartfee <span class="nv">$nblocks</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'estimatesmartfee'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nblocks</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.001</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocks"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Estimates smart fee to be paid for transaction.</p>
<h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>nblocks</td>
<td>1</td>
<td>Number of blocks to check for estimation.</td>
</tr>
</tbody></table>
<h2 id='estimatesmartpriority'>estimatesmartpriority</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nblocks</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nblocks</span><span class="o">=</span>10;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "estimatesmartpriority",
    "params": [ "'</span><span class="nv">$nblocks</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc estimatesmartpriority <span class="nv">$nblocks</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'estimatesmartpriority'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nblocks</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"priority"</span><span class="p">:</span><span class="w"> </span><span class="mf">718158904.3501</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocks"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>estimates smart priority (coin age) that a transaction needs in order to be included within a certain number of blocks as a free high-priority transaction.</p>
<h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>nblocks</td>
<td>1</td>
<td>Number of blocks to check for estimation.</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-transactions'>RPC Calls - Transactions</h1><h2 id='gettxout'>gettxout</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">includemempool</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'28d65fdaf5334ffd29066d7076f056bb112baa4bb0842f6eaa06171c277b4e8c'</span>;
<span class="nv">index</span><span class="o">=</span>0;
<span class="nv">includemempool</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "gettxout",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'", "'</span><span class="nv">$index</span><span class="s1">'", "'</span><span class="nv">$includemempool</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc gettxout <span class="nv">$txhash</span> <span class="nv">$index</span> <span class="nv">$includemempool</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'gettxout'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">includemempool</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"bestblock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000000004f0fbf1b2290e8255bbd468640d747fd9d44a16e77d9e129a55"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.01</span><span class="p">,</span><span class="w">
  </span><span class="s2">"scriptPubKey"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"asm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OP_HASH160 6a58967510cfd7e04987b245f73dbf62e8d3fdf8 OP_EQUAL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9146a58967510cfd7e04987b245f73dbf62e8d3fdf887"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SCRIPTHASH"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reqSigs"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"2N2wXjoQbEQTKQuqYdkpHMp7rPpnpumYYqe"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get outpoint of the transaction.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txid</td>
<td>Required</td>
<td>Transaction hash</td>
</tr>
<tr>
<td>2</td>
<td>index</td>
<td>Required</td>
<td>Index of the Outpoint tx.</td>
</tr>
<tr>
<td>3</td>
<td>includemempool</td>
<td>true</td>
<td>Whether to include mempool transactions.</td>
</tr>
</tbody></table>
<h2 id='gettxoutsetinfo'>gettxoutsetinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "gettxoutsetinfo",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc gettxoutsetinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'gettxoutsetinfo'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1178729</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bestblock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000000004f0fbf1b2290e8255bbd468640d747fd9d44a16e77d9e129a55"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="mi">14827318</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">17644185</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bytes_serialized"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hash_serialized"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"total_amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">20544080.67292757</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns information about UTXO&#39;s from Chain.</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getrawtransaction'>getrawtransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'28d65fdaf5334ffd29066d7076f056bb112baa4bb0842f6eaa06171c277b4e8c'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getrawtransaction",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'", "'</span><span class="nv">$verbose</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getrawtransaction <span class="nv">$txhash</span> <span class="nv">$verbose</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getrawtransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">verbose</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"0100000002500310ff36beb6c3608230534ef995f7751b6f948aeea8d21d5cc9dd5023a2c4010000006b483045022100e7c71d397b687f9f30e6003ceedc4c50436fdb2329b7a8a36c9c6759077969d30220059f24e917260d3e601c77079d03c9e73d04fd85f625eaebfd14a1ff695a72230121020bc134c91f4ff068f3a970616fad577f949406c18849321a2f6d4df96fc56c77feffffffeffed95ded4f227fc6717f224e85e50348ce0198303a5418f157ade42828a1e3000000006b483045022100f0bde463404db0983e0f221bfa1b13edf1063a78e869295c9457864b122a622b02207d9d5df76ecac6289784201e9a918acb34510c2d65144bf8e4753a3413024e320121022565ed0ff8f79ecf11e8f33b9fbba5606dbc0618813acd74603f9466e88fb8a8feffffff02402305060000000017a9146a58967510cfd7e04987b245f73dbf62e8d3fdf8871e194f00000000001976a914132b05f47f2b1b56f26a78d3962e3acd0735f12d88ac00000000"</span><span class="w">
</span></code></pre>
<p>Returns raw transaction</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txhash</td>
<td>Required</td>
<td>Transaction hash</td>
</tr>
<tr>
<td>2</td>
<td>verbose</td>
<td>false</td>
<td>Returns json formatted if true</td>
</tr>
</tbody></table>
<h2 id='decoderawtransaction'>decoderawtransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">rawtx</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">rawtx</span><span class="o">=</span><span class="s1">'0100000002500310ff36beb6c3608230534ef995f7751b6f948aeea8d21d5cc9dd5023a2c4010000006b483045022100e7c71d397b687f9f30e6003ceedc4c50436fdb2329b7a8a36c9c6759077969d30220059f24e917260d3e601c77079d03c9e73d04fd85f625eaebfd14a1ff695a72230121020bc134c91f4ff068f3a970616fad577f949406c18849321a2f6d4df96fc56c77feffffffeffed95ded4f227fc6717f224e85e50348ce0198303a5418f157ade42828a1e3000000006b483045022100f0bde463404db0983e0f221bfa1b13edf1063a78e869295c9457864b122a622b02207d9d5df76ecac6289784201e9a918acb34510c2d65144bf8e4753a3413024e320121022565ed0ff8f79ecf11e8f33b9fbba5606dbc0618813acd74603f9466e88fb8a8feffffff02402305060000000017a9146a58967510cfd7e04987b245f73dbf62e8d3fdf8871e194f00000000001976a914132b05f47f2b1b56f26a78d3962e3acd0735f12d88ac00000000'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "decoderawtransaction",
    "params": [ "'</span><span class="nv">$rawtx</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc decoderawtransaction <span class="nv">$rawtx</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'decoderawtransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">rawtx</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28d65fdaf5334ffd29066d7076f056bb112baa4bb0842f6eaa06171c277b4e8c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"28d65fdaf5334ffd29066d7076f056bb112baa4bb0842f6eaa06171c277b4e8c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">372</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">372</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"vin"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c4a22350ddc95c1dd2a8ee8a946f1b75f795f94e53308260c3b6be36ff100350"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"scriptSig"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"asm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3045022100e7c71d397b687f9f30e6003ceedc4c50436fdb2329b7a8a36c9c6759077969d30220059f24e917260d3e601c77079d03c9e73d04fd85f625eaebfd14a1ff695a722301 020bc134c91f4ff068f3a970616fad577f949406c18849321a2f6d4df96fc56c77"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"483045022100e7c71d397b687f9f30e6003ceedc4c50436fdb2329b7a8a36c9c6759077969d30220059f24e917260d3e601c77079d03c9e73d04fd85f625eaebfd14a1ff695a72230121020bc134c91f4ff068f3a970616fad577f949406c18849321a2f6d4df96fc56c77"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967294</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e3a12828e4ad57f118543a309801ce4803e5854e227f71c67f224fed5dd9feef"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"scriptSig"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"asm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3045022100f0bde463404db0983e0f221bfa1b13edf1063a78e869295c9457864b122a622b02207d9d5df76ecac6289784201e9a918acb34510c2d65144bf8e4753a3413024e3201 022565ed0ff8f79ecf11e8f33b9fbba5606dbc0618813acd74603f9466e88fb8a8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"483045022100f0bde463404db0983e0f221bfa1b13edf1063a78e869295c9457864b122a622b02207d9d5df76ecac6289784201e9a918acb34510c2d65144bf8e4753a3413024e320121022565ed0ff8f79ecf11e8f33b9fbba5606dbc0618813acd74603f9466e88fb8a8"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967294</span><span class="p">,</span><span class="w">
      </span><span class="s2">"vout"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"vout"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.01</span><span class="p">,</span><span class="w">
      </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"scriptPubKey"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"asm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OP_HASH160 6a58967510cfd7e04987b245f73dbf62e8d3fdf8 OP_EQUAL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9146a58967510cfd7e04987b245f73dbf62e8d3fdf887"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SCRIPTHASH"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reqSigs"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"2N2wXjoQbEQTKQuqYdkpHMp7rPpnpumYYqe"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05183774</span><span class="p">,</span><span class="w">
      </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="s2">"scriptPubKey"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"asm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OP_DUP OP_HASH160 132b05f47f2b1b56f26a78d3962e3acd0735f12d OP_EQUALVERIFY OP_CHECKSIG"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914132b05f47f2b1b56f26a78d3962e3acd0735f12d88ac"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUBKEYHASH"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reqSigs"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"mhGJg1PJg8hVPX9A6zg4q389YFisSzQW6d"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"blockhash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blocktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Decodes raw tx and provide chain info.</p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>rawtx</td>
<td>Required</td>
<td>Raw transaction hex</td>
</tr>
</tbody></table>
<h2 id='decodescript'>decodescript</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">script</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">script</span><span class="o">=</span><span class="s1">'483045022100f0bde463404db0983e0f221bfa1b13edf1063a78e869295c9457864b122a622b02207d9d5df76ecac6289784201e9a918acb34510c2d65144bf8e4753a3413024e320121022565ed0ff8f79ecf11e8f33b9fbba5606dbc0618813acd74603f9466e88fb8a8'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "decodescript",
    "params": [ "'</span><span class="nv">$script</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc decodescript <span class="nv">$script</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'decodescript'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">script</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"asm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3045022100f0bde463404db0983e0f221bfa1b13edf1063a78e869295c9457864b122a622b02207d9d5df76ecac6289784201e9a918acb34510c2d65144bf8e4753a3413024e3201 022565ed0ff8f79ecf11e8f33b9fbba5606dbc0618813acd74603f9466e88fb8a8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NONSTANDARD"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reqSigs"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"p2sh"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2MyVRHsEpec67MkPLGr4NR2bT1ZFuzFGUoB"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Decodes script</p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>script</td>
<td>Required</td>
<td>Script hex</td>
</tr>
</tbody></table>
<h2 id='sendrawtransaction'>sendrawtransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">rawtx</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">rawtx</span><span class="o">=</span><span class="s1">'0100000002500310ff36beb6c3608230534ef995f7751b6f948aeea8d21d5cc9dd5023a2c4010000006b483045022100e7c71d397b687f9f30e6003ceedc4c50436fdb2329b7a8a36c9c6759077969d30220059f24e917260d3e601c77079d03c9e73d04fd85f625eaebfd14a1ff695a72230121020bc134c91f4ff068f3a970616fad577f949406c18849321a2f6d4df96fc56c77feffffffeffed95ded4f227fc6717f224e85e50348ce0198303a5418f157ade42828a1e3000000006b483045022100f0bde463404db0983e0f221bfa1b13edf1063a78e869295c9457864b122a622b02207d9d5df76ecac6289784201e9a918acb34510c2d65144bf8e4753a3413024e320121022565ed0ff8f79ecf11e8f33b9fbba5606dbc0618813acd74603f9466e88fb8a8feffffff02402305060000000017a9146a58967510cfd7e04987b245f73dbf62e8d3fdf8871e194f00000000001976a914132b05f47f2b1b56f26a78d3962e3acd0735f12d88ac00000000'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "sendrawtransaction",
    "params": [ "'</span><span class="nv">$rawtx</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc sendrawtransaction <span class="nv">$rawtx</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'sendrawtransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">rawtx</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"28d65fdaf5334ffd29066d7076f056bb112baa4bb0842f6eaa06171c277b4e8c"</span><span class="w">
</span></code></pre>
<p>Sends raw transaction without verification</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>rawtx</td>
<td>Required</td>
<td>Raw transaction hex</td>
</tr>
</tbody></table>
<h2 id='createrawtransaction'>createrawtransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">txindex</span><span class="p">,</span> <span class="nx">amount</span><span class="p">,</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">data</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'d1e1b6a8ff8c4d2ade2113a5dd250637e5f99667d36dcae9b70139516cb7052f'</span>;
<span class="nv">txindex</span><span class="o">=</span>1;
<span class="nv">amount</span><span class="o">=</span>1;

<span class="nv">address</span><span class="o">=</span><span class="s1">'RStiqGLWA3aSMrWDyJvur4287GQ81AtLh1'</span>;
<span class="nv">data</span><span class="o">=</span><span class="s1">''</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "createrawtransaction",
    "params": [
      [{ "txid": "'</span><span class="nv">$txhash</span><span class="s1">'", "vout": "'</span><span class="nv">$txindex</span><span class="s1">'" }],
      { "'</span><span class="nv">$address</span><span class="s1">'": "'</span><span class="nv">$amount</span><span class="s1">'", "data": "'</span><span class="nv">$data</span><span class="s1">'" }
    ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc createrawtransaction <span class="se">\</span>
  <span class="s1">'[{ "txid": "'</span><span class="nv">$txhash</span><span class="s1">'", "vout": "'</span><span class="nv">$txindex</span><span class="s1">'" }]'</span> <span class="se">\</span>
  <span class="s1">'{ "'</span><span class="nv">$address</span><span class="s1">'": "'</span><span class="nv">$amount</span><span class="s1">'", "data": "'</span><span class="nv">$data</span><span class="s1">'" }'</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'regtest'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">sendTo</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">data</span><span class="p">:</span> <span class="nx">data</span>
  <span class="p">};</span>

  <span class="nx">sendTo</span><span class="p">[</span><span class="nx">address</span><span class="p">]</span> <span class="o">=</span> <span class="nx">amount</span><span class="p">;</span>

  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'createrawtransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="p">[{</span> <span class="na">txid</span><span class="p">:</span> <span class="nx">txhash</span><span class="p">,</span> <span class="na">vout</span><span class="p">:</span> <span class="nx">txindex</span> <span class="p">}],</span> <span class="nx">sendTo</span><span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"01000000012f05b76c513901b7e9ca6dd36796f9e5370625dda51321de2a4d8cffa8b6e1d10100000000ffffffff0200e1f505000000001976a914c1325e8fb60bd71d23532c39b4c9e743a2cc764988ac0000000000000000026a0000000000"</span><span class="w">
</span></code></pre>
<aside class="info">
Note: Transaction in example doesn't specify change output,
you can do it by specifying another <code>address: amount</code> pair.
</aside>

<p>Creates raw, unsigned transaction without any formal verification.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>outpoints</td>
<td>Required</td>
<td>Outpoint list</td>
</tr>
<tr>
<td>1.1</td>
<td>txid</td>
<td></td>
<td>Transaction Hash</td>
</tr>
<tr>
<td>1.2</td>
<td>vout</td>
<td></td>
<td>Transaction Outpoint Index</td>
</tr>
<tr>
<td>1.3</td>
<td>sequence</td>
<td></td>
<td>Sequence number for input</td>
</tr>
<tr>
<td>2</td>
<td>sendto</td>
<td>Required</td>
<td>List of addresses with amounts that we are sending to.</td>
</tr>
<tr>
<td>2.1</td>
<td>address</td>
<td>0</td>
<td><code>address: amount</code> key pairs</td>
</tr>
<tr>
<td>2.2</td>
<td>data</td>
<td>nullData</td>
<td>Data output</td>
</tr>
<tr>
<td>3</td>
<td>locktime</td>
<td></td>
<td>earliest time a transaction can be added</td>
</tr>
</tbody></table>
<h2 id='signrawtransaction'>signrawtransaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">rawtx</span><span class="p">,</span> <span class="nx">txhash</span><span class="p">,</span> <span class="nx">txindex</span><span class="p">,</span> <span class="nx">scriptPubKey</span><span class="p">,</span> <span class="nx">amount</span><span class="p">,</span> <span class="nx">privkey</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">rawtx</span><span class="o">=</span><span class="s1">'01000000012f05b76c513901b7e9ca6dd36796f9e5370625dda51321de2a4d8cffa8b6e1d10100000000ffffffff020000000000000000026a0000e1f505000000001976a914c1325e8fb60bd71d23532c39b4c9e743a2cc764988ac00000000'</span>;
<span class="nv">txhash</span><span class="o">=</span><span class="s1">'d1e1b6a8ff8c4d2ade2113a5dd250637e5f99667d36dcae9b70139516cb7052f'</span>;
<span class="nv">txindex</span><span class="o">=</span>1;
<span class="nv">scriptPubKey</span><span class="o">=</span><span class="s1">'76a9146efd5e2fda72ae2e37f8fb8cde83fbc8025fc96e88ac'</span>;
<span class="nv">amount</span><span class="o">=</span>1;

<span class="nv">privkey</span><span class="o">=</span><span class="s1">'ET4VkeCoHmtKtoWJKco5PBSaVkqsVwqSbsqhneqN4Uo5yaTMxRmV'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "signrawtransaction",
    "params": [
      "'</span><span class="nv">$rawtx</span><span class="s1">'",
      [{
        "txid": "'</span><span class="nv">$txhash</span><span class="s1">'",
        "vout": "'</span><span class="nv">$txindex</span><span class="s1">'",
        "scriptPubKey": "'</span><span class="nv">$scriptPubKey</span><span class="s1">'",
        "amount": "'</span><span class="nv">$amount</span><span class="s1">'"
      }],
      [ "'</span><span class="nv">$privkey</span><span class="s1">'" ]
    ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc signrawtransaction <span class="nv">$rawtx</span> <span class="se">\</span>
  <span class="s1">'[{ "txid": "'</span><span class="nv">$txhash</span><span class="s1">'", "vout": "'</span><span class="nv">$txindex</span><span class="s1">'", "scriptPubKey": "'</span><span class="nv">$scriptPubKey</span><span class="s1">'", "amount": "'</span><span class="nv">$amount</span><span class="s1">'" }]'</span> <span class="se">\</span>
  <span class="s1">'[ "'</span><span class="nv">$privkey</span><span class="s1">'" ]'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'regtest'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'signrawtransaction'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">rawtx</span><span class="p">,</span>
    <span class="p">[{</span>
      <span class="na">txid</span><span class="p">:</span> <span class="nx">txhash</span><span class="p">,</span>
      <span class="na">vout</span><span class="p">:</span> <span class="nx">txindex</span><span class="p">,</span>
      <span class="na">scriptPubKey</span><span class="p">:</span> <span class="nx">scriptPubKey</span><span class="p">,</span>
      <span class="na">amount</span><span class="p">:</span> <span class="nx">amount</span>
    <span class="p">}],</span>
    <span class="p">[</span> <span class="nx">privkey</span> <span class="p">]</span>
  <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01000000012f05b76c513901b7e9ca6dd36796f9e5370625dda51321de2a4d8cffa8b6e1d1010000006b48304502210094252b4db106def63264668717c5ad66e2804c5e1b390c6240e82515fb0c12690220708430b14ceb0a15308e665de21cb3eb9e6cd9e4571e110fbfddf65ef702cd990121035ef2bf6d09a343c4c0be6fb5b489b217c00f477a9878b60ca3ceca4c2b052c3cffffffff020000000000000000026a0000e1f505000000001976a914c1325e8fb60bd71d23532c39b4c9e743a2cc764988ac00000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Signs raw transaction</p>
<h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>rawtx</td>
<td>Required</td>
<td>raw tx</td>
</tr>
<tr>
<td>2</td>
<td>inputs</td>
<td>Required</td>
<td>Coins you&#39;re going to spend</td>
</tr>
<tr>
<td>2.1</td>
<td>txid</td>
<td></td>
<td>Transaction Hash</td>
</tr>
<tr>
<td>2.2</td>
<td>vout</td>
<td></td>
<td>Transaction Outpoint Index</td>
</tr>
<tr>
<td>2.3</td>
<td>scriptPubKey</td>
<td></td>
<td>script with pubkey you are going to sign</td>
</tr>
<tr>
<td>2.4</td>
<td>redeemScript</td>
<td></td>
<td>redeemScript if tx is P2SH</td>
</tr>
<tr>
<td>3</td>
<td>privkeylist</td>
<td></td>
<td>List of private keys</td>
</tr>
<tr>
<td>4</td>
<td>sighashtype</td>
<td></td>
<td>Type of signature hash</td>
</tr>
</tbody></table>
<h2 id='gettxoutproof'>gettxoutproof</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'c75f8c12c6d0d1a16d7361b724898968c71de0335993ee589f82fda8ac482bfc'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "gettxoutproof",
    "params": [ "'</span><span class="nv">$txhash</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc gettxoutproof <span class="nv">$txhash</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'gettxoutproof'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">txhash</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="s2">"000000208c13da491196839dd019c4ae0564f351502a4951e11b4302454b020000000000f1788fd057d657150b12e5638c7348fb55fdcda4ff4ddb1d1503de3576de6a4cbe22db58f0ec091b918981c50200000001f1788fd057d657150b12e5638c7348fb55fdcda4ff4ddb1d1503de3576de6a4c0100"</span><span class="w">
</span></code></pre>
<p>Checks if transactions are within block.
Returns raw block.</p>
<h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>txidlist</td>
<td>Required</td>
<td>array of transaction hashes</td>
</tr>
<tr>
<td>2</td>
<td>blockhash</td>
<td>Based on TX</td>
<td>Block hash</td>
</tr>
</tbody></table>
<h2 id='verifytxoutproof'>verifytxoutproof</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">proof</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">proof</span><span class="o">=</span><span class="s1">'000000208c13da491196839dd019c4ae0564f351502a4951e11b4302454b020000000000f1788fd057d657150b12e5638c7348fb55fdcda4ff4ddb1d1503de3576de6a4cbe22db58f0ec091b918981c50200000001f1788fd057d657150b12e5638c7348fb55fdcda4ff4ddb1d1503de3576de6a4c0100'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "verifytxoutproof",
    "params": [ "'</span><span class="nv">$proof</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc verifytxoutproof <span class="nv">$proof</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'verifytxoutproof'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">proof</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[]</span><span class="w">
</span></code></pre>
<p>Checks the proof for transaction inclusion.</p>
<h3 id='params-10'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>proof</td>
<td>Required</td>
<td>Proof of transaction inclusion.</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-mining'>RPC Calls - Mining</h1><h2 id='getnetworkhashps'>getnetworkhashps</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blocks</span><span class="p">,</span> <span class="nx">height</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blocks</span><span class="o">=</span>120;
<span class="nv">height</span><span class="o">=</span>1000000;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getnetworkhashps",
    "params": [ "'</span><span class="nv">$blocks</span><span class="s1">'", "'</span><span class="nv">$height</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getnetworkhashps <span class="nv">$blocks</span> <span class="nv">$height</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getnetworkhashps'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blocks</span><span class="p">,</span> <span class="nx">height</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mf">453742051556.55084</span><span class="w">
</span></code></pre>
<p>Returns the estimated current or historical network hashes per second, based on last <code>blocks</code>.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blocks</td>
<td>120</td>
<td>Number of blocks to lookup.</td>
</tr>
<tr>
<td>2</td>
<td>height</td>
<td>1</td>
<td>Starting height for calculations.</td>
</tr>
</tbody></table>
<h2 id='getmininginfo'>getmininginfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getmininginfo",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getmininginfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getmininginfo'</span><span class="p">,</span> <span class="p">[]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"blocks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1178789</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currentblocksize"</span><span class="p">:</span><span class="w"> </span><span class="mi">11895</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currentblockweight"</span><span class="p">:</span><span class="w"> </span><span class="mi">47580</span><span class="p">,</span><span class="w">
  </span><span class="s2">"currentblocktx"</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="p">:</span><span class="w"> </span><span class="mi">1048576</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"genproclimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"networkhashps"</span><span class="p">:</span><span class="w"> </span><span class="mf">10880012194348.812</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pooledtx"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w">
  </span><span class="s2">"testnet"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"chain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"generate"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Returns mining info.</p>

<p><em>Note: currentblocksize, currentblockweight, currentblocktx, difficulty are returned when there&#39;s active work.</em>
<em>generate - is true when <code>bcoin</code> itself is mining.</em></p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getwork'>getwork</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getwork",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getwork
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getwork'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000000082c18ff1d76f61dccbf37d5eca24d252c009af5f622ce08700000580000000009f447a03a1df9ae8f1ee24f0cf5ab69f1b321071f0e57344f2c61b922c12b8335994bdb51a0ffff000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000080020000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000f0ff0f000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1178782</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns hashing work to be solved by miner.
Or submits solved block.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>data</td>
<td></td>
<td>Data to be submitted to the network.</td>
</tr>
</tbody></table>
<h2 id='getworklp'>getworklp</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getworklp",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Because there is a request timeout set on CLI http requests</span>
<span class="c"># without manually adjusting the timeout, this call will timeout before the request is complete</span>
bcoin cli rpc getworklp
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="c1">// Because there is a request timeout set on CLI http requests</span>
<span class="c1">// without manually adjusting the timeout, this call will timeout before the request is complete</span>
<span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getworklp'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000000082c18ff1d76f61dccbf37d5eca24d252c009af5f622ce08700000580000000009f447a03a1df9ae8f1ee24f0cf5ab69f1b321071f0e57344f2c61b922c12b8335994bdb51a0ffff000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000080020000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000000000000000000000000000000000000f0ff0f000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1178782</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Long polling for new work.</p>

<p>Returns new work, whenever new TX is received in the mempool or
new block has been discovered. So miner can restart mining on new data.</p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getblocktemplate'>getblocktemplate</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getblocktemplate",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getblocktemplate
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getblocktemplate'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"proposal"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"mutable"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transactions"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"prevblock"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">536870912</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rules"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"csv"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"!segwit"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"vbavailable"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
  </span><span class="s2">"vbrequired"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1178933</span><span class="p">,</span><span class="w">
  </span><span class="s2">"previousblockhash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000e19ff0c98e7d99987071a791c47338f71389342f7457eeb8695"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000ffff00000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1a0ffff0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"noncerange"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000ffffffff"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"curtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502974969</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mintime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502974260</span><span class="p">,</span><span class="w">
  </span><span class="s2">"maxtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502982169</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires"</span><span class="p">:</span><span class="w"> </span><span class="mi">1502982169</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sigoplimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">80000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sizelimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"weightlimit"</span><span class="p">:</span><span class="w"> </span><span class="mi">4000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"longpollid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000000e19ff0c98e7d99987071a791c47338f71389342f7457eeb86950000000018"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"submitold"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coinbaseaux"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"flags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62636f696e206d6163626f6f6b"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"coinbasevalue"</span><span class="p">:</span><span class="w"> </span><span class="mi">156465644</span><span class="p">,</span><span class="w">
  </span><span class="s2">"default_witness_commitment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a24aa21a9edc9f8a77e851392ce58c6b5c64fafbebd76e92c03a198d1e2c942d71fe05c7bc4"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transactions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"010000000194a1dd786bc486412dd4125c90eeac0550131b7ffee190d3c8bce92007dfe682000000006b483045022100e2ee65fcdb3c005e430c279e759764937e70993c3a97c21b8580b16146766cdc022044cbb4a09ce4ed4f9c6be14befb6fbccd7819814073f33220e076ced7b103fca01210396e891cf6f1e71e1a266abd3c1e990331da6dc2d3b41e53c6e991f66262f2f32ffffffff022aee0500000000001976a914a21138d3322b67910f66f676396ea432faee34cb88aca0860100000000001976a91494178f0b288078717873b4228e2aad27b91a492188ac00000000"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"809c3d8fb6524acc4ffcaeb2a97ccb1c4c1124ccc5034745ba6ac43f8d4d63c9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"809c3d8fb6524acc4ffcaeb2a97ccb1c4c1124ccc5034745ba6ac43f8d4d63c9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"depends"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">11350</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sigops"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
      </span><span class="s2">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">904</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>returns block template or proposal for use with mining.
Also validates proposal if <code>mode</code> is specified as <code>proposal</code>.</p>

<p><em>Note: This is described in
<a href="https://github.com/bitcoin/bips/blob/master/bip-0022.mediawiki">BIP22 - Fundamentals</a>,
<a href="https://github.com/bitcoin/bips/blob/master/bip-0023.mediawiki">BIP23 - Pooled Mining</a>,
<a href="https://github.com/bitcoin/bips/blob/master/bip-0145.mediawiki">BIP145 - Updates for Segregated Witness</a></em></p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>jsonrequestobject</td>
<td>{}</td>
<td>JSONRequestObject.</td>
</tr>
</tbody></table>
<h2 id='submitblock'>submitblock</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockdata</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockdata</span><span class="o">=</span><span class="s1">'0100000082d6e6bf4ed6c5b989705920effd072fe6b7119ea5b8c8fa6d0bf5c70000000071959f90386cdc263655d36033817a6f69cbc2d99fc56cc81f893b9787907a4fcfc94a4dffff001d000f90930901000000010000000000000000000000000000000000000000000000000000000000000000ffffffff163337346bde777ade327922b5deef5fb7f88e98cecb22ffffffff01800c0c2a0100000023210207a8b8758b4886d85b7f94fbd9cacb3452c5e643dc3188a1dbea8d1a1dd4bbc3ac0000000001000000017c9665a50c9bcc8c359c58ffd511d8cfe122b440cdb6ad864a43f1644eb31fe6000000006b48304502201569b4872c3639811ab467ec559416c1006d257a5d6fea103a41a408dd8a5682022100c1a3c90cbd148a4ca69189c88d059e2af8268807982d89b76725d38f65494f5201210394afa526e43a0e03f5aaa2a55312f6c25a9b5fedd66e7f4e4847af79d517c5f5ffffffff02bc80b01f010000001976a91451513561deaa318f4a3ad2bfccc889225499194388ac359a0300000000001976a914bc0f9f5fc9dc55323d52a9e354b5fb67cecd389788ac0000000001000000035f836b328d40944483c39c90cb4dfd3d9b83f96d71586b3230118629fb7893f7000000006a473044022076232b5d3b8372da7e0a5b58614676b6ad77debf0ed75a5996f9b91642326059022037e2ee19b56916465e9c76e7e1d558a64738e7444649144bf7e19143423aee1401210281392a2cd37ac1108b8bc0f647784f66017fd837379e6fc2109f1793f5dccfdbffffffff58bd81fd34d42c015ac22537440c49450453e8284b717667c418ed7dc3693579000000006b48304502200352ee3028c8c4ff14574e71837a2e68b1c285dd57b993e19d9b24728161409f022100d7cd062e64e57200bf1ffa0fbd41726a67cfe547849b0fcfe72556fb42596d630121039bd575a5913e93d227afa8e65c5c37954688e53e069980e4790aba8652d9d557ffffffff8a64fa7fb31eff45e2145ba1d09a4ac627e259d14a3b9154c510d44c9954f3c1000000006a473044022044e97e0e287472385c60c68f4e16a73e3e6d7fcb1bc3700fa7c36c4fb653e1cb022034c624487aedb8bc3c86b02d0338b10922fa1c6c8fd8c39eaf64564d62289fe101210370410acad1e5601c9e8e8968ccf648daab3902744091c19b29a17c8e2cf92132ffffffff0268911d00000000001976a91480cac4151b3a9ceffaee95018f0ca3d202a71b2c88ac334f1000000000001976a914cd4529e867a0b96d43e358998387b06fc3e06e8c88ac0000000001000000015f836b328d40944483c39c90cb4dfd3d9b83f96d71586b3230118629fb7893f701000000fd3301347b3d4a6f10829e9c617770a52f2334a434677a08ac775c968b3097b1353d1e1a10b53099a2003c7cb03a5152690e687e191a990048304502201613b0ce320ccc1d206a03f67fecf6d1b31fdd23e51923a821fda745c23cd4db022100854bdd81256edfac75ac7dc9d0b073118b5879f50b26021eeffa4d126f39cf7301493046022100bce73cabbb1d4bca0ee33b241bc526cbb6c17f219057a58993738d614c898e0f022100b9aa31160b3bc6e2bf2e33240ea8543a9f54551b78c7cb268e72a3cee45cc5a3014c69522102ca2a810ab17249b6033a038de563983881b4069270183f3c0aba945653e442162103f480f1b648d0d5167804ad4d586e0e757cc33fde0e133fd036e45d60d2db59e12103c18131d8de99d45fb72a774cab0ccc258cd2abd9605610da20b9a232c88a3cb653aeffffffff025e310100000000001976a91445c502d496058c41721e06c6ebd5a8580dd66d8488ac78940100000000001976a914bc0f9f5fc9dc55323d52a9e354b5fb67cecd389788ac000000000100000001e667afd60a5c5e3190ac4d4ec2ca3a2ac96ae5ec4fdb161ecf8db06bf22e1fc6000000006b483045022100a0cc8f57d5a171aa4a5d3c963640039e11c5dac38820eb90c284eb360326041d02202917e30b20178f9c4464d44f956aa8105b83b24f4a0f011ca380b35f31c6bcf20121029e6f1aaf22a7114a000627eba8b2990c86136e7fab46dffccf1a33a505d039f6ffffffff024c79a81f010000001976a914a196eec6c686089ffcc8a9d4077643ede546535088ac204407000000000017a914184cd0a38ac3b1357d07179553788375a9e8a3b887000000000100000001c054bdbfe97e3997a0858d4578f69e50b018cd2cd966c9339c10030a9e43cc90000000006a47304402201feccc650991032dc98ed330aaa68840feac3e0ae568d674ebc480d8f810eedf02205b06d5dce842cb5f684fb6816d61425d5533cc73b05cbdf2a1552699da98f97d01210391af1358729c7ea974cf76e43a125158687550610108791a1563be587e48bf9affffffff02a194a41f010000001976a914bdfa420798058a37dd0c37ba1d38f103a793649c88ac5b210300000000001976a914edb1dfaf6e0b39449da811275386edf2eb54baba88ac0000000001000000019cf0d401fba9272613dc9e06d64cd1ccb7596acb37b46f10f811d76f46f7671d000000006b48304502202599390550a38555ae661be940716ac669c7493e34216a71ca86d069636d6e3a022100ae406057ec3f60f9e3410360facf1bd1f59b1e4cc27a2b4ba67e325658319b390121032165eff60895ce9b519aa327adc44e4867b3aa5998d8bdb0e277da3fa67873a3ffffffff024e55991f010000001976a9149c5c9a7c09d843b451eaa0c7cbf866623405babf88ac037c0a000000000017a914a4b7adff15fec83376d5e4468afeed627abe1ed88700000000010000000180b35d06ed071cf7ad57b1f87f5ae21c29f47b9740f998414d79cdb4f5502440000000006c4930460221009014b9cb28077036096492e8c0a46bd8aa6d43758fc211817d22e0401db5a0300221008c23434e440108b2d0dce98a0647bab603e8e876467ecb339201473054ff80650121023cf5ef93ca567172647fad0e3b1cb0456cbfad88e4f65e286471ed93fba66a10ffffffff024a2e8c1f010000001976a914bc7aad9746a0bc03ed9715f13c94e554df90b84688acb4630c00000000001976a914bc0f9f5fc9dc55323d52a9e354b5fb67cecd389788ac000000000100000001c702cde8b6a003a898cb437177a2c6af0da0f13f04fce6d52731394dd2a57301000000006c493046022100be75ae6dbf9eab7656562136511501c83918ca28c5f96565ca1960b3dbb581b6022100d15692af456e8721fddeeb0d6df5d8a147afd8a3b2a39bbceae9b1bdfd53ade20121038e297cf2cf71c16592c36ca48f5b2a5bbb73e776e772079f4c695b12eec1a509ffffffff023b37871f010000001976a914682215dfa6912d88f55a1853414d516122fcc66988acbf330400000000001976a914edb1dfaf6e0b39449da811275386edf2eb54baba88ac00000000'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code><span class="c"># Block data is old, so it should return error</span>
curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "submitblock",
    "params": [ "'</span><span class="nv">$blockdata</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Block data is old, so it should return error</span>
bcoin cli rpc submitblock <span class="nv">$blockdata</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Block data is old, so it should return error</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'submitblock'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockdata</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>Adds block to chain.</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockdata</td>
<td>Required.</td>
<td>Mined block data (hex)</td>
</tr>
</tbody></table>
<h2 id='verifyblock'>verifyblock</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">blockdata</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">blockdata</span><span class="o">=</span><span class="s1">'0100000082d6e6bf4ed6c5b989705920effd072fe6b7119ea5b8c8fa6d0bf5c70000000071959f90386cdc263655d36033817a6f69cbc2d99fc56cc81f893b9787907a4fcfc94a4dffff001d000f90930901000000010000000000000000000000000000000000000000000000000000000000000000ffffffff163337346bde777ade327922b5deef5fb7f88e98cecb22ffffffff01800c0c2a0100000023210207a8b8758b4886d85b7f94fbd9cacb3452c5e643dc3188a1dbea8d1a1dd4bbc3ac0000000001000000017c9665a50c9bcc8c359c58ffd511d8cfe122b440cdb6ad864a43f1644eb31fe6000000006b48304502201569b4872c3639811ab467ec559416c1006d257a5d6fea103a41a408dd8a5682022100c1a3c90cbd148a4ca69189c88d059e2af8268807982d89b76725d38f65494f5201210394afa526e43a0e03f5aaa2a55312f6c25a9b5fedd66e7f4e4847af79d517c5f5ffffffff02bc80b01f010000001976a91451513561deaa318f4a3ad2bfccc889225499194388ac359a0300000000001976a914bc0f9f5fc9dc55323d52a9e354b5fb67cecd389788ac0000000001000000035f836b328d40944483c39c90cb4dfd3d9b83f96d71586b3230118629fb7893f7000000006a473044022076232b5d3b8372da7e0a5b58614676b6ad77debf0ed75a5996f9b91642326059022037e2ee19b56916465e9c76e7e1d558a64738e7444649144bf7e19143423aee1401210281392a2cd37ac1108b8bc0f647784f66017fd837379e6fc2109f1793f5dccfdbffffffff58bd81fd34d42c015ac22537440c49450453e8284b717667c418ed7dc3693579000000006b48304502200352ee3028c8c4ff14574e71837a2e68b1c285dd57b993e19d9b24728161409f022100d7cd062e64e57200bf1ffa0fbd41726a67cfe547849b0fcfe72556fb42596d630121039bd575a5913e93d227afa8e65c5c37954688e53e069980e4790aba8652d9d557ffffffff8a64fa7fb31eff45e2145ba1d09a4ac627e259d14a3b9154c510d44c9954f3c1000000006a473044022044e97e0e287472385c60c68f4e16a73e3e6d7fcb1bc3700fa7c36c4fb653e1cb022034c624487aedb8bc3c86b02d0338b10922fa1c6c8fd8c39eaf64564d62289fe101210370410acad1e5601c9e8e8968ccf648daab3902744091c19b29a17c8e2cf92132ffffffff0268911d00000000001976a91480cac4151b3a9ceffaee95018f0ca3d202a71b2c88ac334f1000000000001976a914cd4529e867a0b96d43e358998387b06fc3e06e8c88ac0000000001000000015f836b328d40944483c39c90cb4dfd3d9b83f96d71586b3230118629fb7893f701000000fd3301347b3d4a6f10829e9c617770a52f2334a434677a08ac775c968b3097b1353d1e1a10b53099a2003c7cb03a5152690e687e191a990048304502201613b0ce320ccc1d206a03f67fecf6d1b31fdd23e51923a821fda745c23cd4db022100854bdd81256edfac75ac7dc9d0b073118b5879f50b26021eeffa4d126f39cf7301493046022100bce73cabbb1d4bca0ee33b241bc526cbb6c17f219057a58993738d614c898e0f022100b9aa31160b3bc6e2bf2e33240ea8543a9f54551b78c7cb268e72a3cee45cc5a3014c69522102ca2a810ab17249b6033a038de563983881b4069270183f3c0aba945653e442162103f480f1b648d0d5167804ad4d586e0e757cc33fde0e133fd036e45d60d2db59e12103c18131d8de99d45fb72a774cab0ccc258cd2abd9605610da20b9a232c88a3cb653aeffffffff025e310100000000001976a91445c502d496058c41721e06c6ebd5a8580dd66d8488ac78940100000000001976a914bc0f9f5fc9dc55323d52a9e354b5fb67cecd389788ac000000000100000001e667afd60a5c5e3190ac4d4ec2ca3a2ac96ae5ec4fdb161ecf8db06bf22e1fc6000000006b483045022100a0cc8f57d5a171aa4a5d3c963640039e11c5dac38820eb90c284eb360326041d02202917e30b20178f9c4464d44f956aa8105b83b24f4a0f011ca380b35f31c6bcf20121029e6f1aaf22a7114a000627eba8b2990c86136e7fab46dffccf1a33a505d039f6ffffffff024c79a81f010000001976a914a196eec6c686089ffcc8a9d4077643ede546535088ac204407000000000017a914184cd0a38ac3b1357d07179553788375a9e8a3b887000000000100000001c054bdbfe97e3997a0858d4578f69e50b018cd2cd966c9339c10030a9e43cc90000000006a47304402201feccc650991032dc98ed330aaa68840feac3e0ae568d674ebc480d8f810eedf02205b06d5dce842cb5f684fb6816d61425d5533cc73b05cbdf2a1552699da98f97d01210391af1358729c7ea974cf76e43a125158687550610108791a1563be587e48bf9affffffff02a194a41f010000001976a914bdfa420798058a37dd0c37ba1d38f103a793649c88ac5b210300000000001976a914edb1dfaf6e0b39449da811275386edf2eb54baba88ac0000000001000000019cf0d401fba9272613dc9e06d64cd1ccb7596acb37b46f10f811d76f46f7671d000000006b48304502202599390550a38555ae661be940716ac669c7493e34216a71ca86d069636d6e3a022100ae406057ec3f60f9e3410360facf1bd1f59b1e4cc27a2b4ba67e325658319b390121032165eff60895ce9b519aa327adc44e4867b3aa5998d8bdb0e277da3fa67873a3ffffffff024e55991f010000001976a9149c5c9a7c09d843b451eaa0c7cbf866623405babf88ac037c0a000000000017a914a4b7adff15fec83376d5e4468afeed627abe1ed88700000000010000000180b35d06ed071cf7ad57b1f87f5ae21c29f47b9740f998414d79cdb4f5502440000000006c4930460221009014b9cb28077036096492e8c0a46bd8aa6d43758fc211817d22e0401db5a0300221008c23434e440108b2d0dce98a0647bab603e8e876467ecb339201473054ff80650121023cf5ef93ca567172647fad0e3b1cb0456cbfad88e4f65e286471ed93fba66a10ffffffff024a2e8c1f010000001976a914bc7aad9746a0bc03ed9715f13c94e554df90b84688acb4630c00000000001976a914bc0f9f5fc9dc55323d52a9e354b5fb67cecd389788ac000000000100000001c702cde8b6a003a898cb437177a2c6af0da0f13f04fce6d52731394dd2a57301000000006c493046022100be75ae6dbf9eab7656562136511501c83918ca28c5f96565ca1960b3dbb581b6022100d15692af456e8721fddeeb0d6df5d8a147afd8a3b2a39bbceae9b1bdfd53ade20121038e297cf2cf71c16592c36ca48f5b2a5bbb73e776e772079f4c695b12eec1a509ffffffff023b37871f010000001976a914682215dfa6912d88f55a1853414d516122fcc66988acbf330400000000001976a914edb1dfaf6e0b39449da811275386edf2eb54baba88ac00000000'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code><span class="c"># Block data is old, so it should return error</span>
curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "verifyblock",
    "params": [ "'</span><span class="nv">$blockdata</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Block data is old, so it should return error</span>
bcoin cli rpc verifyblock <span class="nv">$blockdata</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Block data is old, so it should return error</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'verifyblock'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">blockdata</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<p>Verifies the block data.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>blockdata</td>
<td>Required.</td>
<td>Mined block data (hex)</td>
</tr>
</tbody></table>
<h2 id='setgenerate'>setgenerate</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">mining</span><span class="p">,</span> <span class="nx">proclimit</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">mining</span><span class="o">=</span>1;
<span class="nv">proclimit</span><span class="o">=</span>1;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "setgenerate",
    "params": [ "'</span><span class="nv">$mining</span><span class="s1">'", "'</span><span class="nv">$proclimit</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc setgenerate <span class="nv">$mining</span> <span class="nv">$proclimit</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'setgenerate'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">mining</span><span class="p">,</span> <span class="nx">proclimit</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="w">
</span></code></pre>
<p>Will start the mining on CPU.</p>
<h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>mining</td>
<td>0</td>
<td><code>true</code> will start mining, <code>false</code> will stop.</td>
</tr>
<tr>
<td>2</td>
<td>proclimit</td>
<td>0</td>
<td></td>
</tr>
</tbody></table>
<h2 id='getgenerate'>getgenerate</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getgenerate",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getgenerate
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getgenerate'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">true</span><span class="w">
</span></code></pre>
<p>Returns status of mining on Node.</p>
<h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<p>None.</p>
<h2 id='generate'>generate</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">numblocks</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">numblocks</span><span class="o">=</span>2;
</code></pre><pre class="highlight shell tab-shell--curl"><code><span class="c"># Will return once all blocks are mined.</span>
curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "generate",
    "params": [ "'</span><span class="nv">$numblocks</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Timeout error</span>
bcoin cli rpc generate <span class="nv">$numblocks</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Timeout error</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'generate'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">numblocks</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"0aac2269ce67d5bda3743b1a179a7824f17b3b6df011befd7bd224cb958bd4ec"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"0871f1a42279397b7508c75e142b903a945a19af08c6de6970e266255d10f08f"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Mines <code>numblocks</code> number of blocks.</p>
<h3 id='params-10'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>numblocks</td>
<td>1</td>
<td>Number of blocks to mine.</td>
</tr>
<tr>
<td>2</td>
<td>maxtries</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='generatetoaddress'>generatetoaddress</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">numblocks</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">numblocks</span><span class="o">=</span>2;
<span class="nv">address</span><span class="o">=</span><span class="s1">'RTZJdYScA7uGb5pbQPEczpDmq9HiYLv2fJ'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code><span class="c"># Will return once all blocks are mined.</span>
curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "generatetoaddress",
    "params": [ "'</span><span class="nv">$numblocks</span><span class="s1">'", "'</span><span class="nv">$address</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Timeout error</span>
bcoin cli rpc generatetoaddress <span class="nv">$numblocks</span> <span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Timeout error</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'generatetoaddress'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">numblocks</span><span class="p">,</span> <span class="nx">address</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"0aac2269ce67d5bda3743b1a179a7824f17b3b6df011befd7bd224cb958bd4ec"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"0871f1a42279397b7508c75e142b903a945a19af08c6de6970e266255d10f08f"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Mines <code>blocknumber</code> blocks, with <code>address</code> as coinbase.</p>
<h3 id='params-11'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>numblocks</td>
<td>1</td>
<td>Number of blocks to mine.</td>
</tr>
<tr>
<td>2</td>
<td>address</td>
<td></td>
<td>Coinbase address for new blocks.</td>
</tr>
</tbody></table>
<h1 id='rpc-calls-network'>RPC Calls - Network</h1><h2 id='getconnectioncount'>getconnectioncount</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getconnectioncount",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getconnectioncount
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getconnectioncount'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="mi">8</span><span class="w">
</span></code></pre>
<p>Returns connection count.</p>
<h3 id='params'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='ping'>ping</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "ping",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc ping
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'ping'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Will send ping request to every connected peer.</p>
<h3 id='params-2'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getpeerinfo'>getpeerinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getpeerinfo",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getpeerinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getpeerinfo'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"addr"</span><span class="p">:</span><span class="w"> </span><span class="s2">"198.51.100.82:18333"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"addrlocal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"203.0.113.114:60760"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"services"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000d"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"relaytxes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastsend"</span><span class="p">:</span><span class="w"> </span><span class="mi">1503257171</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lastrecv"</span><span class="p">:</span><span class="w"> </span><span class="mi">1503257171</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bytessent"</span><span class="p">:</span><span class="w"> </span><span class="mi">1962</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bytesrecv"</span><span class="p">:</span><span class="w"> </span><span class="mi">32499</span><span class="p">,</span><span class="w">
    </span><span class="s2">"conntime"</span><span class="p">:</span><span class="w"> </span><span class="mi">121</span><span class="p">,</span><span class="w">
    </span><span class="s2">"timeoffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"pingtime"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.143</span><span class="p">,</span><span class="w">
    </span><span class="s2">"minping"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.143</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">70015</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Satoshi:0.14.1/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inbound"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"startingheight"</span><span class="p">:</span><span class="w"> </span><span class="mi">1179570</span><span class="p">,</span><span class="w">
    </span><span class="s2">"besthash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bestheight"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"banscore"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inflight"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
    </span><span class="s2">"whitelisted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns information about all connected peers.</p>
<h3 id='params-3'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='addnode'>addnode</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nodeAddr</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nodeAddr</span><span class="o">=</span><span class="s1">'198.51.100.82:18333'</span>;
<span class="nv">cmd</span><span class="o">=</span><span class="s1">'add'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "addnode",
    "params": [ "'</span><span class="nv">$nodeAddr</span><span class="s1">'", "'</span><span class="nv">$cmd</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc addnode <span class="nv">$nodeAddr</span> <span class="nv">$cmd</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'addnode'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nodeAddr</span><span class="p">,</span> <span class="nx">cmd</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Adds or removes peers in Host List.</p>
<h3 id='params-4'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>addr</td>
<td>Required</td>
<td>IP Address of the Node.</td>
</tr>
<tr>
<td>2</td>
<td>cmd</td>
<td>Required</td>
<td>Command</td>
</tr>
</tbody></table>
<h3 id='commands'>Commands</h3>
<table><thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>add</td>
<td>Adds node to Host List and connects to it</td>
</tr>
<tr>
<td>onetry</td>
<td>Tries to connect to the given node</td>
</tr>
<tr>
<td>remove</td>
<td>Removes node from host list</td>
</tr>
</tbody></table>
<h2 id='disconnectnode'>disconnectnode</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nodeAddr</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nodeAddr</span><span class="o">=</span><span class="s1">'198.51.100.82:18333'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "disconnectnode",
    "params": [ "'</span><span class="nv">$nodeAddr</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc disconnectnode <span class="nv">$nodeAddr</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'disconnectnode'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nodeAddr</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Disconnects node.</p>
<h3 id='params-5'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>addr</td>
<td>Required</td>
<td>IP Address of the Node.</td>
</tr>
</tbody></table>
<h2 id='getaddednodeinfo'>getaddednodeinfo</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nodeAddr</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nodeAddr</span><span class="o">=</span><span class="s1">'198.51.100.82:18333'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getaddednodeinfo",
    "params": [ "'</span><span class="nv">$nodeAddr</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getaddednodeinfo <span class="nv">$nodeAddr</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getaddednodeinfo'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nodeAddr</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"addednode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"198.51.100.82:18333"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"connected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"198.51.100.82:18333"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"connected"</span><span class="p">:</span><span class="w"> </span><span class="s2">"outbound"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns node information from host list.</p>
<h3 id='params-6'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>addr</td>
<td>Required</td>
<td>IP Address of the Node.</td>
</tr>
</tbody></table>
<h2 id='getnettotals'>getnettotals</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getnettotals",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getnettotals
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getnettotals'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"totalbytesrecv"</span><span class="p">:</span><span class="w"> </span><span class="mi">370598</span><span class="p">,</span><span class="w">
  </span><span class="s2">"totalbytessent"</span><span class="p">:</span><span class="w"> </span><span class="mi">110058</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timemillis"</span><span class="p">:</span><span class="w"> </span><span class="mi">1503262547279</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns information about used network resources.</p>
<h3 id='params-7'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='getnetworkinfo'>getnetworkinfo</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "getnetworkinfo",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc getnetworkinfo
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'getnetworkinfo'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1.0.0-beta.14"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"subversion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/bcoin:v1.0.0-beta.14/"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"protocolversion"</span><span class="p">:</span><span class="w"> </span><span class="mi">70015</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localservices"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000009"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localrelay"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timeoffset"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"networkactive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"connections"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"networks"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"relayfee"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.00001</span><span class="p">,</span><span class="w">
  </span><span class="s2">"incrementalfee"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"localaddresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"203.0.113.114"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">18333</span><span class="p">,</span><span class="w">
      </span><span class="s2">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"warnings"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Returns local node&#39;s network information</p>
<h3 id='params-8'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='setban'>setban</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">nodeAddr</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">nodeAddr</span><span class="o">=</span><span class="s1">'198.51.100.82:18333'</span>;
<span class="nv">cmd</span><span class="o">=</span><span class="s1">'add'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "setban",
    "params": [ "'</span><span class="nv">$nodeAddr</span><span class="s1">'", "'</span><span class="nv">$cmd</span><span class="s1">'" ]
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc setban <span class="nv">$nodeAddr</span> <span class="nv">$cmd</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'setban'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">nodeAddr</span><span class="p">,</span> <span class="nx">cmd</span> <span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Adds or removes nodes from banlist.</p>
<h3 id='params-9'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>addr</td>
<td>Required</td>
<td>IP Address of the Node.</td>
</tr>
<tr>
<td>2</td>
<td>cmd</td>
<td>Required</td>
<td>Command</td>
</tr>
</tbody></table>
<h3 id='commands-2'>Commands</h3>
<table><thead>
<tr>
<th>Command</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>add</td>
<td>Adds node to ban list, removes from host list, disconnects.</td>
</tr>
<tr>
<td>remove</td>
<td>Removes node from ban list</td>
</tr>
</tbody></table>
<h2 id='listbanned'>listbanned</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "listbanned",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc listbanned
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'listbanned'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"198.51.100.82:18333"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"banned_until"</span><span class="p">:</span><span class="w"> </span><span class="mi">1503349501</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ban_created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1503263101</span><span class="p">,</span><span class="w">
    </span><span class="s2">"ban_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Lists all banned peers.</p>
<h3 id='params-10'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id='clearbanned'>clearbanned</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/ <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "method": "clearbanned",
    "params": []
  }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rpc clearbanned
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">rpc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">RPCClient</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">rpc</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'clearbanned'</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">);</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON &quot;result&quot; like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="kc">null</span><span class="w">
</span></code></pre>
<p>Removes all banned peers.</p>
<h3 id='params-11'>Params</h3>
<table><thead>
<tr>
<th>N.</th>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>None.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h1 id='coin'>Coin</h1>
<p>Getting coin information via APi.</p>

<p><em>Coin stands for UTXO</em></p>

<aside class="info">
You need to enable <code>index-tx</code> and <code>index-address</code> in order
to lookup coins by transaction hashes and addresses, respectively.
</aside>
<h2 id='get-coin-by-outpoint'>Get coin by Outpoint</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nb">hash</span><span class="o">=</span><span class="s1">'c13039f53247f9ca14206da079bcf738d91bc60e251ac9ebaba9ea9a862d9092'</span>;
<span class="nv">index</span><span class="o">=</span>0;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/coin/<span class="nv">$hash</span>/<span class="nv">$index</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli coin <span class="nv">$hash</span> <span class="nv">$index</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>

  <span class="kr">const</span> <span class="nx">coin</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getCoin</span><span class="p">(</span><span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">coin</span><span class="p">);</span>

  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">100019</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">144709200</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9148fc80aadf127f6f92b6ed33404b110f851c8eca188ac"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mtdCZdNYny2U7met3umk47SoA7HMZGfsa2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c13039f53247f9ca14206da079bcf738d91bc60e251ac9ebaba9ea9a862d9092"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get coin by outpoint (hash and index). Returns coin in bcoin coin json format.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /coin/:hash/:index</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:hash</td>
<td>Hash of tx</td>
</tr>
<tr>
<td>:index</td>
<td>Output&#39;s index in tx</td>
</tr>
</tbody></table>
<h2 id='get-coins-by-address'>Get coins by address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address</span><span class="o">=</span><span class="s1">'n3BmXQPa1dKi3zEyCdCGNHTuE5GLdmw1Tr'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/coin/address/<span class="nv">$address</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli coin <span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>

  <span class="kr">const</span> <span class="nx">coins</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getCoinsByAddress</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">coins</span><span class="p">);</span>

  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">275391</span><span class="p">,</span><span class="w">
    </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914edb1dfaf6e0b39449da811275386edf2eb54baba88ac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n3BmXQPa1dKi3zEyCdCGNHTuE5GLdmw1Tr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"86150a141ebe5903a5d31e701698a01d598b81f099ea7577dad73033eab02ef9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get coin objects array by address.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /coin/address/:address</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:address</td>
<td>bitcoin address</td>
</tr>
</tbody></table>
<h2 id='get-coins-by-addresses'>Get coins by addresses</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address0</span><span class="p">,</span> <span class="nx">address1</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address0</span><span class="o">=</span><span class="s1">'n3BmXQPa1dKi3zEyCdCGNHTuE5GLdmw1Tr'</span>;
<span class="nv">address1</span><span class="o">=</span><span class="s1">'mwLHWwWPDwtCBZA7Ltg9QSzKK5icdCU5rb'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/coin/address <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "addresses":[ "'</span><span class="nv">$address0</span><span class="s1">'", "'</span><span class="nv">$address1</span><span class="s1">'" ]}'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>No CLI Option.
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>

  <span class="kr">const</span> <span class="nx">coins</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getCoinsByAddresses</span><span class="p">([</span><span class="nx">address0</span><span class="p">,</span> <span class="nx">address1</span><span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">coins</span><span class="p">);</span>

  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">275391</span><span class="p">,</span><span class="w">
    </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914edb1dfaf6e0b39449da811275386edf2eb54baba88ac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n3BmXQPa1dKi3zEyCdCGNHTuE5GLdmw1Tr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"86150a141ebe5903a5d31e701698a01d598b81f099ea7577dad73033eab02ef9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1095497</span><span class="p">,</span><span class="w">
    </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914ad7d7b9ac5260ad13fa55e06143283f5b36495f788ac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mwLHWwWPDwtCBZA7Ltg9QSzKK5icdCU5rb"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4692772a73ea834c836915089acf97f2c790380a2b8fd32f82729da72545d8c5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get coins by addresses,
returns array of coin objects.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /coin/address</code></p>
<h3 id='post-parameters-json'>POST Parameters (JSON)</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>addresses</td>
<td>List of bitcoin addresses</td>
</tr>
</tbody></table>
<h1 id='transaction'>Transaction</h1>
<p>Getting transaction information via APi.</p>

<aside class="info">
You need to enable <code>index-tx</code> and <code>index-address</code> in order
to lookup transactions by transaction hashes and addresses, respectively.
</aside>
<h2 id='get-tx-by-txhash'>Get tx by txhash</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">txhash</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">txhash</span><span class="o">=</span><span class="s1">'86150a141ebe5903a5d31e701698a01d598b81f099ea7577dad73033eab02ef9'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/tx/<span class="nv">$txhash</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli tx <span class="nv">$txhash</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>

  <span class="kr">const</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getTX</span><span class="p">(</span><span class="nx">txhash</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tx</span><span class="p">);</span>

  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"86150a141ebe5903a5d31e701698a01d598b81f099ea7577dad73033eab02ef9"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"86150a141ebe5903a5d31e701698a01d598b81f099ea7577dad73033eab02ef9"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">50000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">220264</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1501093478</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
  </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000e0290b7c66227c7499692aac5437860ee912424bf8eea3a3883a4e37"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1296746959</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"flag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0173a5d24d393127d5e6fc043ff1a00dafc6a2777143cb98a803a0b6e8cd02c7"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"493046022100be75ae6dbf9eab7656562136511501c83918ca28c5f96565ca1960b3dbb581b6022100d15692af456e8721fddeeb0d6df5d8a147afd8a3b2a39bbceae9b1bdfd53ade20121038e297cf2cf71c16592c36ca48f5b2a5bbb73e776e772079f4c695b12eec1a509"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
      </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">4824247882</span><span class="p">,</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914bc7aad9746a0bc03ed9715f13c94e554df90b84688ac"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mxhYHwYZdYh1AkLsUbEmU9ZGdvLfoNRdD6"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">4823922491</span><span class="p">,</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914682215dfa6912d88f55a1853414d516122fcc66988ac"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mq1ZQJW1qPeNPNL83mpAWfNFPW9qwGDR2K"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">275391</span><span class="p">,</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914edb1dfaf6e0b39449da811275386edf2eb54baba88ac"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n3BmXQPa1dKi3zEyCdCGNHTuE5GLdmw1Tr"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET /tx/:txhash</code></p>
<h3 id='url-parameters'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:txhash</td>
<td>Hash of tx.</td>
</tr>
</tbody></table>
<h2 id='get-tx-by-address'>Get tx by address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address</span><span class="o">=</span><span class="s1">'n3BmXQPa1dKi3zEyCdCGNHTuE5GLdmw1Tr'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/tx/address/<span class="nv">$address</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli tx <span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>

  <span class="kr">const</span> <span class="nx">txs</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getTXByAddress</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">txs</span><span class="p">);</span>

  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8351d991c5dfb49d534fcd28f56bb2d5b0d5f31f5c9e2e0711b5f86312a5abfe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8351d991c5dfb49d534fcd28f56bb2d5b0d5f31f5c9e2e0711b5f86312a5abfe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">50000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">129198</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1501093478</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">467</span><span class="p">,</span><span class="w">
    </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000057c13f1fa6b30c6ec32284875781e31474a532e96739523d926a9e2"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1296743253</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"flag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4d30e49228051bffe1317a013c06ae53f5325302a03cdcacb3312d0998f512a"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47304402201c29f13e8d817f2c2d1ea8b89d1d603677b86d0b4658f5d836bb16c56dc5dc3e02203e815b7ef739ba95c7bbbfdd63f38baa0806ad235f73c7df2492271e0b14ea43012103d50917ce22f377797a28c5e17e33000ea7d7d149d98b942d83f25ef2a223a8aa"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
        </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">464</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">457110</span><span class="p">,</span><span class="w">
          </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914583d5f973c850ec26f8efa39dabf8fbe0fcbb59c88ac"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moZXHEWiTwWyy1HSwvNANn9CKoCocPzDwm"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3d708378adc61ad2b6d623bfbb89df92e3c88f6c85f6e132796d5abefae8c587"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0d17a6a8512d174b6b679c375091483045022100a3d133ccd4353c6dbcd9dc035c059b9b45f3c044644613e2311b8290bd02a3fb022026ae0af0adaea2fad2bc76d40d77fde3628031ee73c8e0e36343d5585e9d93f50121029f15918cd48f9e5cecfc1fccf1efc0c518110a6d6258cf14d0ee49a0fd88a535"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
        </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">466</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">966270</span><span class="p">,</span><span class="w">
          </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914edb1dfaf6e0b39449da811275386edf2eb54baba88ac"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n3BmXQPa1dKi3zEyCdCGNHTuE5GLdmw1Tr"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1021229</span><span class="p">,</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a91419eb536dc042d76454bea8dbec5ddc384e783e5a88ac"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mht16aZhnsHivv3cDGuzgHGvoLFy8rNkg8"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">352151</span><span class="p">,</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914342e5d1f2eb9c6e99fda90c85ca05aa36616644c88ac"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mkGrySSnxcqRbtPCisApj3zXCQVmUUWbf1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns transaction objects array by address</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /tx/address/:address</code></p>
<h3 id='url-parameters-2'>URL Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:address</td>
<td>Bitcoin address.</td>
</tr>
</tbody></table>
<h2 id='get-tx-by-addresses'>Get tx by addresses</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">address0</span><span class="p">,</span> <span class="nx">address1</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">address0</span><span class="o">=</span><span class="s1">'n3BmXQPa1dKi3zEyCdCGNHTuE5GLdmw1Tr'</span>;
<span class="nv">address1</span><span class="o">=</span><span class="s1">'mwLHWwWPDwtCBZA7Ltg9QSzKK5icdCU5rb'</span>;
</code></pre><pre class="highlight shell tab-shell--curl"><code> curl <span class="nv">$url</span>/tx/address <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{ "addresses":[ "'</span><span class="nv">$address0</span><span class="s1">'", "'</span><span class="nv">$address1</span><span class="s1">'" ]}'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>No CLI Option.
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">open</span><span class="p">();</span>

  <span class="kr">const</span> <span class="nx">txs</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getTXByAddress</span><span class="p">([</span><span class="nx">address0</span><span class="p">,</span> <span class="nx">address1</span><span class="p">]);</span>

  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">txs</span><span class="p">);</span>

  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
<span class="p">})().</span><span class="k">catch</span><span class="p">((</span><span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">stack</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4692772a73ea834c836915089acf97f2c790380a2b8fd32f82729da72545d8c5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4692772a73ea834c836915089acf97f2c790380a2b8fd32f82729da72545d8c5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">50000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">134048</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1501093478</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00000000a2424460c992803ed44cfe0c0333e91af04fde9a6a97b468bf1b5f70"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1296746771</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"flag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cff00582fa957178139b0db60228fc9b252adc01ec6b11c3e16f708802c12d3f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48304502203ef5c34af08cd2865820757844ac079e081e7b41bf427ac896f41ab12a9f9857022100bd0914548145648ec538c088640228baaa983a7c78fbf49526c5c30358fe0f54012103420f2cb862c7a77d7b2376660573eb6976f01f59222892dd16326ee7ef37fc5b"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
        </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">499</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">346342</span><span class="p">,</span><span class="w">
          </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914f93f789537ba00a23e7e84dcf145dae36f50ea8088ac"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n4Eras4wT4kRjX34zP96nCiHqietgeKnTn"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39661409f6bc4d9e08e413e01f867fe276e12e83dae89ee351df17757ca64b3f"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47304402201468bcfff3b1d8bdd0ba5fd94692c4dc7766411bdafe8d65b6e7a5be8f7efa8602207cdcbe3a107db271f24d7d8ac83a887ef4a1b72c910cc9ea5627b4cf37e87bcf0121025f9a9951e2d2a3037c1af09d9789b84a5776c504cd5b59bccd469124eb59835f"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
        </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">499</span><span class="p">,</span><span class="w">
          </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1024528</span><span class="p">,</span><span class="w">
          </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914c4a22b009b02fe8488c5543f0873e062712b7f6888ac"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mySf1HGynwyAuNyYrapRnwM83k3svzWTgD"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1095497</span><span class="p">,</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914ad7d7b9ac5260ad13fa55e06143283f5b36495f788ac"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mwLHWwWPDwtCBZA7Ltg9QSzKK5icdCU5rb"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">225373</span><span class="p">,</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a914bc0f9f5fc9dc55323d52a9e354b5fb67cecd389788ac"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mxfL3bJohxaoBkKNtUF8xSU1DVKzbiChnZ"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Returns transaction objects array by addresses</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /tx/address</code></p>
<h3 id='post-parameters-json'>POST Parameters (JSON)</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>addresses</td>
<td>array of bitcoin addresses</td>
</tr>
</tbody></table>
<h1 id='wallet-admin'>Wallet Admin</h1>
<p>The _admin namespace exists to differentiate administrative level tasks on the wallet API that you probably don&#39;t want to expose to individual wallets.</p>

<p><code>/wallet/_admin/[TARGET_ACTION]</code></p>

<aside class="notice">
Replace `[TARGET_ACTION]` with one of the available actions listed below
</aside>
<h2 id='wallet-rescan'>Wallet Rescan</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">height</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code>height <span class="o">=</span> 50000
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/_admin/rescan <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"height": '</span><span class="nv">$height</span><span class="s1">'}'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli rescan <span class="nv">$height</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">height</span> <span class="o">=</span> <span class="mi">50000</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
    <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span><span class="p">,</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">rescan</span><span class="p">(</span><span class="nx">height</span><span class="p">);</span>
<span class="p">})();</span>

</code></pre>
<blockquote>
<p>Response Body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Initiates a blockchain rescan for the walletdb. Wallets will be rolled back to the specified height (transactions above this height will be unconfirmed).</p>
<h3 id='example-http-request'>Example HTTP Request</h3>
<p><code>POST /wallet/_admin/rescan?height=50000</code></p>
<h2 id='wallet-resend'>Wallet Resend</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/_admin/resend <span class="se">\</span>
-X POST
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli resend
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
  <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span><span class="p">,</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">resend</span><span class="p">();</span>
<span class="p">})();</span>

</code></pre>
<blockquote>
<p>Response Body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Rebroadcast all pending transactions in all wallets.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /wallet/_admin/resend</code></p>
<h2 id='wallet-backup'>Wallet Backup</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">path</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">path</span><span class="o">=</span><span class="s1">'/path/to/new/backup'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/_admin/backup?path<span class="o">=</span>/home/user/walletdb-backup.ldb <span class="se">\</span>
  -X POST <span class="se">\</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli backup <span class="nv">$path</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
    <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span><span class="p">,</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">backup</span><span class="p">(</span><span class="nx">path</span><span class="p">);</span>
<span class="p">})();</span>

</code></pre>
<blockquote>
<p>Response Body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Safely backup the wallet database to specified path (creates a clone of the database).</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /wallet/_admin/backup?path=/home/user/walletdb-backup.ldb</code></p>
<h2 id='list-all-wallets'>List all Wallets</h2><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/_admin/wallets
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallets
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">({</span>
    <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span><span class="p">,</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">wallets</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getWallets</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">wallets</span><span class="p">)</span>
<span class="p">})();</span>

</code></pre>
<blockquote>
<p>Sample Response Body:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"test"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>List all wallet IDs. Returns an array of strings.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /wallet/_admin/wallets</code></p>
<h1 id='wallet'>Wallet</h1><h2 id='the-walletdb-and-object'>The WalletDB and Object</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">url</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"primary"</span>
<span class="nv">url</span><span class="o">=</span><span class="s2">"http://localhost:18332"</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet get --id<span class="o">=</span><span class="nv">$id</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getInfo</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">wallet</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>The wallet object will look something like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testnet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"primary"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"977fbb8d212a1e78c7ce9dfda4ff3d7cc8bcd20c4ccf85d2c9c84bbef6c88b3c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tokenDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"master"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"encrypted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receiveDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"changeDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nestedDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lookahead"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receiveAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mwfDKs919Br8tNFamk6RhRpfaa6cYQ5fMN"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nestedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"changeAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"msG6V75J6XNt5mCqBhjgC4MjDH8ivEEMs9"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tpubDDRH1rj7ut9ZjcGakR9VGgXU8zYSZypLtMr7Aq6CZaBVBrCaMEHPzye6ZZbUpS8YmroLfVp2pPmCdaKtRdCuTCK2HXzwqWX3bMRj3viPMZo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Bcoin maintains a wallet database which contains every wallet. Wallets are not usable without also using a wallet database. For testing, the wallet database can be in-memory, but it must be there. Wallets are uniquely identified by an id and the walletdb is created with a default id of <code>primary</code>. (See <a href="#create-a-wallet">Create a Wallet</a> below for more details.)</p>

<p>Wallets in bcoin use bip44. They also originally supported bip45 for multisig, but support was removed to reduce code complexity, and also because bip45 doesn&#39;t seem to add any benefit in practice.</p>

<p>The wallet database can contain many different wallets, with many different accounts, with many different addresses for each account. Bcoin should theoretically be able to scale to hundreds of thousands of wallets/accounts/addresses.</p>

<p>Each account can be of a different type. You could have a pubkeyhash account, as well as a multisig account, a witness pubkeyhash account, etc.</p>

<p>Note that accounts should not be accessed directly from the public API. They do not have locks which can lead to race conditions during writes.</p>
<h2 id='wallet-options'>Wallet Options</h2>
<blockquote>
<p>Wallet options object will look something like this</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"walletId"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="err">key</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="w">
  </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"mnemonic"</span><span class="p">:</span><span class="w"> </span><span class="err">'differ</span><span class="w"> </span><span class="err">trigger</span><span class="w"> </span><span class="err">sight</span><span class="w"> </span><span class="err">sun</span><span class="w"> </span><span class="err">undo</span><span class="w"> </span><span class="err">fine</span><span class="w"> </span><span class="err">sheriff</span><span class="w"> </span><span class="err">mountain</span><span class="w"> </span><span class="err">prison</span><span class="w"> </span><span class="err">remove</span><span class="w"> </span><span class="err">fantasy</span><span class="w"> </span><span class="err">arm'</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Options are used for wallet creation. None are required.</p>
<h3 id='options-object'>Options Object</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>String</td>
<td></td>
<td>Wallet ID (used for storage)</td>
</tr>
<tr>
<td>master</td>
<td>HDPrivateKey/HDPublicKey</td>
<td></td>
<td></td>
</tr>
<tr>
<td>witness</td>
<td>Boolean</td>
<td><code>false</code></td>
<td>Whether to use witness programs</td>
</tr>
<tr>
<td>accountIndex</td>
<td>Number</td>
<td><code>0</code></td>
<td>The BIP44 <a href="https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki#Account">account index</a></td>
</tr>
<tr>
<td>receiveDepth</td>
<td>Number</td>
<td></td>
<td>The index of the <em>next</em> receiveing address</td>
</tr>
<tr>
<td>changeDepth</td>
<td>Number</td>
<td></td>
<td>The index of the <em>next</em> change address</td>
</tr>
<tr>
<td>type</td>
<td>String</td>
<td><code>&#39;pubkeyhash&#39;</code></td>
<td>Type of wallet (pubkeyhash, multisig)</td>
</tr>
<tr>
<td>compressed</td>
<td>Boolean</td>
<td><code>true</code></td>
<td>Whether to use compressed public keys</td>
</tr>
<tr>
<td>m</td>
<td>Number</td>
<td><code>1</code></td>
<td>m value for multisig (<code>m-of-n</code>)</td>
</tr>
<tr>
<td>n</td>
<td>Number</td>
<td><code>1</code></td>
<td>n value for multisig (<code>m-of-n</code>)</td>
</tr>
<tr>
<td>mnemonic</td>
<td>String</td>
<td></td>
<td>A mnemonic phrase to use to instantiate an hd private key. One will be generated if none provided</td>
</tr>
</tbody></table>
<h2 id='wallet-auth'>Wallet Auth</h2>
<blockquote>
<p>The following samples return a wallet object</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">token</span><span class="p">,</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">token</span><span class="o">=</span><span class="s1">'977fbb8d212a1e78c7ce9dfda4ff3d7cc8bcd20c4ccf85d2c9c84bbef6c88b3c'</span>
<span class="nv">id</span><span class="o">=</span><span class="s1">'foo'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span> <span class="se">\</span>
    -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
    -d <span class="s1">'{ "token": "$token" ... }'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet get --network<span class="o">=</span>testnet --token<span class="o">=</span><span class="nv">$token</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">`use strict`</span>

<span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="nx">id</span><span class="p">,</span>
    <span class="na">token</span><span class="p">:</span> <span class="nx">token</span><span class="p">,</span>
    <span class="na">network</span><span class="p">:</span> <span class="s1">'testnet'</span><span class="p">,</span>
<span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getInfo</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">wallet</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<p>Individual wallets have their own api keys, referred to internally as &quot;tokens&quot; (a 32 byte hash - calculated as <code>HASH256(m/44&#39;-&gt;ec-private-key|tokenDepth)</code>).</p>

<p>A wallet is always created with a corresponding token. When using api endpoints
for a specific wallet, the token must be sent back in the query string or json
body.</p>

<p>e.g. To get information from a wallet that requires a token</p>

<p><code>GET /wallet/primary/tx/:hash?token=977fbb8d212a1e78c7ce9dfda4ff3d7cc8bcd20c4ccf85d2c9c84bbef6c88b3c</code></p>
<h2 id='reset-authentication-token'>Reset Authentication Token</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'foo'</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"bar"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet retoken --id<span class="o">=</span><span class="nv">$id</span> --passphrase<span class="o">=</span><span class="nv">$passphrase</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/retoken <span class="se">\</span>
  -X POST
  --data <span class="s1">'{"passphrase":'</span><span class="nv">$passphrase</span><span class="s1">'}"
</span></code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">retoken</span><span class="p">(</span><span class="nx">passphrase</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">token</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d04e217877f15ba920d02c24c6c18f4d39df92f3ae851bec37f0ade063244b2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Derive a new wallet token, required for access of this particular wallet.</p>

<aside class="warning">
Note: if you happen to lose the returned token, you will not be able to access the wallet.
</aside>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /wallet/:id/retoken</code></p>
<h2 id='get-wallet-info'>Get Wallet Info</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'foo'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/

</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># ID defaults to `primary` if none is passed</span>
bcoin cli wallet get --id<span class="o">=</span><span class="nv">$id</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="s2">`use strict`</span>

<span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="kr">const</span> <span class="nx">id</span> <span class="o">=</span> <span class="s1">'foo'</span><span class="p">;</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getInfo</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">wallet</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample output</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testnet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d04e217877f15ba920d02c24c6c18f4d39df92f3ae851bec37f0ade063244b2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tokenDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">177</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="mi">177</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8150.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8150.0"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"master"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"encrypted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receiveDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="s2">"changeDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nestedDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lookahead"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receiveAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mu5Puppq4Es3mibRskMwoGjoZujHCFRwGS"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nestedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"changeAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n3nFYgQR2mrLwC3X66xHNsx4UqhS3rkSnY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tpubDC5u44zLNUVo2gPVdqCbtX644PKccH5VZB3nqUgeCiwKoi6BQZGtr5d6hhougcD6PqjszsbR3xHrQ5k8yTbUt64aSthWuNdGi7zSwfGVuxc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet info by ID. If no id is passed in the CLI it assumes an id of <code>primary</code>.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /wallet/:id</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>named id of the wallet whose info you would like to retrieve</td>
</tr>
</tbody></table>
<h2 id='get-master-hd-key'>Get Master HD Key</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">network</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'foo'</span>
<span class="nv">network</span><span class="o">=</span><span class="s1">'testnet'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/master
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet master --id<span class="o">=</span><span class="nv">$id</span> --network<span class="o">=</span><span class="nv">$network</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span><span class="p">,</span>  <span class="na">network</span><span class="p">:</span> <span class="nx">network</span><span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">master</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">getMaster</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">master</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"encrypted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"xprivkey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tprv8ZgxMBicQKsPe7977psQCjBBjWtLDoJVPiiKog42RCoShJLJATYeSkNTzdwfgpkcqwrPYAmRCeudd6kkVWrs2kH5fnTaxrHhi1TfvgxJsZD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"mnemonic"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"bits"</span><span class="p">:</span><span class="w"> </span><span class="mi">128</span><span class="p">,</span><span class="w">
      </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"english"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"entropy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a560ac7eb5c2ed412a4ba0790f73449d"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phrase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pistol air cabbage high conduct party powder inject jungle knee spell derive"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"passphrase"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet master HD key. This is normally censored in the wallet info route. The provided api key must have admin access.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET /wallet/:id/master</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>named id of the wallet whose info you would like to retrieve</td>
</tr>
</tbody></table>
<h2 id='create-a-wallet'>Create A Wallet</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">,</span> <span class="nx">witness</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code>id <span class="o">=</span> <span class="s1">'foo'</span>
passphrase <span class="o">=</span> <span class="s1">'bar'</span>
witness <span class="o">=</span> <span class="nb">false</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span> <span class="se">\</span>
  -X PUT <span class="se">\</span>
  --data <span class="s1">'{"witness":'</span><span class="nv">$witness</span><span class="s1">', "passphrase":"'</span><span class="nv">$passphrase</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet create <span class="nv">$id</span> --witness<span class="o">=</span><span class="nv">$witness</span> --passphrase<span class="o">=</span><span class="nv">$passphrase</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">();</span>
<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">id</span><span class="p">:</span> <span class="nx">id</span><span class="p">,</span>
  <span class="na">passphrase</span><span class="p">:</span> <span class="nx">passphrase</span><span class="p">,</span>
  <span class="na">witness</span><span class="p">:</span> <span class="nx">witness</span>
<span class="p">};</span>

<span class="p">(</span><span class="nx">async</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">newWallet</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">createWallet</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testnet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d9de1ddc83bf058d14520a203df6ade0dc92a684aebfac57b667705b4cac3916"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tokenDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"master"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"encrypted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receiveDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"changeDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nestedDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lookahead"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receiveAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"muYkrSDbD8UhyWBMXxXf99EKWn22YqmwyF"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nestedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"changeAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mwveV7A6svE5EGGSduZmMKTwcbE775NVFt"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tpubDDh2XgSds1vBbeVgye88gsGQeCityoywRndtyrXcmvWqCgsFUyUKwzeDv8HiJhu9fC8jRAFMqxr4jj8eRTNTycmMao5wmsAScVf4jSMdPYZ"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create a new wallet with a specified ID.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>PUT /wallet/:id</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet you would like to create</td>
</tr>
</tbody></table>

<aside class="notice">
See <a href="#wallet-options">Wallet Options</a> for full list and description of possible options that can be passed
</aside>
<h2 id='change-passphrase'>Change Passphrase</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">oldPass</span><span class="p">,</span> <span class="nx">newPass</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'foo'</span>
oldPass <span class="o">=</span> <span class="s1">'oldpass123'</span>
<span class="nv">newPass</span><span class="o">=</span><span class="s1">'newpass123'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="gp">&gt; </span>No cli <span class="nb">command </span>available
</code></pre><pre class="highlight plaintext"><code>curl $url/wallet/$id/passphrase \
  -X POST
  --data '{"old":'$oldPass', "new":'$newPass'}'
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">setPassphrase</span><span class="p">(</span><span class="nx">oldPass</span><span class="p">,</span> <span class="nx">newPass</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">});</span>
</code></pre>
<blockquote>
<p>Sample Response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Change wallet passphrase. Encrypt if unencrypted.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>POST /wallet/:id/passphrase</code></p>
<h3 id='body-parameters'>Body Parameters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>old <br> <em>string</em></td>
<td>Old passphrase. Pass in empty string if none</td>
</tr>
<tr>
<td>new <br> _string</td>
<td>New passphrase</td>
</tr>
</tbody></table>

<aside class="notice">
  Note that the old passphrase is still required even if none was set prior. In this case, an empty string should be passed for the old passphrase.
  e.g. <code>client.setPassphrase(id,'""', 'newPass')</code>
</aside>
<h2 id='unlock-wallet'>Unlock Wallet</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">pass</span><span class="p">,</span> <span class="nx">timeout</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'foo'</span>
<span class="nv">pass</span><span class="o">=</span><span class="s1">'bar'</span>,
<span class="nv">timeout</span><span class="o">=</span>60
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet unlock --id<span class="o">=</span><span class="nv">$id</span> <span class="nv">$pass</span> <span class="nv">$timeout</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/unlock <span class="se">\</span>
  -X POST
  --data <span class="s1">'{"passphrase":'</span><span class="nv">$pass</span><span class="s1">', "timeout": '</span><span class="nv">$timeout</span><span class="s1">'}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">();</span>
<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">unlock</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">pass</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Derive the AES key from passphrase and hold it in memory for a specified number of seconds. Note: During this time, account creation and signing of transactions will not require a passphrase.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>POST /wallet/:id/unlock</code></p>
<h3 id='body-parameters-2'>Body Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>Password used to encrypt the wallet being unlocked</td>
</tr>
<tr>
<td>timeout <br> <em>number</em></td>
<td>time to re-lock the wallet in seconds. (default=60)</td>
</tr>
</tbody></table>
<h2 id='lock-wallet'>Lock Wallet</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'foo'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet lock --id<span class="o">=</span><span class="nv">$id</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/lock <span class="se">\</span>
  -X POST
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">();</span>
<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">lock</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>If unlock was called, zero the derived AES key and revert to normal behavior.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>POST /wallet/:id/lock</code></p>
<h2 id='import-public-private-key'>Import Public/Private Key</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">,</span> <span class="nx">key</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'foo'</span>
<span class="nv">account</span><span class="o">=</span><span class="s1">'test-account'</span>
<span class="nv">key</span><span class="o">=</span><span class="s1">'0215a9110e2a9b293c332c28d69f88081aa2a949fde67e35a13fbe19410994ffd9'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet import --id<span class="o">=</span><span class="nv">$id</span> <span class="nv">$key</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/import <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"account":"'</span><span class="nv">$account</span><span class="s1">'", "privateKey":"'</span><span class="nv">$key</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">wallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">importPrivate</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">key</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Import a standard WIF key.</p>

<p>An import can be either a private key or a public key for watch-only. (Watch Only wallets will throw an error if trying to import a private key)</p>

<p>A rescan will be required to see any transaction history associated with the
key.</p>

<aside class="warning">
Note that imported keys do not exist anywhere in the wallet's HD tree. They can be associated with accounts but will not be properly backed up with only the mnemonic.
</aside>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>POST /wallet/:id/import</code></p>
<h3 id='body-paramters'>Body Paramters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of target wallet to import key into</td>
</tr>
<tr>
<td>privateKey <br> <em>string</em></td>
<td>Base58Check encoded private key</td>
</tr>
<tr>
<td>publicKey <br> <em>string</em></td>
<td>Hex encoded public key</td>
</tr>
</tbody></table>

<blockquote>
<p>Will return following error if incorrectly formatted:
<code>Bad key for import</code></p>
</blockquote>
<h2 id='import-address'>Import Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'foo'</span>
<span class="nv">account</span><span class="o">=</span><span class="s1">'bar'</span>
<span class="nv">address</span><span class="o">=</span><span class="s1">'moTyiK7aExe2v3hFJ9BCsYooTziX15PGuA'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet watch --id<span class="o">=</span><span class="nv">$id</span> --account<span class="o">=</span><span class="nv">$account</span> <span class="nv">$address</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/import <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"account":"'</span><span class="nv">$account</span><span class="s1">'", "address":"'</span><span class="nv">$address</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">importAddress</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">address</span><span class="p">)</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Import a Base58Check encoded address. Addresses (like public keys) can only be imported into watch-only wallets</p>

<p>The HTTP endpoint is the same as for key imports.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>POST /wallet/:id/import</code></p>
<h3 id='body-paramters-2'>Body Paramters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of target wallet to import key into</td>
</tr>
<tr>
<td>address <br> <em>string</em></td>
<td>Base58Check encoded address</td>
</tr>
</tbody></table>
<h2 id='get-blocks-with-wallet-txs'>Get Blocks with Wallet Txs</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/block
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet blocks --id<span class="o">=</span><span class="nv">$id</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">blocks</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getBlocks</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">blocks</span><span class="p">);</span>
<span class="p">}())</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w"> </span><span class="mi">1179720</span><span class="p">,</span><span class="w"> </span><span class="mi">1179721</span><span class="p">,</span><span class="w"> </span><span class="mi">1180146</span><span class="p">,</span><span class="w"> </span><span class="mi">1180147</span><span class="p">,</span><span class="w"> </span><span class="mi">1180148</span><span class="p">,</span><span class="w"> </span><span class="mi">1180149</span><span class="w"> </span><span class="p">]</span><span class="w">
</span></code></pre>
<p>List all block heights which contain any wallet transactions. Returns an array of block heights</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>GET /wallet/:id/block</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet to query blocks with its transactions in it</td>
</tr>
</tbody></table>
<h2 id='get-wallet-block-by-height'>Get Wallet Block by Height</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">height</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">height</span><span class="o">=</span>1179720
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> block <span class="nv">$height</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/block/<span class="nv">$height</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">blockInfo</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getBlock</span><span class="p">(</span><span class="nx">height</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">blockInfo</span><span class="p">);</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000000000013cc12ea4b3ff403a3c05d96da695638e468cf26409eca87beb6a"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1179720</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1503359756</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"2c3d708bc21358e0a8a112ab00267ede0992d85add295d622e2b2c58b2c6720d"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get block info by height.</p>
<h3 id='http-request-11'>HTTP Request</h3>
<p><code>GET /wallet/:id/block/:height</code></p>

<table><thead>
<tr>
<th>Paramaters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet which has tx in the block being queried</td>
</tr>
<tr>
<td>height <br> <em>int</em></td>
<td>height of block being queried</td>
</tr>
</tbody></table>
<h2 id='add-xpubkey-multisig'>Add xpubkey (Multisig)</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"multi-foo"</span>
<span class="nv">key</span><span class="o">=</span><span class="s2">"tpubDCUQshhR98hjDDPtefuQdg4Dmpk5mes3TRyUp1Qa4BjxCVytfqmqNWmJ3tUZfqu4qLfEypQhNcpMF3yhZJ8h8hcahnxCzrqWmV5qVHHTqGM"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> shared add <span class="nv">$key</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/shared-key <span class="se">\</span>
  -X PUT
  --data <span class="s1">'{"accountKey": $key}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="nx">account</span> <span class="o">=</span> <span class="s1">'default'</span><span class="p">;</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">addSharedKey</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">key</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Add a shared xpubkey to wallet. Must be a multisig wallet.</p>

<aside class="notice">
Note that since it must be a multisig, the wallet on creation should be set with <code>m</code> and <code>n</code> where <code>n</code> is greater than 1 (since the first key is always that wallet's own xpubkey)
</aside>
<h3 id='http-request-12'>HTTP Request</h3>
<p><code>PUT /wallet/:id/shared-key</code></p>
<h3 id='body-parameters-3'>Body Parameters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountKey <br> <em>string</em></td>
<td>xpubkey to add to the multisig wallet</td>
</tr>
<tr>
<td>account <br> <em>string</em></td>
<td>multisig account to add the xpubkey to (default=&#39;default&#39;)</td>
</tr>
</tbody></table>
<h2 id='remove-xpubkey-multisig'>Remove xpubkey (Multisig)</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">key</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"multi-foo"</span>
<span class="nv">key</span><span class="o">=</span><span class="s2">"tpubDCUQshhR98hjDDPtefuQdg4Dmpk5mes3TRyUp1Qa4BjxCVytfqmqNWmJ3tUZfqu4qLfEypQhNcpMF3yhZJ8h8hcahnxCzrqWmV5qVHHTqGM"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> shared remove <span class="nv">$key</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/shared-key <span class="se">\</span>
  -X DELETE
  --data <span class="s1">'{"accountKey": "'</span><span class="nv">$key</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="kr">const</span> <span class="nx">account</span> <span class="o">=</span> <span class="s1">'default'</span><span class="p">;</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">removeSharedKey</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">key</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Remove shared xpubkey from wallet if present.</p>
<h3 id='http-request-13'>HTTP Request</h3>
<p><code>DEL /wallet/:id/shared-key</code></p>
<h3 id='body-parameters-4'>Body Parameters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountKey <br> <em>string</em></td>
<td>xpubkey to add to the multisig wallet</td>
</tr>
<tr>
<td>account <br> <em>string</em></td>
<td>multisig account to remove the key from (default=&#39;default&#39;)</td>
</tr>
</tbody></table>
<h2 id='get-public-key-by-address'>Get Public Key By Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">address</span><span class="o">=</span><span class="s2">"n1EDbjFaKFwz2XwWPueDUac4XZsQg8d1p2"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> key <span class="nv">$address</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/key/<span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getKey</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testnet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nested"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"032b110a0f83d45c1010cf03adea64b440d83a1a3726f7c2d5e94db1d6509b3ac6"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"program"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n1EDbjFaKFwz2XwWPueDUac4XZsQg8d1p2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet key by address. Returns wallet information with address and public key</p>
<h3 id='http-request-14'>HTTP Request</h3>
<p><code>GET /wallet/:id/key/:address</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that holds the address being queried</td>
</tr>
<tr>
<td>address <br> _string&gt;</td>
<td>Base58 encoded address to get corresponding public key for</td>
</tr>
</tbody></table>
<h2 id='get-private-key-by-address'>Get Private Key By Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">address</span><span class="o">=</span><span class="s2">"n1EDbjFaKFwz2XwWPueDUac4XZsQg8d1p2"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> dump <span class="nv">$address</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/wif/<span class="nv">$address</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getWIF</span><span class="p">(</span><span class="nx">address</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"privateKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cTMUJ7WeFsoQ6dLGR9xdLZeNQafcU88bbibR9TV3W2HheRntYa53"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Get wallet private key (WIF format) by address. Returns just the private key</p>
<h3 id='http-request-15'>HTTP Request</h3>
<p><code>GET /wallet/:id/wif/:address</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that holds the address being queried</td>
</tr>
<tr>
<td>address <br> _string&gt;</td>
<td>Base58 encoded address to get corresponding public key for</td>
</tr>
</tbody></table>
<h2 id='generate-receiving-address'>Generate Receiving Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"default"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> address
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/address -X POST --data <span class="s1">'{"account":"'</span><span class="nv">$account</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">receiveAddress</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">createAddress</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">receiveAddress</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testnet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nested"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02801d9457837ed50e9538ee1806b6598e12a3c259fdc9258bbd32934f22cb1f80"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"program"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mwX8J1CDGUqeQcJPnjNBG4s97vhQsJG7Eq"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Derive new receiving address for account.</p>

<aside class="notice">
Note that, except for the CLI which assumes 'default' account, an account must be passed for the call to work.
</aside>
<h3 id='http-request-16'>HTTP Request</h3>
<p><code>POST /wallet/:id/address</code></p>
<h3 id='post-paramters'>Post Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account <br><em>string</em></td>
<td>BIP44 account to generate address from</td>
</tr>
</tbody></table>
<h2 id='generate-change-address'>Generate Change Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"default"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> change
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/change -X POST --data <span class="s1">'{"account":"'</span><span class="nv">$account</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">receiveAddress</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">createChange</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">receiveAddress</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testnet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nested"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"022f5afafcc8c35dbbbe52842d58dc18d739f2dea85021ea1e9183031032f9fa1c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"program"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mgdArtHtCsxvcjzxRTMfk5ZyBcnsTgNKTT"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Derive new change address for account.</p>

<aside class="info">
Note that, except for the CLI which assumes 'default' account, an account must be passed for the call to work.
</aside>
<h3 id='http-request-17'>HTTP Request</h3>
<p><code>POST /wallet/:id/change</code></p>
<h3 id='post-paramters-2'>Post Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account <br><em>string</em></td>
<td>BIP44 account to generate address from</td>
</tr>
</tbody></table>
<h2 id='derive-nested-address'>Derive Nested Address</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"baz"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> nested --account<span class="o">=</span><span class="nv">$account</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/nested -X POST --data <span class="s1">'{"account": "'</span><span class="nv">$account</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">createNested</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testnet"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"baz"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"branch"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nested"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"02a7a12fa67a7f0dc0bb2ae2c45d80c9b6248c004ef8b3f8da3f6feaf623f60939"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"program"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0014be20ad0c7ad43d1bb9f922f15cd7ba63b7fee290"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scripthash"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2NBzYG49AiNJjUr7NA1r4eee8jUpacb3Eo2"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Derive new nested p2sh receiving address for account. Note that this can&#39;t be done on a non-witness account otherwise you will receive the following error:</p>

<p><code>[error] (node) Cannot derive nested on non-witness account.</code></p>
<h3 id='http-request-18'>HTTP Request</h3>
<p><code>POST /wallet/:id/nested</code></p>
<h3 id='post-paramters-3'>Post Paramters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account <br> <em>string</em></td>
<td>account to derive the nested address for (default=&#39;default&#39;)</td>
</tr>
</tbody></table>
<h2 id='get-balance'>Get Balance</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'foo'</span>
<span class="nv">account</span><span class="o">=</span><span class="s1">'bar'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> balance --account<span class="o">=</span><span class="nv">$account</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/balance?account<span class="o">=</span><span class="nv">$account</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getBalance</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"unconfirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8149.9999546"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8150.0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet or account balance. If no account option is passed, the call defaults to wallet balance (with account index of <code>-1</code>)</p>
<h3 id='http-request-19'>HTTP Request</h3>
<p><code>GET /wallet/:id/balance?account=:account</code></p>
<h3 id='request-paramters'>Request Paramters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>wallet id to get balance of</td>
</tr>
<tr>
<td>account <br> <em>string</em></td>
<td>account name (optional, defaults to entire wallet balance)</td>
</tr>
</tbody></table>
<h2 id='list-all-coins'>List all Coins</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/coin
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> coins
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getCoins</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1180963</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9145730f139d833e3af30ccfb7c4e253ff4bab5de9888ac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moTyiK7aExe2v3hFJ9BCsYooTziX15PGuA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bf49aaf50dfa229b99e83d29cae2515487b05cccb88cd111fb2ac738dac1058a"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1180963</span><span class="p">,</span><span class="w">
    </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9145730f139d833e3af30ccfb7c4e253ff4bab5de9888ac"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moTyiK7aExe2v3hFJ9BCsYooTziX15PGuA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"efbaa2681576e0c2a9ee8e0bdaddd889e95e9631b94467b57552e5bc7048c2ae"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>List all wallet coins available.</p>
<h3 id='http-request-20'>HTTP Request</h3>
<p><code>GET /wallet/:id/coin</code></p>
<h2 id='lock-coin-outpoints'>Lock Coin/Outpoints</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">,</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"bar"</span>
<span class="nb">hash</span><span class="o">=</span><span class="s2">"dd1a110edcdcbb3110a1cbe0a545e4b0a7813ffa5e77df691478205191dad66f"</span>
<span class="nv">index</span><span class="o">=</span><span class="s2">"0"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Not Supported in CLI</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/locked<span class="nv">$hash</span>/<span class="nv">$index</span> -X PUT --data <span class="s1">'{"passphrase": "'</span><span class="nv">$pasphrase</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">lockCoin</span><span class="p">(</span><span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Lock outpoints.</p>
<h3 id='http-request-21'>HTTP Request</h3>
<p><code>PUT /wallet/:id/locked/:hash/:index</code></p>
<h3 id='request-parameters'>Request Parameters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that contains the outpoint</td>
</tr>
<tr>
<td>hash <br> <em>string</em></td>
<td>hash of transaction that created the outpoint</td>
</tr>
<tr>
<td>index <br> <em>string</em> or <em>int</em></td>
<td>index of the output in the transaction being referenced</td>
</tr>
</tbody></table>
<h3 id='body-paramters-3'>Body Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>passphrase of wallet being referenced</td>
</tr>
</tbody></table>
<h2 id='unlock-outpoint'>Unlock Outpoint</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">,</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"bar"</span>
<span class="nb">hash</span><span class="o">=</span><span class="s2">"dd1a110edcdcbb3110a1cbe0a545e4b0a7813ffa5e77df691478205191dad66f"</span>
<span class="nv">index</span><span class="o">=</span><span class="s2">"0"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Not Supported in CLI</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/locked/<span class="nv">$hash</span>/<span class="nv">$index</span> -X DELETE --data <span class="s1">'{"passphrase": "'</span><span class="nv">$pasphrase</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">unlockCoin</span><span class="p">(</span><span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Unlock outpoints.</p>
<h3 id='http-request-22'>HTTP Request</h3>
<p><code>DEL /wallet/:id/locked/:hash/:index</code></p>
<h3 id='request-parameters-2'>Request Parameters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that contains the outpoint</td>
</tr>
<tr>
<td>hash <br> <em>string</em></td>
<td>hash of transaction that created the outpoint</td>
</tr>
<tr>
<td>index <br> <em>string</em> or <em>int</em></td>
<td>index of the output in the transaction being referenced</td>
</tr>
</tbody></table>
<h3 id='body-paramters-4'>Body Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>passphrase of wallet being referenced</td>
</tr>
</tbody></table>
<h2 id='get-locked-outpoints'>Get Locked Outpoints</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Not supported in CLI</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/locked
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getLocked</span><span class="p">();</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="s2">"dd1a110edcdcbb3110a1cbe0a545e4b0a7813ffa5e77df691478205191dad66f"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"index"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get all locked outpoints.</p>
<h3 id='http-request-23'>HTTP Request</h3>
<p><code>GET /wallet/:id/locked</code></p>
<h3 id='request-parameters-3'>Request Parameters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet to check for outpoints</td>
</tr>
</tbody></table>
<h2 id='get-wallet-coin'>Get Wallet Coin</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nb">hash</span><span class="o">=</span><span class="s2">"efbaa2681576e0c2a9ee8e0bdaddd889e95e9631b94467b57552e5bc7048c2ae"</span>
<span class="nv">index</span><span class="o">=</span>0
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># command is wallet agnostic, same as in vanilla coin command</span>

bcoin cli coin <span class="nv">$hash</span> <span class="nv">$index</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/coin/<span class="nv">$hash</span>/<span class="nv">$index</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">getCoin</span><span class="p">(</span><span class="nx">hash</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1180963</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9145730f139d833e3af30ccfb7c4e253ff4bab5de9888ac"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moTyiK7aExe2v3hFJ9BCsYooTziX15PGuA"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"efbaa2681576e0c2a9ee8e0bdaddd889e95e9631b94467b57552e5bc7048c2ae"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get wallet coin</p>
<h3 id='http-request-24'>HTTP Request</h3>
<p><code>GET /wallet/:id/coin/:hash/:index</code></p>
<h3 id='request-parameters-4'>Request Parameters</h3>
<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet that contains the outpoint</td>
</tr>
<tr>
<td>hash <br> <em>string</em></td>
<td>hash of transaction that created the outpoint</td>
</tr>
<tr>
<td>index <br> <em>string</em> or <em>int</em></td>
<td>index of the output in the transaction being referenced</td>
</tr>
</tbody></table>
<h1 id='wallet-transactions'>Wallet Transactions</h1><h2 id='send-a-transaction'>Send a transaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">,</span> <span class="nx">rate</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"bar"</span>
<span class="nv">rate</span><span class="o">=</span>100
<span class="nv">value</span><span class="o">=</span>3000
<span class="nv">address</span><span class="o">=</span><span class="s2">"moTyiK7aExe2v3hFJ9BCsYooTziX15PGuA"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet send --id<span class="o">=</span><span class="nv">$id</span> --value<span class="o">=</span><span class="nv">$value</span> --address<span class="o">=</span><span class="nv">$address</span> ---passphrase<span class="o">=</span><span class="nv">$passphrase</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/send <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "passphrase":"'</span><span class="nv">$passphrase</span><span class="s1">'",
    "rate":'</span><span class="nv">$rate</span><span class="s1">',
    "outputs":[
      {"address":"'</span><span class="nv">$address</span><span class="s1">'", "value":'</span><span class="nv">$value</span><span class="s1">'}
    ]
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">rate</span><span class="p">:</span> <span class="nx">rate</span><span class="p">,</span>
  <span class="na">outputs</span><span class="p">:</span> <span class="p">[{</span> <span class="na">value</span><span class="p">:</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">address</span><span class="p">;</span> <span class="nx">address</span> <span class="p">}]</span>
<span class="p">};</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tx</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c2da22cafcd076ea3db74bb2e3cf50f030e5240aa5daf4f778fb4954a866b41c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1503364758</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-08-22T01:19:18Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
  </span><span class="s2">"virtualSize"</span><span class="p">:</span><span class="w"> </span><span class="mi">225</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">59991393</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mgChJ3wXDqRns7Y6UhjXCyxeuZZJoQNj7c"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"derivation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"m/0'/1/5"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9143f4f69730dcb175c830b94226ae13f89bef969c488ac"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mmHhzmwiUzorZLYhFH9fhrfFTAHGhx1biN"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9143f4f69730dcb175c830b94226ae13f89bef969c488ac"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mmHhzmwiUzorZLYhFH9fhrfFTAHGhx1biN"</span><span class="w">
    </span><span class="p">}</span><span class="w">

  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"tx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01000000015a9b8fa3fb300a29e9cde6464f49882228862b8e333792fea35ad15536383417010000006a47304402202df28a6fe24dc26b016acee539e137b9502009f57ae6988d468d203e770339f202203b6ab4cc020493061db2d405b2799af2b872d3395f5798616fc51e59f304d5cd0121028986f0724eb55b66bba72985212b95a2c5487631e411dc9cc5348a4531928129ffffffff02e8030000000000001976a9144462dc0989942e38474616dc104e46486c5744ee88ac63619303000000001976a9149affd314659d5ce9fa815fde4e82c879d1ea41d188ac00000000"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Create, sign, and send a transaction.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST /wallet/:id/send</code></p>
<h3 id='post-paramaters'>Post Paramaters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rate <br> <em>int</em></td>
<td>the rate for transaction fees. Denominated in satoshis per kb</td>
</tr>
<tr>
<td>outputs <br> <em>array</em></td>
<td>An array of outputs to send for the transaction</td>
</tr>
<tr>
<td>smart <br> <em>bool</em></td>
<td>whether or not to estimate a smart fee based on current mempool</td>
</tr>
<tr>
<td>account <br> <em>string</em></td>
<td>account to use for transaction</td>
</tr>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>passphrase to unlock the account</td>
</tr>
</tbody></table>
<h3 id='output-object'>Output object</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value <br> <em>int</em></td>
<td>Value to send in satoshis</td>
</tr>
<tr>
<td>address <br> <em>string</em></td>
<td>destination address for transaction</td>
</tr>
</tbody></table>
<h2 id='create-a-transaction'>Create a Transaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">rate</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"bar"</span>
<span class="nv">rate</span><span class="o">=</span>100
<span class="nv">value</span><span class="o">=</span>.3
<span class="nv">address</span><span class="o">=</span><span class="s2">"moTyiK7aExe2v3hFJ9BCsYooTziX15PGuA"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet mktx --id<span class="o">=</span><span class="nv">$id</span> --rate<span class="o">=</span><span class="nv">$rate</span> --value<span class="o">=</span><span class="nv">$value</span> --address<span class="o">=</span><span class="nv">$address</span> --passphrase<span class="o">=</span><span class="nv">$passphrase</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/create <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
    "rate":"'</span><span class="nv">$rate</span><span class="s1">'",
    "passphrase": "'</span><span class="nv">$passphrase</span><span class="s1">'"
    "outputs":[
      {"address":"'</span><span class="nv">$address</span><span class="s1">'", "value":'</span><span class="nv">$value</span><span class="s1">'}
    ]
  }'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="kr">const</span> <span class="nx">outputs</span> <span class="o">=</span> <span class="p">[{</span> <span class="na">value</span><span class="p">:</span> <span class="nx">value</span><span class="p">,</span> <span class="na">address</span><span class="p">:</span> <span class="nx">address</span> <span class="p">}]</span>
<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">passphrase</span><span class="p">:</span> <span class="nx">passphrase</span><span class="p">,</span>
  <span class="na">outputs</span><span class="p">:</span> <span class="nx">outputs</span><span class="p">,</span>
  <span class="na">rate</span><span class="p">:</span> <span class="nx">rate</span><span class="p">,</span>
<span class="p">};</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">tx</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">createTX</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">tx</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0799a1d3ebfd108d2578a60e1b685350d42e1ef4d5cd326f99b8bf794c81ed17"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0799a1d3ebfd108d2578a60e1b685350d42e1ef4d5cd326f99b8bf794c81ed17"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0000454"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00020088"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1486686322</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"flag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6dd8dfa9b425a4126061a1032bc6ff6e208b75ee09d0aac089d105dcf972465a"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"483045022100e7f1d57e47cd8a28b7c27e015b291f3fd43a6eb0c051a4b65d8697b5133c29f5022020cada0f62a32aecd473f606780b2aef3fd9cbd44cfd5e9e3d9fe6eee32912df012102272dae7ff2302597cb785fd95529da6c07e32946e65ead419291258aa7b17871"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
      </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50.0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9149621fb4fc6e2e48538f56928f79bef968bf17ac888ac"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"muCnMvAoUFZXzuao4oy3vQJFcUntax53wE"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9143f4f69730dcb175c830b94226ae13f89bef969c488ac"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mmHhzmwiUzorZLYhFH9fhrfFTAHGhx1biN"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9143f4f69730dcb175c830b94226ae13f89bef969c488ac"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moTyiK7aExe2v3hFJ9BCsYooTziX15PGuA"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create and template a transaction (useful for multisig).
Do not broadcast or add to wallet.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>POST /wallet/:id/create</code></p>
<h3 id='post-paramters'>Post Paramters</h3>
<table><thead>
<tr>
<th>Paramter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>rate <br> <em>int</em></td>
<td>the rate for transaction fees. Denominated in satoshis per kb</td>
</tr>
<tr>
<td>outputs <br> <em>array</em></td>
<td>An array of outputs to send for the transaction</td>
</tr>
<tr>
<td>smart <br> <em>bool</em></td>
<td>whether or not to estimate a smart fee based on current mempool</td>
</tr>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>passphrase to unlock the account</td>
</tr>
</tbody></table>
<h3 id='output-object-2'>Output object</h3>
<table><thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value <br> <em>int</em></td>
<td>Value to send in bitcoin (as of beta-1.14)</td>
</tr>
<tr>
<td>address <br> <em>string</em></td>
<td>destination address for transaction</td>
</tr>
</tbody></table>
<h2 id='sign-transaction'>Sign Transaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">tx</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"bar"</span>
<span class="nv">tx</span><span class="o">=</span><span class="s2">"01000000010d72c6b2582c2b2e625d29dd5ad89209de7e2600ab12a1a8e05813c28b703d2c000000006b483045022100af93a8761ad22af858c5bc4e68b5991eac017dcddd933cf125553ec0b83eb8f30220373a4d8ee331ac4c3975718e2a789f873af0520ddbd2db18957cdf488ccd4ee301210215a9110e2a9b293c332c28d69f88081aa2a949fde67e35a13fbe19410994ffd9ffffffff0280969800000000001976a9143f4f69730dcb175c830b94226ae13f89bef969c488ac80c3c901000000001976a9143f4f69730dcb175c830b94226ae13f89bef969c488ac00000000"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet sign --id<span class="o">=</span><span class="nv">$id</span> --passphrase<span class="o">=</span><span class="nv">$passphrase</span> --tx<span class="o">=</span><span class="nv">$tx</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/sign <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{"tx": "'</span><span class="nv">$tx</span><span class="s1">'", "passphrase":"'</span><span class="nv">$passphrase</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">passphrase</span><span class="p">:</span> <span class="nx">passphrase</span> <span class="p">};</span>
<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">signedTx</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">tx</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">signedTx</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Output</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2a22606ee555d2c26ec979f0c45cd2dc18c7177056189cb345989749fd587868"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witnessHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2a22606ee555d2c26ec979f0c45cd2dc18c7177056189cb345989749fd587868"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">44247787</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mtime"</span><span class="p">:</span><span class="w"> </span><span class="mi">1503683721</span><span class="p">,</span><span class="w">
  </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"prevout"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2c3d708bc21358e0a8a112ab00267ede0992d85add295d622e2b2c58b2c6720d"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"index"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"483045022100af93a8761ad22af858c5bc4e68b5991eac017dcddd933cf125553ec0b83eb8f30220373a4d8ee331ac4c3975718e2a789f873af0520ddbd2db18957cdf488ccd4ee301210215a9110e2a9b293c332c28d69f88081aa2a949fde67e35a13fbe19410994ffd9"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="s2">"00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"sequence"</span><span class="p">:</span><span class="w"> </span><span class="mi">4294967295</span><span class="p">,</span><span class="w">
      </span><span class="s2">"coin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1179720</span><span class="p">,</span><span class="w">
        </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">50000000</span><span class="p">,</span><span class="w">
        </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9145730f139d833e3af30ccfb7c4e253ff4bab5de9888ac"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"moTyiK7aExe2v3hFJ9BCsYooTziX15PGuA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"coinbase"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"outputs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9143f4f69730dcb175c830b94226ae13f89bef969c488ac"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mmHhzmwiUzorZLYhFH9fhrfFTAHGhx1biN"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000000</span><span class="p">,</span><span class="w">
      </span><span class="s2">"script"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76a9143f4f69730dcb175c830b94226ae13f89bef969c488ac"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mmHhzmwiUzorZLYhFH9fhrfFTAHGhx1biN"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"locktime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01000000010d72c6b2582c2b2e625d29dd5ad89209de7e2600ab12a1a8e05813c28b703d2c000000006b483045022100af93a8761ad22af858c5bc4e68b5991eac017dcddd933cf125553ec0b83eb8f30220373a4d8ee331ac4c3975718e2a789f873af0520ddbd2db18957cdf488ccd4ee301210215a9110e2a9b293c332c28d69f88081aa2a949fde67e35a13fbe19410994ffd9ffffffff0280969800000000001976a9143f4f69730dcb175c830b94226ae13f89bef969c488ac80c3c901000000001976a9143f4f69730dcb175c830b94226ae13f89bef969c488ac00000000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Sign a templated transaction (useful for multisig).</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST /wallet/:id/sign</code></p>
<h3 id='post-paramters-2'>Post Paramters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tx <br> <em>string</em></td>
<td>the hex of the transaction you would like to sign</td>
</tr>
<tr>
<td>passphrase <br> <em>string</em></td>
<td>passphrase to unlock the wallet</td>
</tr>
</tbody></table>
<h2 id='zap-transactions'>Zap Transactions</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">age</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nv">account</span><span class="o">=</span><span class="s2">"baz"</span>
<span class="nv">age</span><span class="o">=</span>259200 <span class="c"># 72 hours</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet zap --id<span class="o">=</span><span class="nv">$id</span> <span class="nv">account</span><span class="o">=</span><span class="nv">$account</span> <span class="nv">age</span><span class="o">=</span><span class="nv">$age</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/zap <span class="se">\</span>
  -X POST <span class="se">\</span>
  --data <span class="s1">'{
            "account": "'</span><span class="nv">$account</span><span class="s1">'",
            "age": "'</span><span class="nv">$age</span><span class="s1">'"
          }'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">zap</span><span class="p">(</span><span class="nx">account</span><span class="p">,</span> <span class="nx">age</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Remove all pending transactions older than a specified age.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST /wallet/:id/zap?age=3600</code></p>
<h3 id='post-parameters'>Post Parameters</h3>
<table><thead>
<tr>
<th>Paramaters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>account <br> <em>string</em> or <em>number</em></td>
<td>account to zap from</td>
</tr>
<tr>
<td>age <br> <em>number</em></td>
<td>age threshold to zap up to (unix time)</td>
</tr>
</tbody></table>
<h2 id='delete-transaction'>Delete Transaction</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">hash</span><span class="p">,</span> <span class="nx">passphrase</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s2">"foo"</span>
<span class="nb">hash</span><span class="o">=</span><span class="s2">"2a22606ee555d2c26ec979f0c45cd2dc18c7177056189cb345989749fd58786"</span>
<span class="nv">passphrase</span><span class="o">=</span><span class="s2">"bar"</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code><span class="c"># Not available in CLI</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/tx/<span class="nv">$hash</span> <span class="se">\</span>
  -X DELETE <span class="se">\</span>
  --data <span class="s1">'{"passphrase": "'</span><span class="nv">$passphrase</span><span class="s1">'"}'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code> <span class="c1">// Not available in javascript wallet client.</span>
</code></pre>
<p>Abandon single pending transaction. Confirmed transactions will throw an error.
<code>&quot;TX not eligible&quot;</code></p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>DEL /wallet/:id/tx/:hash</code></p>

<table><thead>
<tr>
<th>Paramters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet where the transaction is that you want to remove</td>
</tr>
<tr>
<td>hash <br> <em>string</em></td>
<td>hash of transaction you would like to remove.</td>
</tr>
</tbody></table>
<h2 id='get-wallet-id-tx-history'>GET /wallet/:id/tx/history</h2>
<p>Get wallet TX history. Returns array of tx details.</p>
<h3 id='http-request-6'>HTTP Request</h3>
<p><code>GET /wallet/:id/tx/history</code></p>
<h2 id='get-wallet-id-tx-unconfirmed'>GET /wallet/:id/tx/unconfirmed</h2>
<p>Get pending wallet transactions. Returns array of tx details.</p>
<h3 id='http-request-7'>HTTP Request</h3>
<p><code>GET /wallet/:id/tx/unconfirmed</code></p>
<h2 id='get-wallet-id-tx-range'>GET /wallet/:id/tx/range</h2>
<p>Get range of wallet transactions by timestamp. Returns array of tx details.</p>
<h3 id='http-request-8'>HTTP Request</h3>
<p><code>GET /wallet/:id/tx/range</code></p>
<h2 id='get-wallet-id-tx-last'>GET /wallet/:id/tx/last</h2>
<p>Get last N wallet transactions.</p>
<h3 id='http-request-9'>HTTP Request</h3>
<p><code>GET /wallet/:id/tx/last</code></p>
<h2 id='get-wallet-id-tx-hash'>GET /wallet/:id/tx/:hash</h2>
<p>Get wallet transaction details.</p>
<h3 id='http-request-10'>HTTP Request</h3>
<p><code>GET /wallet/:id/tx/:hash</code></p>
<h1 id='wallet-accounts'>Wallet Accounts</h1><h2 id='account-object'>Account Object</h2>
<blockquote>
<p>An account object looks like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receiveDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
    </span><span class="s2">"changeDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nestedDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"lookahead"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"receiveAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mu5Puppq4Es3mibRskMwoGjoZujHCFRwGS"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"nestedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"changeAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n3nFYgQR2mrLwC3X66xHNsx4UqhS3rkSnY"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tpubDC5u44zLNUVo2gPVdqCbtX644PKccH5VZB3nqUgeCiwKoi6BQZGtr5d6hhougcD6PqjszsbR3xHrQ5k8yTbUt64aSthWuNdGi7zSwfGVuxc"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">

</span></code></pre>
<p>Represents a BIP44 Account belonging to a Wallet.
Note that this object does not enforce locks. Any method that does a write is internal API only and will lead to race conditions if used elsewhere.</p>

<p>From the <a href="https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki">BIP44 Specification</a>:</p>

<p>
    <code>
        This level splits the key space into independent user identities, so the wallet never mixes the coins across different accounts.
    </code>
</p>

<p>
    <code>
        Users can use these accounts to organize the funds in the same fashion as bank accounts; for donation purposes (where all addresses are considered public), for saving purposes, for common expenses etc.
    </code>
 </p>
 <p>
    <code>
        Accounts are numbered from index 0 in sequentially increasing manner. This number is used as child index in BIP32 derivation.
    </code>
</p>

<p>
    <code>
        Hardened derivation is used at this level.
    </code>
</p>
<h2 id='get-wallet-account-list'>Get Wallet Account List</h2><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'test'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet account list --id<span class="o">=</span><span class="nv">$id</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">();</span>
<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">accountInfo</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getAccounts</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">accountInfo</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="s2">"default"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>List all account names (array indices map directly to bip44 account indices) associated with a specific wallet id.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET /wallet/:id/account</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet you would like to retrieve the account list for</td>
</tr>
</tbody></table>

<aside class="notice">
Note that command defaults to primary (default) wallet if no wallet id is passed
</aside>
<h2 id='get-account-information'>Get Account Information</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'test'</span>
<span class="nv">account</span><span class="o">=</span><span class="s1">'default'</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/account/<span class="nv">$account</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> account get <span class="nv">$account</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">();</span>
<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">accountInfo</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">getAccount</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">account</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">accountInfo</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pubkeyhash"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receiveDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changeDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nestedDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lookahead"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receiveAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mu5Puppq4Es3mibRskMwoGjoZujHCFRwGS"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nestedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changeAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n3nFYgQR2mrLwC3X66xHNsx4UqhS3rkSnY"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tpubDC5u44zLNUVo2gPVdqCbtX644PKccH5VZB3nqUgeCiwKoi6BQZGtr5d6hhougcD6PqjszsbR3xHrQ5k8yTbUt64aSthWuNdGi7zSwfGVuxc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get account info.</p>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET /wallet/:id/account/:account</code></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id <br> <em>string</em></td>
<td>id of wallet you would like to query</td>
</tr>
<tr>
<td>account <br> <em>string</em></td>
<td>id of account you would to retrieve information for</td>
</tr>
</tbody></table>
<h2 id='create-new-wallet-account'>Create new wallet account</h2><pre class="highlight javascript tab-javascript"><code><span class="kd">let</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">type</span><span class="p">;</span>
</code></pre><pre class="highlight shell tab-shell--vars"><code><span class="nv">id</span><span class="o">=</span><span class="s1">'test'</span>
<span class="nv">name</span><span class="o">=</span><span class="s1">'menace'</span>
<span class="nb">type</span><span class="o">=</span><span class="s1">'multisig'</span>
</code></pre><pre class="highlight shell tab-shell--cli"><code>bcoin cli wallet --id<span class="o">=</span><span class="nv">$id</span> account create <span class="nv">$name</span> --type<span class="o">=</span><span class="nv">$type</span>
</code></pre><pre class="highlight shell tab-shell--curl"><code>curl <span class="nv">$url</span>/wallet/<span class="nv">$id</span>/account/<span class="nv">$name</span> <span class="se">\</span>
    -X PUT
    --data <span class="s1">'{"type": "'</span><span class="nv">$type</span><span class="s2">"}'
</span></code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">httpWallet</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">bcoin</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nx">Wallet</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">id</span> <span class="p">});</span>
<span class="kr">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="nx">type</span><span class="p">}</span>

<span class="p">(</span><span class="nx">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">account</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">httpWallet</span><span class="p">.</span><span class="nx">createAccount</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">account</span><span class="p">);</span>
<span class="p">})();</span>
</code></pre>
<blockquote>
<p>Sample response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"wid"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"menace"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"initialized"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"witness"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"watchOnly"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"multisig"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"m"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receiveDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changeDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nestedDepth"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"lookahead"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="s2">"receiveAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mg7b3H3ZCHx3fwvUf8gaRHwcgsL7WdJQXv"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nestedAddress"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"changeAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mkYtQFpxDcqutMJtyzKNFPnn97zhft56wH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"accountKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tpubDC5u44zLNUVo55dtQsJRsbQgeNfrp8ctxVEdDqDQtR7ES9XG5h1SGhkv2HCuKA2RZysaFzkuy5bgxF9egvG5BJgapWwbYMU4BJ1SeSj916G"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"keys"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Create account with specified account name.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>PUT /wallet/:id/account/:name</code></p>
<h3 id='options-object'>Options object</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name <br> <em>string</em></td>
<td>name to give the account. Option can be <code>account</code> or <code>name</code></td>
</tr>
<tr>
<td>witness <br> <em>bool</em></td>
<td>whether or not to act as segregated witness wallet account</td>
</tr>
<tr>
<td>watchOnly <br> <em>bool</em></td>
<td>whether or not to make watch only account. Watch only accounts can&#39;t accept private keys for import (or sign transactions)</td>
</tr>
<tr>
<td>type <br> <em>string</em></td>
<td>what type of wallet to make it (&#39;multisig&#39;, &#39;pubkeyhash&#39;)</td>
</tr>
<tr>
<td>m <br> <em>int</em></td>
<td>for multisig accounts, what to make <code>m</code> in m-of-n</td>
</tr>
<tr>
<td>n <br> <em>int</em></td>
<td>for multisig accounts, what to make the <code>n</code> in m-of-n</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>Any errors will be returned with an http status code other than 200, containing a JSON object in the form:</p>

<p><code>{&quot;error&quot;: { message: &quot;message&quot; } }</code></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell--curl">cURL</a>
                <a href="#" data-language-name="shell--cli">CLI</a>
                <a href="#" data-language-name="javascript">javascript</a>
          </div>
      </div>
    </div>
  </body>
</html>
