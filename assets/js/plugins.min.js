(function($){$.fn.appear=function(fn,options){var settings=$.extend({data:undefined,one:true,accX:0,accY:0},options);return this.each(function(){var t=$(this);t.appeared=false;if(!fn){t.trigger("appear",settings.data);return}var w=$(window);var check=function(){if(!t.is(":visible")){t.appeared=false;return}var a=w.scrollLeft();var b=w.scrollTop();var o=t.offset();var x=o.left;var y=o.top;var ax=settings.accX;var ay=settings.accY;var th=t.height();var wh=w.height();var tw=t.width();var ww=w.width();if(y+th+ay>=b&&y<=b+wh+ay&&x+tw+ax>=a&&x<=a+ww+ax){if(!t.appeared)t.trigger("appear",settings.data)}else{t.appeared=false}};var modifiedFn=function(){t.appeared=true;if(settings.one){w.unbind("scroll",check);var i=$.inArray(check,$.fn.appear.checks);if(i>=0)$.fn.appear.checks.splice(i,1)}fn.apply(this,arguments)};if(settings.one)t.one("appear",settings.data,modifiedFn);else t.bind("appear",settings.data,modifiedFn);w.scroll(check);$.fn.appear.checks.push(check);check()})};$.extend($.fn.appear,{checks:[],timeout:null,checkAll:function(){var length=$.fn.appear.checks.length;if(length>0)while(length--)$.fn.appear.checks[length]()},run:function(){if($.fn.appear.timeout)clearTimeout($.fn.appear.timeout);$.fn.appear.timeout=setTimeout($.fn.appear.checkAll,20)}});$.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(i,n){var old=$.fn[n];if(old){$.fn[n]=function(){var r=old.apply(this,arguments);$.fn.appear.run();return r}}})})(jQuery);(function($){$.fn.countTo=function(options){options=$.extend({},$.fn.countTo.defaults,options||{});var loops=Math.ceil(options.speed/options.refreshInterval),increment=(options.to-options.from)/loops;return $(this).each(function(){var _this=this,loopCount=0,value=options.from,interval=setInterval(updateTimer,options.refreshInterval);function updateTimer(){value+=increment;loopCount++;$(_this).html(value.toFixed(options.decimals));if(typeof options.onUpdate=="function"){options.onUpdate.call(_this,value)}if(loopCount>=loops){clearInterval(interval);value=options.to;if(typeof options.onComplete=="function"){options.onComplete.call(_this,value)}}}})};$.fn.countTo.defaults={from:0,to:100,speed:1e3,refreshInterval:100,decimals:0,onUpdate:null,onComplete:null}})(jQuery);(function($,undef){var defaults,gm,gId=0,isFunction=$.isFunction,isArray=$.isArray;function isObject(m){return typeof m==="object"}function isString(m){return typeof m==="string"}function isNumber(m){return typeof m==="number"}function isUndefined(m){return m===undef}function initDefaults(){gm=google.maps;if(!defaults){defaults={verbose:false,queryLimit:{attempt:5,delay:250,random:250},classes:function(){var r={};$.each("Map Marker InfoWindow Circle Rectangle OverlayView StreetViewPanorama KmlLayer TrafficLayer BicyclingLayer GroundOverlay StyledMapType ImageMapType".split(" "),function(_,k){r[k]=gm[k]});return r}(),map:{mapTypeId:gm.MapTypeId.ROADMAP,center:[46.578498,2.457275],zoom:2},overlay:{pane:"floatPane",content:"",offset:{x:0,y:0}},geoloc:{getCurrentPosition:{maximumAge:6e4,timeout:5e3}}}}}function globalId(id,simulate){return isUndefined(id)?"gmap3_"+(simulate?gId+1:++gId):id}function googleVersionMin(version){var i,gmVersion=gm.version.split(".");version=version.split(".");for(i=0;i<gmVersion.length;i++){gmVersion[i]=parseInt(gmVersion[i],10)}for(i=0;i<version.length;i++){version[i]=parseInt(version[i],10);if(gmVersion.hasOwnProperty(i)){if(gmVersion[i]<version[i]){return false}}else{return false}}return true}function attachEvents($container,args,sender,id,senders){var td=args.td||{},context={id:id,data:td.data,tag:td.tag};function bind(items,handler){if(items){$.each(items,function(name,f){var self=$container,fn=f;if(isArray(f)){self=f[0];fn=f[1]}handler(sender,name,function(event){fn.apply(self,[senders||sender,event,context])})})}}bind(td.events,gm.event.addListener);bind(td.onces,gm.event.addListenerOnce)}function getKeys(obj){var k,keys=[];for(k in obj){if(obj.hasOwnProperty(k)){keys.push(k)}}return keys}function copyKey(target,key){var i,args=arguments;for(i=2;i<args.length;i++){if(key in args[i]){if(args[i].hasOwnProperty(key)){target[key]=args[i][key];return}}}}function tuple(args,value){var k,i,keys=["data","tag","id","events","onces"],td={};if(args.td){for(k in args.td){if(args.td.hasOwnProperty(k)){if(k!=="options"&&k!=="values"){td[k]=args.td[k]}}}}for(i=0;i<keys.length;i++){copyKey(td,keys[i],value,args.td)}td.options=$.extend({},args.opts||{},value.options||{});return td}function error(){if(defaults.verbose){var i,err=[];if(window.console&&isFunction(console.error)){for(i=0;i<arguments.length;i++){err.push(arguments[i])}console.error.apply(console,err)}else{err="";for(i=0;i<arguments.length;i++){err+=arguments[i].toString()+" "}alert(err)}}}function numeric(mixed){return(isNumber(mixed)||isString(mixed))&&mixed!==""&&!isNaN(mixed)}function array(mixed){var k,a=[];if(!isUndefined(mixed)){if(isObject(mixed)){if(isNumber(mixed.length)){a=mixed}else{for(k in mixed){a.push(mixed[k])}}}else{a.push(mixed)}}return a}function ftag(tag){if(tag){if(isFunction(tag)){return tag}tag=array(tag);return function(val){var i;if(isUndefined(val)){return false}if(isObject(val)){for(i=0;i<val.length;i++){if($.inArray(val[i],tag)>=0){return true}}return false}return $.inArray(val,tag)>=0}}}function toLatLng(mixed,emptyReturnMixed,noFlat){var empty=emptyReturnMixed?mixed:null;if(!mixed||isString(mixed)){return empty}if(mixed.latLng){return toLatLng(mixed.latLng)}if(mixed instanceof gm.LatLng){return mixed}if(numeric(mixed.lat)){return new gm.LatLng(mixed.lat,mixed.lng)}if(!noFlat&&isArray(mixed)){if(!numeric(mixed[0])||!numeric(mixed[1])){return empty}return new gm.LatLng(mixed[0],mixed[1])}return empty}function toLatLngBounds(mixed){var ne,sw;if(!mixed||mixed instanceof gm.LatLngBounds){return mixed||null}if(isArray(mixed)){if(mixed.length===2){ne=toLatLng(mixed[0]);sw=toLatLng(mixed[1])}else if(mixed.length===4){ne=toLatLng([mixed[0],mixed[1]]);sw=toLatLng([mixed[2],mixed[3]])}}else{if("ne"in mixed&&"sw"in mixed){ne=toLatLng(mixed.ne);sw=toLatLng(mixed.sw)}else if("n"in mixed&&"e"in mixed&&"s"in mixed&&"w"in mixed){ne=toLatLng([mixed.n,mixed.e]);sw=toLatLng([mixed.s,mixed.w])}}if(ne&&sw){return new gm.LatLngBounds(sw,ne)}return null}function resolveLatLng(ctx,method,runLatLng,args,attempt){var latLng=runLatLng?toLatLng(args.td,false,true):false,conf=latLng?{latLng:latLng}:args.td.address?isString(args.td.address)?{address:args.td.address}:args.td.address:false,cache=conf?geocoderCache.get(conf):false,self=this;if(conf){attempt=attempt||0;if(cache){args.latLng=cache.results[0].geometry.location;args.results=cache.results;args.status=cache.status;method.apply(ctx,[args])}else{if(conf.location){conf.location=toLatLng(conf.location)}if(conf.bounds){conf.bounds=toLatLngBounds(conf.bounds)}geocoder().geocode(conf,function(results,status){if(status===gm.GeocoderStatus.OK){geocoderCache.store(conf,{results:results,status:status});args.latLng=results[0].geometry.location;args.results=results;args.status=status;method.apply(ctx,[args])}else if(status===gm.GeocoderStatus.OVER_QUERY_LIMIT&&attempt<defaults.queryLimit.attempt){setTimeout(function(){resolveLatLng.apply(self,[ctx,method,runLatLng,args,attempt+1])},defaults.queryLimit.delay+Math.floor(Math.random()*defaults.queryLimit.random))}else{error("geocode failed",status,conf);args.latLng=args.results=false;args.status=status;method.apply(ctx,[args])}})}}else{args.latLng=toLatLng(args.td,false,true);method.apply(ctx,[args])}}function resolveAllLatLng(list,ctx,method,args){var self=this,i=-1;function resolve(){do{i++}while(i<list.length&&!("address"in list[i]));if(i>=list.length){method.apply(ctx,[args]);return}resolveLatLng(self,function(args){delete args.td;$.extend(list[i],args);resolve.apply(self,[])},true,{td:list[i]})}resolve()}function geoloc(ctx,method,args){var is_echo=false;if(navigator&&navigator.geolocation){navigator.geolocation.getCurrentPosition(function(pos){if(!is_echo){is_echo=true;args.latLng=new gm.LatLng(pos.coords.latitude,pos.coords.longitude);method.apply(ctx,[args])}},function(){if(!is_echo){is_echo=true;args.latLng=false;method.apply(ctx,[args])}},args.opts.getCurrentPosition)}else{args.latLng=false;method.apply(ctx,[args])}}function isDirectGet(obj){var k,result=false;if(isObject(obj)&&obj.hasOwnProperty("get")){for(k in obj){if(k!=="get"){return false}}result=!obj.get.hasOwnProperty("callback")}return result}var services={},geocoderCache=new GeocoderCache;function geocoder(){if(!services.geocoder){services.geocoder=new gm.Geocoder}return services.geocoder}function GeocoderCache(){var cache=[];this.get=function(request){if(cache.length){var i,j,k,item,eq,keys=getKeys(request);for(i=0;i<cache.length;i++){item=cache[i];eq=keys.length===item.keys.length;for(j=0;j<keys.length&&eq;j++){k=keys[j];eq=k in item.request;if(eq){if(isObject(request[k])&&"equals"in request[k]&&isFunction(request[k])){eq=request[k].equals(item.request[k])}else{eq=request[k]===item.request[k]}}}if(eq){return item.results}}}};this.store=function(request,results){cache.push({request:request,keys:getKeys(request),results:results})}}function Stack(){var st=[],self=this;self.empty=function(){return!st.length};self.add=function(v){st.push(v)};self.get=function(){return st.length?st[0]:false};self.ack=function(){st.shift()}}function Store(){var store={},objects={},self=this;function normalize(res){return{id:res.id,name:res.name,object:res.obj,tag:res.tag,data:res.data}}self.add=function(args,name,obj,sub){var td=args.td||{},id=globalId(td.id);if(!store[name]){store[name]=[]}if(id in objects){self.clearById(id)}objects[id]={obj:obj,sub:sub,name:name,id:id,tag:td.tag,data:td.data};store[name].push(id);return id};self.getById=function(id,sub,full){var result=false;if(id in objects){if(sub){result=objects[id].sub}else if(full){result=normalize(objects[id])}else{result=objects[id].obj}}return result};self.get=function(name,last,tag,full){var n,id,check=ftag(tag);if(!store[name]||!store[name].length){return null}n=store[name].length;while(n){n--;id=store[name][last?n:store[name].length-n-1];if(id&&objects[id]){if(check&&!check(objects[id].tag)){continue}return full?normalize(objects[id]):objects[id].obj}}return null};self.all=function(name,tag,full){var result=[],check=ftag(tag),find=function(n){var i,id;for(i=0;i<store[n].length;i++){id=store[n][i];if(id&&objects[id]){if(check&&!check(objects[id].tag)){continue}result.push(full?normalize(objects[id]):objects[id].obj)}}};if(name in store){find(name)}else if(isUndefined(name)){for(name in store){find(name)}}return result};function rm(obj){if(isFunction(obj.setMap)){obj.setMap(null)}if(isFunction(obj.remove)){obj.remove()}if(isFunction(obj.free)){obj.free()}obj=null}self.rm=function(name,check,pop){var idx,id;if(!store[name]){return false}if(check){if(pop){for(idx=store[name].length-1;idx>=0;idx--){id=store[name][idx];if(check(objects[id].tag)){break}}}else{for(idx=0;idx<store[name].length;idx++){id=store[name][idx];if(check(objects[id].tag)){break}}}}else{idx=pop?store[name].length-1:0}if(!(idx in store[name])){return false}return self.clearById(store[name][idx],idx)};self.clearById=function(id,idx){if(id in objects){var i,name=objects[id].name;for(i=0;isUndefined(idx)&&i<store[name].length;i++){if(id===store[name][i]){idx=i}}rm(objects[id].obj);if(objects[id].sub){rm(objects[id].sub)}delete objects[id];store[name].splice(idx,1);return true}return false};self.objGetById=function(id){var result,idx;if(store.clusterer){for(idx in store.clusterer){if((result=objects[store.clusterer[idx]].obj.getById(id))!==false){return result}}}return false};self.objClearById=function(id){var idx;if(store.clusterer){for(idx in store.clusterer){if(objects[store.clusterer[idx]].obj.clearById(id)){return true}}}return null};self.clear=function(list,last,first,tag){var k,i,name,check=ftag(tag);if(!list||!list.length){list=[];for(k in store){list.push(k)}}else{list=array(list)}for(i=0;i<list.length;i++){name=list[i];if(last){self.rm(name,check,true)}else if(first){self.rm(name,check,false)}else{while(self.rm(name,check,false)){}}}};self.objClear=function(list,last,first,tag){var idx;if(store.clusterer&&($.inArray("marker",list)>=0||!list.length)){for(idx in store.clusterer){objects[store.clusterer[idx]].obj.clear(last,first,tag)}}}}function Task(ctx,onEnd,td){var session={},self=this,current,resolve={latLng:{map:false,marker:false,infowindow:false,circle:false,overlay:false,getlatlng:false,getmaxzoom:false,getelevation:false,streetviewpanorama:false,getaddress:true},geoloc:{getgeoloc:true}};function unify(td){var result={};result[td]={};return result}if(isString(td)){td=unify(td)}function next(){var k;for(k in td){if(td.hasOwnProperty(k)&&!session.hasOwnProperty(k)){return k}}}self.run=function(){var k,opts;while(k=next()){if(isFunction(ctx[k])){current=k;opts=$.extend(true,{},defaults[k]||{},td[k].options||{});if(k in resolve.latLng){if(td[k].values){resolveAllLatLng(td[k].values,ctx,ctx[k],{td:td[k],opts:opts,session:session})}else{resolveLatLng(ctx,ctx[k],resolve.latLng[k],{td:td[k],opts:opts,session:session})}}else if(k in resolve.geoloc){geoloc(ctx,ctx[k],{td:td[k],opts:opts,session:session})}else{ctx[k].apply(ctx,[{td:td[k],opts:opts,session:session}])}return}else{session[k]=null}}onEnd.apply(ctx,[td,session])};self.ack=function(result){session[current]=result;self.run.apply(self,[])}}function directionsService(){if(!services.ds){services.ds=new gm.DirectionsService}return services.ds}function distanceMatrixService(){if(!services.dms){services.dms=new gm.DistanceMatrixService}return services.dms}function maxZoomService(){if(!services.mzs){services.mzs=new gm.MaxZoomService}return services.mzs}function elevationService(){if(!services.es){services.es=new gm.ElevationService}return services.es}function newEmptyOverlay(map,radius){function Overlay(){var self=this;self.onAdd=function(){};self.onRemove=function(){};self.draw=function(){};return defaults.classes.OverlayView.apply(self,[])}Overlay.prototype=defaults.classes.OverlayView.prototype;var obj=new Overlay;obj.setMap(map);return obj}function InternalClusterer($container,map,raw){var timer,projection,ffilter,fdisplay,ferror,updating=false,updated=false,redrawing=false,ready=false,enabled=true,self=this,events=[],store={},ids={},idxs={},markers=[],tds=[],values=[],overlay=newEmptyOverlay(map,raw.radius);main();function prepareMarker(index){if(!markers[index]){delete tds[index].options.map;markers[index]=new defaults.classes.Marker(tds[index].options);attachEvents($container,{td:tds[index]},markers[index],tds[index].id)}}self.getById=function(id){if(id in ids){prepareMarker(ids[id]);return markers[ids[id]]}return false};self.rm=function(id){var index=ids[id];if(markers[index]){markers[index].setMap(null)}delete markers[index];markers[index]=false;delete tds[index];tds[index]=false;delete values[index];values[index]=false;delete ids[id];delete idxs[index];updated=true};self.clearById=function(id){if(id in ids){self.rm(id);return true}};self.clear=function(last,first,tag){var start,stop,step,index,i,list=[],check=ftag(tag);if(last){start=tds.length-1;stop=-1;step=-1}else{start=0;stop=tds.length;step=1}for(index=start;index!==stop;index+=step){if(tds[index]){if(!check||check(tds[index].tag)){list.push(idxs[index]);if(first||last){break}}}}for(i=0;i<list.length;i++){self.rm(list[i])}};self.add=function(td,value){td.id=globalId(td.id);self.clearById(td.id);ids[td.id]=markers.length;idxs[markers.length]=td.id;markers.push(null);tds.push(td);values.push(value);updated=true};self.addMarker=function(marker,td){td=td||{};td.id=globalId(td.id);self.clearById(td.id);if(!td.options){td.options={}}td.options.position=marker.getPosition();attachEvents($container,{td:td},marker,td.id);ids[td.id]=markers.length;idxs[markers.length]=td.id;markers.push(marker);tds.push(td);values.push(td.data||{});updated=true};self.td=function(index){return tds[index]};self.value=function(index){return values[index]};self.marker=function(index){if(index in markers){prepareMarker(index);return markers[index]}return false};self.markerIsSet=function(index){return Boolean(markers[index])};self.setMarker=function(index,marker){markers[index]=marker};self.store=function(cluster,obj,shadow){store[cluster.ref]={obj:obj,shadow:shadow}};self.free=function(){var i;for(i=0;i<events.length;i++){gm.event.removeListener(events[i])}events=[];$.each(store,function(key){flush(key)});store={};$.each(tds,function(i){tds[i]=null});tds=[];$.each(markers,function(i){if(markers[i]){markers[i].setMap(null);delete markers[i]}});markers=[];$.each(values,function(i){delete values[i]});values=[];ids={};idxs={}};self.filter=function(f){ffilter=f;redraw()};self.enable=function(value){if(enabled!==value){enabled=value;redraw()}};self.display=function(f){fdisplay=f};self.error=function(f){ferror=f};self.beginUpdate=function(){updating=true};self.endUpdate=function(){updating=false;if(updated){redraw()}};self.autofit=function(bounds){var i;for(i=0;i<tds.length;i++){if(tds[i]){bounds.extend(tds[i].options.position)}}};function main(){projection=overlay.getProjection();if(!projection){setTimeout(function(){main.apply(self,[])},25);return}ready=true;events.push(gm.event.addListener(map,"zoom_changed",delayRedraw));events.push(gm.event.addListener(map,"bounds_changed",delayRedraw));redraw()}function flush(key){if(isObject(store[key])){if(isFunction(store[key].obj.setMap)){store[key].obj.setMap(null)}if(isFunction(store[key].obj.remove)){store[key].obj.remove()}if(isFunction(store[key].shadow.remove)){store[key].obj.remove()}if(isFunction(store[key].shadow.setMap)){store[key].shadow.setMap(null)}delete store[key].obj;delete store[key].shadow}else if(markers[key]){markers[key].setMap(null)}delete store[key]}function distanceInMeter(){var lat1,lat2,lng1,lng2,e,f,g,h,cos=Math.cos,sin=Math.sin,args=arguments;if(args[0]instanceof gm.LatLng){lat1=args[0].lat();lng1=args[0].lng();if(args[1]instanceof gm.LatLng){lat2=args[1].lat();lng2=args[1].lng()}else{lat2=args[1];lng2=args[2]}}else{lat1=args[0];lng1=args[1];if(args[2]instanceof gm.LatLng){lat2=args[2].lat();lng2=args[2].lng()}else{lat2=args[2];lng2=args[3]}}e=Math.PI*lat1/180;f=Math.PI*lng1/180;g=Math.PI*lat2/180;h=Math.PI*lng2/180;return 1e3*6371*Math.acos(Math.min(cos(e)*cos(g)*cos(f)*cos(h)+cos(e)*sin(f)*cos(g)*sin(h)+sin(e)*sin(g),1))}function extendsMapBounds(){var radius=distanceInMeter(map.getCenter(),map.getBounds().getNorthEast()),circle=new gm.Circle({center:map.getCenter(),radius:1.25*radius});return circle.getBounds()}function getStoreKeys(){var k,keys={};for(k in store){keys[k]=true}return keys}function delayRedraw(){clearTimeout(timer);timer=setTimeout(redraw,25)}function extendsBounds(latLng){var p=projection.fromLatLngToDivPixel(latLng),ne=projection.fromDivPixelToLatLng(new gm.Point(p.x+raw.radius,p.y-raw.radius)),sw=projection.fromDivPixelToLatLng(new gm.Point(p.x-raw.radius,p.y+raw.radius));return new gm.LatLngBounds(sw,ne)}function redraw(){if(updating||redrawing||!ready){return}var i,j,k,indexes,check=false,bounds,cluster,position,previous,lat,lng,loop,keys=[],used={},zoom=map.getZoom(),forceDisabled="maxZoom"in raw&&zoom>raw.maxZoom,previousKeys=getStoreKeys();updated=false;if(zoom>3){bounds=extendsMapBounds();check=bounds.getSouthWest().lng()<bounds.getNorthEast().lng()}for(i=0;i<tds.length;i++){if(tds[i]&&(!check||bounds.contains(tds[i].options.position))&&(!ffilter||ffilter(values[i]))){keys.push(i)}}while(1){i=0;while(used[i]&&i<keys.length){i++}if(i===keys.length){break}indexes=[];if(enabled&&!forceDisabled){loop=10;do{previous=indexes;indexes=[];loop--;if(previous.length){position=bounds.getCenter()}else{position=tds[keys[i]].options.position}bounds=extendsBounds(position);for(j=i;j<keys.length;j++){if(used[j]){continue}if(bounds.contains(tds[keys[j]].options.position)){indexes.push(j)}}}while(previous.length<indexes.length&&indexes.length>1&&loop)}else{for(j=i;j<keys.length;j++){if(!used[j]){indexes.push(j);break}}}cluster={indexes:[],ref:[]};lat=lng=0;for(k=0;k<indexes.length;k++){used[indexes[k]]=true;cluster.indexes.push(keys[indexes[k]]);cluster.ref.push(keys[indexes[k]]);lat+=tds[keys[indexes[k]]].options.position.lat();lng+=tds[keys[indexes[k]]].options.position.lng()}lat/=indexes.length;lng/=indexes.length;cluster.latLng=new gm.LatLng(lat,lng);cluster.ref=cluster.ref.join("-");if(cluster.ref in previousKeys){delete previousKeys[cluster.ref]}else{if(indexes.length===1){store[cluster.ref]=true}fdisplay(cluster)}}$.each(previousKeys,function(key){flush(key)});redrawing=false}}function Clusterer(id,internalClusterer){var self=this;self.id=function(){return id};self.filter=function(f){internalClusterer.filter(f)};self.enable=function(){internalClusterer.enable(true)};self.disable=function(){internalClusterer.enable(false)};self.add=function(marker,td,lock){if(!lock){internalClusterer.beginUpdate()}internalClusterer.addMarker(marker,td);if(!lock){internalClusterer.endUpdate()}};self.getById=function(id){return internalClusterer.getById(id)};self.clearById=function(id,lock){var result;if(!lock){internalClusterer.beginUpdate()}result=internalClusterer.clearById(id);if(!lock){internalClusterer.endUpdate()}return result};self.clear=function(last,first,tag,lock){if(!lock){internalClusterer.beginUpdate()}internalClusterer.clear(last,first,tag);if(!lock){internalClusterer.endUpdate()}}}function OverlayView(map,opts,latLng,$div){var self=this,listeners=[];defaults.classes.OverlayView.call(self);self.setMap(map);self.onAdd=function(){var panes=self.getPanes();if(opts.pane in panes){$(panes[opts.pane]).append($div)}$.each("dblclick click mouseover mousemove mouseout mouseup mousedown".split(" "),function(i,name){listeners.push(gm.event.addDomListener($div[0],name,function(e){$.Event(e).stopPropagation();gm.event.trigger(self,name,[e]);self.draw()}))});listeners.push(gm.event.addDomListener($div[0],"contextmenu",function(e){$.Event(e).stopPropagation();gm.event.trigger(self,"rightclick",[e]);self.draw()}))};self.getPosition=function(){return latLng};self.setPosition=function(newLatLng){latLng=newLatLng;self.draw()};self.draw=function(){var ps=self.getProjection().fromLatLngToDivPixel(latLng);$div.css("left",ps.x+opts.offset.x+"px").css("top",ps.y+opts.offset.y+"px")};self.onRemove=function(){var i;for(i=0;i<listeners.length;i++){gm.event.removeListener(listeners[i])}$div.remove()};self.hide=function(){$div.hide()};self.show=function(){$div.show()};self.toggle=function(){if($div){if($div.is(":visible")){self.show()}else{self.hide()}}};self.toggleDOM=function(){self.setMap(self.getMap()?null:map)};self.getDOMElement=function(){return $div[0]}}function Gmap3($this){var self=this,stack=new Stack,store=new Store,map=null,task;function run(){if(!task&&(task=stack.get())){task.run()}}function end(){task=null;stack.ack();run.call(self)}function callback(args){var params,cb=args.td.callback;if(cb){params=Array.prototype.slice.call(arguments,1);if(isFunction(cb)){cb.apply($this,params)}else if(isArray(cb)){if(isFunction(cb[1])){cb[1].apply(cb[0],params)}}}}function manageEnd(args,obj,id){if(id){attachEvents($this,args,obj,id)}callback(args,obj);task.ack(obj)}function newMap(latLng,args){args=args||{};var opts=args.td&&args.td.options?args.td.options:0;if(map){if(opts){if(opts.center){opts.center=toLatLng(opts.center)}map.setOptions(opts)}}else{opts=args.opts||$.extend(true,{},defaults.map,opts||{});opts.center=latLng||toLatLng(opts.center);map=new defaults.classes.Map($this.get(0),opts)}}self._plan=function(list){var k;for(k=0;k<list.length;k++){stack.add(new Task(self,end,list[k]))}run()};self.map=function(args){newMap(args.latLng,args);attachEvents($this,args,map);manageEnd(args,map)};self.destroy=function(args){store.clear();$this.empty();if(map){map=null}manageEnd(args,true)};self.overlay=function(args,internal){var objs=[],multiple="values"in args.td;if(!multiple){args.td.values=[{latLng:args.latLng,options:args.opts}]}if(!args.td.values.length){manageEnd(args,false);return}if(!OverlayView.__initialised){OverlayView.prototype=new defaults.classes.OverlayView;OverlayView.__initialised=true}$.each(args.td.values,function(i,value){var id,obj,td=tuple(args,value),$div=$(document.createElement("div")).css({border:"none",borderWidth:0,position:"absolute"});$div.append(td.options.content);obj=new OverlayView(map,td.options,toLatLng(td)||toLatLng(value),$div);objs.push(obj);$div=null;if(!internal){id=store.add(args,"overlay",obj);attachEvents($this,{td:td},obj,id)}});if(internal){return objs[0]}manageEnd(args,multiple?objs:objs[0])};function createClusterer(raw){var internalClusterer=new InternalClusterer($this,map,raw),td={},styles={},thresholds=[],isInt=/^[0-9]+$/,calculator,k;for(k in raw){if(isInt.test(k)){thresholds.push(1*k);styles[k]=raw[k];styles[k].width=styles[k].width||0;styles[k].height=styles[k].height||0}else{td[k]=raw[k]}}thresholds.sort(function(a,b){return a>b});if(td.calculator){calculator=function(indexes){var data=[];$.each(indexes,function(i,index){data.push(internalClusterer.value(index))});return td.calculator.apply($this,[data])}}else{calculator=function(indexes){return indexes.length}}internalClusterer.error(function(){error.apply(self,arguments)});internalClusterer.display(function(cluster){var i,style,atd,obj,offset,shadow,cnt=calculator(cluster.indexes);if(raw.force||cnt>1){for(i=0;i<thresholds.length;i++){if(thresholds[i]<=cnt){style=styles[thresholds[i]]}}}if(style){offset=style.offset||[-style.width/2,-style.height/2];atd=$.extend({},td);atd.options=$.extend({pane:"overlayLayer",content:style.content?style.content.replace("CLUSTER_COUNT",cnt):"",offset:{x:("x"in offset?offset.x:offset[0])||0,y:("y"in offset?offset.y:offset[1])||0}},td.options||{});obj=self.overlay({td:atd,opts:atd.options,latLng:toLatLng(cluster)},true);atd.options.pane="floatShadow";atd.options.content=$(document.createElement("div")).width(style.width+"px").height(style.height+"px").css({cursor:"pointer"});shadow=self.overlay({td:atd,opts:atd.options,latLng:toLatLng(cluster)},true);td.data={latLng:toLatLng(cluster),markers:[]};$.each(cluster.indexes,function(i,index){td.data.markers.push(internalClusterer.value(index));if(internalClusterer.markerIsSet(index)){internalClusterer.marker(index).setMap(null)}});attachEvents($this,{td:td},shadow,undef,{main:obj,shadow:shadow});internalClusterer.store(cluster,obj,shadow)}else{$.each(cluster.indexes,function(i,index){internalClusterer.marker(index).setMap(map)})}});return internalClusterer}self.marker=function(args){var objs,clusterer,internalClusterer,multiple="values"in args.td,init=!map;if(!multiple){args.opts.position=args.latLng||toLatLng(args.opts.position);args.td.values=[{options:args.opts}]}if(!args.td.values.length){manageEnd(args,false);return}if(init){newMap()}if(args.td.cluster&&!map.getBounds()){gm.event.addListenerOnce(map,"bounds_changed",function(){self.marker.apply(self,[args])});return}if(args.td.cluster){if(args.td.cluster instanceof Clusterer){clusterer=args.td.cluster;internalClusterer=store.getById(clusterer.id(),true)}else{internalClusterer=createClusterer(args.td.cluster);clusterer=new Clusterer(globalId(args.td.id,true),internalClusterer);store.add(args,"clusterer",clusterer,internalClusterer)}internalClusterer.beginUpdate();$.each(args.td.values,function(i,value){var td=tuple(args,value);td.options.position=td.options.position?toLatLng(td.options.position):toLatLng(value);if(td.options.position){td.options.map=map;if(init){map.setCenter(td.options.position);init=false}internalClusterer.add(td,value)}});internalClusterer.endUpdate();manageEnd(args,clusterer)}else{objs=[];$.each(args.td.values,function(i,value){var id,obj,td=tuple(args,value);td.options.position=td.options.position?toLatLng(td.options.position):toLatLng(value);if(td.options.position){td.options.map=map;if(init){map.setCenter(td.options.position);init=false}obj=new defaults.classes.Marker(td.options);objs.push(obj);id=store.add({td:td},"marker",obj);attachEvents($this,{td:td},obj,id)}});manageEnd(args,multiple?objs:objs[0])}};self.getroute=function(args){args.opts.origin=toLatLng(args.opts.origin,true);args.opts.destination=toLatLng(args.opts.destination,true);directionsService().route(args.opts,function(results,status){callback(args,status===gm.DirectionsStatus.OK?results:false,status);task.ack()})};self.getdistance=function(args){var i;args.opts.origins=array(args.opts.origins);for(i=0;i<args.opts.origins.length;i++){args.opts.origins[i]=toLatLng(args.opts.origins[i],true)}args.opts.destinations=array(args.opts.destinations);for(i=0;i<args.opts.destinations.length;i++){args.opts.destinations[i]=toLatLng(args.opts.destinations[i],true)}distanceMatrixService().getDistanceMatrix(args.opts,function(results,status){callback(args,status===gm.DistanceMatrixStatus.OK?results:false,status);task.ack()})};self.infowindow=function(args){var objs=[],multiple="values"in args.td;if(!multiple){if(args.latLng){args.opts.position=args.latLng}args.td.values=[{options:args.opts}]}$.each(args.td.values,function(i,value){var id,obj,td=tuple(args,value);td.options.position=td.options.position?toLatLng(td.options.position):toLatLng(value.latLng);if(!map){newMap(td.options.position)}obj=new defaults.classes.InfoWindow(td.options);if(obj&&(isUndefined(td.open)||td.open)){if(multiple){obj.open(map,td.anchor||undef)}else{obj.open(map,td.anchor||(args.latLng?undef:args.session.marker?args.session.marker:undef))}}objs.push(obj);id=store.add({td:td},"infowindow",obj);attachEvents($this,{td:td},obj,id)});manageEnd(args,multiple?objs:objs[0])};self.circle=function(args){var objs=[],multiple="values"in args.td;if(!multiple){args.opts.center=args.latLng||toLatLng(args.opts.center);args.td.values=[{options:args.opts}]}if(!args.td.values.length){manageEnd(args,false);return}$.each(args.td.values,function(i,value){var id,obj,td=tuple(args,value);td.options.center=td.options.center?toLatLng(td.options.center):toLatLng(value);if(!map){newMap(td.options.center)}td.options.map=map;obj=new defaults.classes.Circle(td.options);objs.push(obj);id=store.add({td:td},"circle",obj);attachEvents($this,{td:td},obj,id)});manageEnd(args,multiple?objs:objs[0])};self.getaddress=function(args){callback(args,args.results,args.status);task.ack()};self.getlatlng=function(args){callback(args,args.results,args.status);task.ack()};self.getmaxzoom=function(args){maxZoomService().getMaxZoomAtLatLng(args.latLng,function(result){callback(args,result.status===gm.MaxZoomStatus.OK?result.zoom:false,status);task.ack()})};self.getelevation=function(args){var i,locations=[],f=function(results,status){callback(args,status===gm.ElevationStatus.OK?results:false,status);task.ack()};if(args.latLng){locations.push(args.latLng)}else{locations=array(args.td.locations||[]);for(i=0;i<locations.length;i++){locations[i]=toLatLng(locations[i])}}if(locations.length){elevationService().getElevationForLocations({locations:locations},f)}else{if(args.td.path&&args.td.path.length){for(i=0;i<args.td.path.length;i++){locations.push(toLatLng(args.td.path[i]))}}if(locations.length){elevationService().getElevationAlongPath({path:locations,samples:args.td.samples},f)}else{task.ack()}}};self.defaults=function(args){$.each(args.td,function(name,value){if(isObject(defaults[name])){defaults[name]=$.extend({},defaults[name],value)}else{defaults[name]=value}});task.ack(true)};self.rectangle=function(args){var objs=[],multiple="values"in args.td;if(!multiple){args.td.values=[{options:args.opts}]}if(!args.td.values.length){manageEnd(args,false);return}$.each(args.td.values,function(i,value){var id,obj,td=tuple(args,value);td.options.bounds=td.options.bounds?toLatLngBounds(td.options.bounds):toLatLngBounds(value);if(!map){newMap(td.options.bounds.getCenter())}td.options.map=map;obj=new defaults.classes.Rectangle(td.options);objs.push(obj);id=store.add({td:td},"rectangle",obj);attachEvents($this,{td:td},obj,id)});manageEnd(args,multiple?objs:objs[0])};function poly(args,poly,path){var objs=[],multiple="values"in args.td;if(!multiple){args.td.values=[{options:args.opts}]}if(!args.td.values.length){manageEnd(args,false);return}newMap();$.each(args.td.values,function(_,value){var id,i,j,obj,td=tuple(args,value);if(td.options[path]){if(td.options[path][0][0]&&isArray(td.options[path][0][0])){for(i=0;i<td.options[path].length;i++){for(j=0;j<td.options[path][i].length;j++){td.options[path][i][j]=toLatLng(td.options[path][i][j])}}}else{for(i=0;i<td.options[path].length;i++){td.options[path][i]=toLatLng(td.options[path][i])}}}td.options.map=map;obj=new gm[poly](td.options);objs.push(obj);id=store.add({td:td},poly.toLowerCase(),obj);attachEvents($this,{td:td},obj,id)});manageEnd(args,multiple?objs:objs[0])}self.polyline=function(args){poly(args,"Polyline","path")};self.polygon=function(args){poly(args,"Polygon","paths")};self.trafficlayer=function(args){newMap();var obj=store.get("trafficlayer");if(!obj){obj=new defaults.classes.TrafficLayer;obj.setMap(map);store.add(args,"trafficlayer",obj)}manageEnd(args,obj)};self.bicyclinglayer=function(args){newMap();var obj=store.get("bicyclinglayer");if(!obj){obj=new defaults.classes.BicyclingLayer;obj.setMap(map);store.add(args,"bicyclinglayer",obj)}manageEnd(args,obj)};self.groundoverlay=function(args){args.opts.bounds=toLatLngBounds(args.opts.bounds);if(args.opts.bounds){newMap(args.opts.bounds.getCenter())}var id,obj=new defaults.classes.GroundOverlay(args.opts.url,args.opts.bounds,args.opts.opts);obj.setMap(map);id=store.add(args,"groundoverlay",obj);manageEnd(args,obj,id)};self.streetviewpanorama=function(args){if(!args.opts.opts){args.opts.opts={}}if(args.latLng){args.opts.opts.position=args.latLng}else if(args.opts.opts.position){args.opts.opts.position=toLatLng(args.opts.opts.position)}if(args.td.divId){args.opts.container=document.getElementById(args.td.divId)}else if(args.opts.container){args.opts.container=$(args.opts.container).get(0)}var id,obj=new defaults.classes.StreetViewPanorama(args.opts.container,args.opts.opts);if(obj){map.setStreetView(obj)}id=store.add(args,"streetviewpanorama",obj);manageEnd(args,obj,id)};self.kmllayer=function(args){var objs=[],multiple="values"in args.td;if(!multiple){args.td.values=[{options:args.opts}]}if(!args.td.values.length){manageEnd(args,false);return}$.each(args.td.values,function(i,value){var id,obj,options,td=tuple(args,value);if(!map){newMap()}options=td.options;if(td.options.opts){options=td.options.opts;if(td.options.url){options.url=td.options.url}}options.map=map;if(googleVersionMin("3.10")){obj=new defaults.classes.KmlLayer(options)}else{obj=new defaults.classes.KmlLayer(options.url,options)}objs.push(obj);id=store.add({td:td},"kmllayer",obj);attachEvents($this,{td:td},obj,id)});manageEnd(args,multiple?objs:objs[0])};self.panel=function(args){newMap();var id,$content,x=0,y=0,$div=$(document.createElement("div"));$div.css({position:"absolute",zIndex:1e3,visibility:"hidden"});if(args.opts.content){$content=$(args.opts.content);$div.append($content);$this.first().prepend($div);if(!isUndefined(args.opts.left)){x=args.opts.left}else if(!isUndefined(args.opts.right)){x=$this.width()-$content.width()-args.opts.right}else if(args.opts.center){x=($this.width()-$content.width())/2}if(!isUndefined(args.opts.top)){y=args.opts.top}else if(!isUndefined(args.opts.bottom)){y=$this.height()-$content.height()-args.opts.bottom}else if(args.opts.middle){y=($this.height()-$content.height())/2}$div.css({top:y,left:x,visibility:"visible"})}id=store.add(args,"panel",$div);manageEnd(args,$div,id);$div=null};self.directionsrenderer=function(args){args.opts.map=map;var id,obj=new gm.DirectionsRenderer(args.opts);if(args.td.divId){obj.setPanel(document.getElementById(args.td.divId))}else if(args.td.container){obj.setPanel($(args.td.container).get(0))}id=store.add(args,"directionsrenderer",obj);manageEnd(args,obj,id)};self.getgeoloc=function(args){manageEnd(args,args.latLng)};self.styledmaptype=function(args){newMap();var obj=new defaults.classes.StyledMapType(args.td.styles,args.opts);map.mapTypes.set(args.td.id,obj);manageEnd(args,obj)};self.imagemaptype=function(args){newMap();var obj=new defaults.classes.ImageMapType(args.opts);map.mapTypes.set(args.td.id,obj);manageEnd(args,obj)};self.autofit=function(args){var bounds=new gm.LatLngBounds;$.each(store.all(),function(i,obj){if(obj.getPosition){bounds.extend(obj.getPosition())}else if(obj.getBounds){bounds.extend(obj.getBounds().getNorthEast());bounds.extend(obj.getBounds().getSouthWest())}else if(obj.getPaths){obj.getPaths().forEach(function(path){path.forEach(function(latLng){bounds.extend(latLng)})})}else if(obj.getPath){obj.getPath().forEach(function(latLng){bounds.extend(latLng)})}else if(obj.getCenter){bounds.extend(obj.getCenter())}else if(typeof Clusterer==="function"&&obj instanceof Clusterer){obj=store.getById(obj.id(),true);if(obj){obj.autofit(bounds)}}});if(!bounds.isEmpty()&&(!map.getBounds()||!map.getBounds().equals(bounds))){if("maxZoom"in args.td){gm.event.addListenerOnce(map,"bounds_changed",function(){if(this.getZoom()>args.td.maxZoom){this.setZoom(args.td.maxZoom)}})}map.fitBounds(bounds)}manageEnd(args,true)};self.clear=function(args){if(isString(args.td)){if(store.clearById(args.td)||store.objClearById(args.td)){manageEnd(args,true);return}args.td={name:args.td}}if(args.td.id){$.each(array(args.td.id),function(i,id){store.clearById(id)||store.objClearById(id)})}else{store.clear(array(args.td.name),args.td.last,args.td.first,args.td.tag);store.objClear(array(args.td.name),args.td.last,args.td.first,args.td.tag)}manageEnd(args,true)};self.get=function(args,direct,full){var name,res,td=direct?args:args.td;if(!direct){full=td.full}if(isString(td)){res=store.getById(td,false,full)||store.objGetById(td);if(res===false){name=td;td={}}}else{name=td.name}if(name==="map"){res=map}if(!res){res=[];if(td.id){$.each(array(td.id),function(i,id){res.push(store.getById(id,false,full)||store.objGetById(id))});if(!isArray(td.id)){res=res[0]}}else{$.each(name?array(name):[undef],function(i,aName){var result;if(td.first){result=store.get(aName,false,td.tag,full);if(result){res.push(result)}}else if(td.all){$.each(store.all(aName,td.tag,full),function(i,result){res.push(result)})}else{result=store.get(aName,true,td.tag,full);if(result){res.push(result)}}});if(!td.all&&!isArray(name)){res=res[0]}}}res=isArray(res)||!td.all?res:[res];if(direct){return res}else{manageEnd(args,res)}};self.exec=function(args){$.each(array(args.td.func),function(i,func){$.each(self.get(args.td,true,args.td.hasOwnProperty("full")?args.td.full:true),function(j,res){func.call($this,res)})});manageEnd(args,true)};self.trigger=function(args){if(isString(args.td)){gm.event.trigger(map,args.td)}else{var options=[map,args.td.eventName];if(args.td.var_args){$.each(args.td.var_args,function(i,v){options.push(v)})}gm.event.trigger.apply(gm.event,options)}callback(args);task.ack()}}$.fn.gmap3=function(){var i,list=[],empty=true,results=[];initDefaults();for(i=0;i<arguments.length;i++){if(arguments[i]){list.push(arguments[i])}}if(!list.length){list.push("map")}$.each(this,function(){var $this=$(this),gmap3=$this.data("gmap3");empty=false;if(!gmap3){gmap3=new Gmap3($this);$this.data("gmap3",gmap3)}if(list.length===1&&(list[0]==="get"||isDirectGet(list[0]))){if(list[0]==="get"){results.push(gmap3.get("map",true))}else{results.push(gmap3.get(list[0].get,true,list[0].get.full))}}else{gmap3._plan(list)}});if(results.length){if(results.length===1){return results[0]}return results}return this}})(jQuery);(function(exports){"use strict";function EventEmitter(){}var proto=EventEmitter.prototype,nativeIndexOf=Array.prototype.indexOf?true:false;function indexOfListener(listener,listeners){if(nativeIndexOf){return listeners.indexOf(listener)}var i=listeners.length;while(i--){if(listeners[i]===listener){return i}}return-1}proto._getEvents=function(){return this._events||(this._events={})};proto.getListeners=function(evt){var events=this._getEvents(),response,key;if(typeof evt==="object"){response={};for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){response[key]=events[key]}}}else{response=events[evt]||(events[evt]=[])}return response};proto.getListenersAsObject=function(evt){var listeners=this.getListeners(evt),response;if(listeners instanceof Array){response={};response[evt]=listeners}return response||listeners};proto.addListener=function(evt,listener){var listeners=this.getListenersAsObject(evt),key;for(key in listeners){if(listeners.hasOwnProperty(key)&&indexOfListener(listener,listeners[key])===-1){listeners[key].push(listener)}}return this};proto.on=proto.addListener;proto.defineEvent=function(evt){this.getListeners(evt);return this};proto.defineEvents=function(evts){for(var i=0;i<evts.length;i+=1){this.defineEvent(evts[i])}return this};proto.removeListener=function(evt,listener){var listeners=this.getListenersAsObject(evt),index,key;for(key in listeners){if(listeners.hasOwnProperty(key)){index=indexOfListener(listener,listeners[key]);if(index!==-1){listeners[key].splice(index,1)}}}return this};proto.off=proto.removeListener;proto.addListeners=function(evt,listeners){return this.manipulateListeners(false,evt,listeners)};proto.removeListeners=function(evt,listeners){return this.manipulateListeners(true,evt,listeners)};proto.manipulateListeners=function(remove,evt,listeners){var i,value,single=remove?this.removeListener:this.addListener,multiple=remove?this.removeListeners:this.addListeners;if(typeof evt==="object"&&!(evt instanceof RegExp)){for(i in evt){if(evt.hasOwnProperty(i)&&(value=evt[i])){if(typeof value==="function"){single.call(this,i,value)}else{multiple.call(this,i,value)}}}}else{i=listeners.length;while(i--){single.call(this,evt,listeners[i])}}return this};proto.removeEvent=function(evt){var type=typeof evt,events=this._getEvents(),key;if(type==="string"){delete events[evt]}else if(type==="object"){for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){delete events[key]}}}else{delete this._events}return this};proto.emitEvent=function(evt,args){var listeners=this.getListenersAsObject(evt),i,key,response;for(key in listeners){if(listeners.hasOwnProperty(key)){i=listeners[key].length;while(i--){response=args?listeners[key][i].apply(null,args):listeners[key][i]();if(response===true){this.removeListener(evt,listeners[key][i])}}}}return this};proto.trigger=proto.emitEvent;proto.emit=function(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)};if(typeof define==="function"&&define.amd){define(function(){return EventEmitter})}else{exports.EventEmitter=EventEmitter}})(this);(function(window){"use strict";var docElem=document.documentElement;var bind=function(){};if(docElem.addEventListener){bind=function(obj,type,fn){obj.addEventListener(type,fn,false)}}else if(docElem.attachEvent){bind=function(obj,type,fn){obj[type+fn]=fn.handleEvent?function(){var event=window.event;event.target=event.target||event.srcElement;fn.handleEvent.call(fn,event)}:function(){var event=window.event;event.target=event.target||event.srcElement;fn.call(obj,event)};obj.attachEvent("on"+type,obj[type+fn])}}var unbind=function(){};if(docElem.removeEventListener){unbind=function(obj,type,fn){obj.removeEventListener(type,fn,false)}}else if(docElem.detachEvent){unbind=function(obj,type,fn){obj.detachEvent("on"+type,obj[type+fn]);try{delete obj[type+fn]}catch(err){obj[type+fn]=undefined}}}var eventie={bind:bind,unbind:unbind};if(typeof define==="function"&&define.amd){define(eventie)}else{window.eventie=eventie}})(this);(function(window){"use strict";var $=window.jQuery;var console=window.console;var hasConsole=typeof console!=="undefined";function extend(a,b){for(var prop in b){a[prop]=b[prop]}return a}var objToString=Object.prototype.toString;function isArray(obj){return objToString.call(obj)==="[object Array]"}function makeArray(obj){var ary=[];if(isArray(obj)){ary=obj}else if(typeof obj.length==="number"){for(var i=0,len=obj.length;i<len;i++){ary.push(obj[i])}}else{ary.push(obj)}return ary}function defineImagesLoaded(EventEmitter,eventie){function ImagesLoaded(elem,options,onAlways){if(!(this instanceof ImagesLoaded)){return new ImagesLoaded(elem,options)}if(typeof elem==="string"){elem=document.querySelectorAll(elem)}this.elements=makeArray(elem);this.options=extend({},this.options);if(typeof options==="function"){onAlways=options}else{extend(this.options,options)}if(onAlways){this.on("always",onAlways)}this.getImages();if($){this.jqDeferred=new $.Deferred}var _this=this;setTimeout(function(){_this.check()})}ImagesLoaded.prototype=new EventEmitter;ImagesLoaded.prototype.options={};ImagesLoaded.prototype.getImages=function(){this.images=[];for(var i=0,len=this.elements.length;i<len;i++){var elem=this.elements[i];if(elem.nodeName==="IMG"){this.addImage(elem)}var childElems=elem.querySelectorAll("img");for(var j=0,jLen=childElems.length;j<jLen;j++){var img=childElems[j];this.addImage(img)}}};ImagesLoaded.prototype.addImage=function(img){var loadingImage=new LoadingImage(img);this.images.push(loadingImage)};ImagesLoaded.prototype.check=function(){var _this=this;var checkedCount=0;var length=this.images.length;this.hasAnyBroken=false;if(!length){this.complete();return}function onConfirm(image,message){if(_this.options.debug&&hasConsole){console.log("confirm",image,message)}_this.progress(image);checkedCount++;if(checkedCount===length){_this.complete()}return true}for(var i=0;i<length;i++){var loadingImage=this.images[i];loadingImage.on("confirm",onConfirm);loadingImage.check()}};ImagesLoaded.prototype.progress=function(image){this.hasAnyBroken=this.hasAnyBroken||!image.isLoaded;this.emit("progress",this,image);if(this.jqDeferred){this.jqDeferred.notify(this,image)}};ImagesLoaded.prototype.complete=function(){var eventName=this.hasAnyBroken?"fail":"done";this.isComplete=true;this.emit(eventName,this);this.emit("always",this);if(this.jqDeferred){var jqMethod=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[jqMethod](this)}};if($){$.fn.imagesLoaded=function(options,callback){var instance=new ImagesLoaded(this,options,callback);return instance.jqDeferred.promise($(this))}}var cache={};function LoadingImage(img){this.img=img}LoadingImage.prototype=new EventEmitter;LoadingImage.prototype.check=function(){var cached=cache[this.img.src];if(cached){this.useCached(cached);return}cache[this.img.src]=this;if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var proxyImage=this.proxyImage=new Image;eventie.bind(proxyImage,"load",this);eventie.bind(proxyImage,"error",this);proxyImage.src=this.img.src};LoadingImage.prototype.useCached=function(cached){if(cached.isConfirmed){this.confirm(cached.isLoaded,"cached was confirmed")}else{var _this=this;cached.on("confirm",function(image){_this.confirm(image.isLoaded,"cache emitted confirmed");return true})}};LoadingImage.prototype.confirm=function(isLoaded,message){this.isConfirmed=true;this.isLoaded=isLoaded;this.emit("confirm",this,message)};LoadingImage.prototype.handleEvent=function(event){var method="on"+event.type;if(this[method]){this[method](event)}};LoadingImage.prototype.onload=function(){this.confirm(true,"onload");this.unbindProxyEvents()};LoadingImage.prototype.onerror=function(){this.confirm(false,"onerror");this.unbindProxyEvents()};LoadingImage.prototype.unbindProxyEvents=function(){eventie.unbind(this.proxyImage,"load",this);eventie.unbind(this.proxyImage,"error",this)};return ImagesLoaded}if(typeof define==="function"&&define.amd){define(["eventEmitter","eventie"],defineImagesLoaded)}else{window.imagesLoaded=defineImagesLoaded(window.EventEmitter,window.eventie)}})(window);(function(window){var slice=Array.prototype.slice;function noop(){}function defineBridget($){if(!$){return}function addOptionMethod(PluginClass){if(PluginClass.prototype.option){return}PluginClass.prototype.option=function(opts){if(!$.isPlainObject(opts)){return}this.options=$.extend(true,this.options,opts)}}var logError=typeof console==="undefined"?noop:function(message){console.error(message)};function bridge(namespace,PluginClass){$.fn[namespace]=function(options){if(typeof options==="string"){var args=slice.call(arguments,1);for(var i=0,len=this.length;i<len;i++){var elem=this[i];var instance=$.data(elem,namespace);if(!instance){logError("cannot call methods on "+namespace+" prior to initialization; "+"attempted to call '"+options+"'");continue}if(!$.isFunction(instance[options])||options.charAt(0)==="_"){logError("no such method '"+options+"' for "+namespace+" instance");continue}var returnValue=instance[options].apply(instance,args);if(returnValue!==undefined){return returnValue}}return this}else{return this.each(function(){var instance=$.data(this,namespace);if(instance){instance.option(options);instance._init()}else{instance=new PluginClass(this,options);$.data(this,namespace,instance)}})}}}$.bridget=function(namespace,PluginClass){addOptionMethod(PluginClass);bridge(namespace,PluginClass)};return $.bridget}if(typeof define==="function"&&define.amd){define("jquery-bridget/jquery.bridget",["jquery"],defineBridget)}else if(typeof exports==="object"){defineBridget(require("jquery"))}else{defineBridget(window.jQuery)}})(window);(function(window){var docElem=document.documentElement;var bind=function(){};function getIEEvent(obj){var event=window.event;event.target=event.target||event.srcElement||obj;return event}if(docElem.addEventListener){bind=function(obj,type,fn){obj.addEventListener(type,fn,false)}}else if(docElem.attachEvent){bind=function(obj,type,fn){obj[type+fn]=fn.handleEvent?function(){var event=getIEEvent(obj);fn.handleEvent.call(fn,event)}:function(){var event=getIEEvent(obj);fn.call(obj,event)};obj.attachEvent("on"+type,obj[type+fn])}}var unbind=function(){};if(docElem.removeEventListener){unbind=function(obj,type,fn){obj.removeEventListener(type,fn,false)}}else if(docElem.detachEvent){unbind=function(obj,type,fn){obj.detachEvent("on"+type,obj[type+fn]);try{delete obj[type+fn]}catch(err){obj[type+fn]=undefined}}}var eventie={bind:bind,unbind:unbind};if(typeof define==="function"&&define.amd){define("eventie/eventie",eventie)}else if(typeof exports==="object"){module.exports=eventie}else{window.eventie=eventie}})(this);(function(window){var document=window.document;var queue=[];function docReady(fn){if(typeof fn!=="function"){return}if(docReady.isReady){fn()}else{queue.push(fn)}}docReady.isReady=false;function onReady(event){var isIE8NotReady=event.type==="readystatechange"&&document.readyState!=="complete";if(docReady.isReady||isIE8NotReady){return}trigger()}function trigger(){docReady.isReady=true;for(var i=0,len=queue.length;i<len;i++){var fn=queue[i];fn()}}function defineDocReady(eventie){if(document.readyState==="complete"){trigger()}else{eventie.bind(document,"DOMContentLoaded",onReady);eventie.bind(document,"readystatechange",onReady);eventie.bind(window,"load",onReady)}return docReady}if(typeof define==="function"&&define.amd){define("doc-ready/doc-ready",["eventie/eventie"],defineDocReady)}else if(typeof exports==="object"){module.exports=defineDocReady(require("eventie"))}else{window.docReady=defineDocReady(window.eventie)}})(window);(function(){function EventEmitter(){}var proto=EventEmitter.prototype;var exports=this;var originalGlobalValue=exports.EventEmitter;function indexOfListener(listeners,listener){var i=listeners.length;while(i--){if(listeners[i].listener===listener){return i}}return-1}function alias(name){return function aliasClosure(){return this[name].apply(this,arguments)}}proto.getListeners=function getListeners(evt){var events=this._getEvents();var response;var key;if(evt instanceof RegExp){response={};for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){response[key]=events[key]}}}else{response=events[evt]||(events[evt]=[])}return response};proto.flattenListeners=function flattenListeners(listeners){var flatListeners=[];var i;for(i=0;i<listeners.length;i+=1){flatListeners.push(listeners[i].listener)}return flatListeners};proto.getListenersAsObject=function getListenersAsObject(evt){var listeners=this.getListeners(evt);var response;if(listeners instanceof Array){response={};response[evt]=listeners}return response||listeners};proto.addListener=function addListener(evt,listener){var listeners=this.getListenersAsObject(evt);var listenerIsWrapped=typeof listener==="object";var key;for(key in listeners){if(listeners.hasOwnProperty(key)&&indexOfListener(listeners[key],listener)===-1){listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:false})}}return this};proto.on=alias("addListener");proto.addOnceListener=function addOnceListener(evt,listener){return this.addListener(evt,{listener:listener,once:true})};proto.once=alias("addOnceListener");proto.defineEvent=function defineEvent(evt){this.getListeners(evt);return this};proto.defineEvents=function defineEvents(evts){for(var i=0;i<evts.length;i+=1){this.defineEvent(evts[i])}return this};proto.removeListener=function removeListener(evt,listener){var listeners=this.getListenersAsObject(evt);var index;var key;for(key in listeners){if(listeners.hasOwnProperty(key)){index=indexOfListener(listeners[key],listener);if(index!==-1){listeners[key].splice(index,1)}}}return this};proto.off=alias("removeListener");proto.addListeners=function addListeners(evt,listeners){return this.manipulateListeners(false,evt,listeners)};proto.removeListeners=function removeListeners(evt,listeners){return this.manipulateListeners(true,evt,listeners)};proto.manipulateListeners=function manipulateListeners(remove,evt,listeners){var i;var value;var single=remove?this.removeListener:this.addListener;var multiple=remove?this.removeListeners:this.addListeners;if(typeof evt==="object"&&!(evt instanceof RegExp)){for(i in evt){if(evt.hasOwnProperty(i)&&(value=evt[i])){if(typeof value==="function"){single.call(this,i,value)}else{multiple.call(this,i,value)}}}}else{i=listeners.length;while(i--){single.call(this,evt,listeners[i])}}return this};proto.removeEvent=function removeEvent(evt){var type=typeof evt;var events=this._getEvents();var key;if(type==="string"){delete events[evt]}else if(evt instanceof RegExp){for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){delete events[key]}}}else{delete this._events}return this};proto.removeAllListeners=alias("removeEvent");proto.emitEvent=function emitEvent(evt,args){var listeners=this.getListenersAsObject(evt);var listener;var i;var key;var response;for(key in listeners){if(listeners.hasOwnProperty(key)){i=listeners[key].length;while(i--){listener=listeners[key][i];if(listener.once===true){this.removeListener(evt,listener.listener)}response=listener.listener.apply(this,args||[]);if(response===this._getOnceReturnValue()){this.removeListener(evt,listener.listener)}}}}return this};proto.trigger=alias("emitEvent");proto.emit=function emit(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)};proto.setOnceReturnValue=function setOnceReturnValue(value){this._onceReturnValue=value;return this};proto._getOnceReturnValue=function _getOnceReturnValue(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};proto._getEvents=function _getEvents(){return this._events||(this._events={})};EventEmitter.noConflict=function noConflict(){exports.EventEmitter=originalGlobalValue;return EventEmitter};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return EventEmitter})}else if(typeof module==="object"&&module.exports){module.exports=EventEmitter}else{exports.EventEmitter=EventEmitter}}).call(this);(function(window){var prefixes="Webkit Moz ms Ms O".split(" ");var docElemStyle=document.documentElement.style;function getStyleProperty(propName){if(!propName){return}if(typeof docElemStyle[propName]==="string"){return propName}propName=propName.charAt(0).toUpperCase()+propName.slice(1);var prefixed;for(var i=0,len=prefixes.length;i<len;i++){prefixed=prefixes[i]+propName;if(typeof docElemStyle[prefixed]==="string"){return prefixed}}}if(typeof define==="function"&&define.amd){define("get-style-property/get-style-property",[],function(){return getStyleProperty})}else if(typeof exports==="object"){module.exports=getStyleProperty}else{window.getStyleProperty=getStyleProperty}})(window);(function(window,undefined){function getStyleSize(value){var num=parseFloat(value);var isValid=value.indexOf("%")===-1&&!isNaN(num);return isValid&&num}function noop(){}var logError=typeof console==="undefined"?noop:function(message){console.error(message)};var measurements=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function getZeroSize(){var size={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var i=0,len=measurements.length;i<len;i++){var measurement=measurements[i];size[measurement]=0}return size}function defineGetSize(getStyleProperty){var isSetup=false;var getStyle,boxSizingProp,isBoxSizeOuter;function setup(){if(isSetup){return}isSetup=true;var getComputedStyle=window.getComputedStyle;getStyle=function(){var getStyleFn=getComputedStyle?function(elem){return getComputedStyle(elem,null)}:function(elem){return elem.currentStyle};return function getStyle(elem){var style=getStyleFn(elem);if(!style){logError("Style returned "+style+". Are you running this code in a hidden iframe on Firefox? "+"See http://bit.ly/getsizebug1")}return style}}();boxSizingProp=getStyleProperty("boxSizing");if(boxSizingProp){var div=document.createElement("div");div.style.width="200px";div.style.padding="1px 2px 3px 4px";div.style.borderStyle="solid";div.style.borderWidth="1px 2px 3px 4px";div.style[boxSizingProp]="border-box";var body=document.body||document.documentElement;body.appendChild(div);var style=getStyle(div);isBoxSizeOuter=getStyleSize(style.width)===200;body.removeChild(div)}}function getSize(elem){setup();if(typeof elem==="string"){elem=document.querySelector(elem)}if(!elem||typeof elem!=="object"||!elem.nodeType){return}var style=getStyle(elem);if(style.display==="none"){return getZeroSize()}var size={};size.width=elem.offsetWidth;size.height=elem.offsetHeight;var isBorderBox=size.isBorderBox=!!(boxSizingProp&&style[boxSizingProp]&&style[boxSizingProp]==="border-box");for(var i=0,len=measurements.length;i<len;i++){var measurement=measurements[i];var value=style[measurement];value=mungeNonPixel(elem,value);var num=parseFloat(value);size[measurement]=!isNaN(num)?num:0}var paddingWidth=size.paddingLeft+size.paddingRight;var paddingHeight=size.paddingTop+size.paddingBottom;var marginWidth=size.marginLeft+size.marginRight;var marginHeight=size.marginTop+size.marginBottom;var borderWidth=size.borderLeftWidth+size.borderRightWidth;var borderHeight=size.borderTopWidth+size.borderBottomWidth;var isBorderBoxSizeOuter=isBorderBox&&isBoxSizeOuter;var styleWidth=getStyleSize(style.width);if(styleWidth!==false){size.width=styleWidth+(isBorderBoxSizeOuter?0:paddingWidth+borderWidth)}var styleHeight=getStyleSize(style.height);if(styleHeight!==false){size.height=styleHeight+(isBorderBoxSizeOuter?0:paddingHeight+borderHeight)}size.innerWidth=size.width-(paddingWidth+borderWidth);size.innerHeight=size.height-(paddingHeight+borderHeight);size.outerWidth=size.width+marginWidth;size.outerHeight=size.height+marginHeight;return size}function mungeNonPixel(elem,value){if(window.getComputedStyle||value.indexOf("%")===-1){return value}var style=elem.style;var left=style.left;var rs=elem.runtimeStyle;var rsLeft=rs&&rs.left;if(rsLeft){rs.left=elem.currentStyle.left}style.left=value;value=style.pixelLeft;style.left=left;if(rsLeft){rs.left=rsLeft}return value}return getSize}if(typeof define==="function"&&define.amd){define("get-size/get-size",["get-style-property/get-style-property"],defineGetSize)}else if(typeof exports==="object"){module.exports=defineGetSize(require("desandro-get-style-property"))}else{window.getSize=defineGetSize(window.getStyleProperty)}})(window);(function(ElemProto){var matchesMethod=function(){if(ElemProto.matchesSelector){return"matchesSelector"}var prefixes=["webkit","moz","ms","o"];for(var i=0,len=prefixes.length;i<len;i++){var prefix=prefixes[i];var method=prefix+"MatchesSelector";if(ElemProto[method]){return method}}}();function match(elem,selector){return elem[matchesMethod](selector)}function checkParent(elem){if(elem.parentNode){return}var fragment=document.createDocumentFragment();fragment.appendChild(elem)}function query(elem,selector){checkParent(elem);var elems=elem.parentNode.querySelectorAll(selector);for(var i=0,len=elems.length;i<len;i++){if(elems[i]===elem){return true}}return false}function matchChild(elem,selector){checkParent(elem);return match(elem,selector)}var matchesSelector;if(matchesMethod){var div=document.createElement("div");var supportsOrphans=match(div,"div");matchesSelector=supportsOrphans?match:matchChild}else{matchesSelector=query}if(typeof define==="function"&&define.amd){define("matches-selector/matches-selector",[],function(){return matchesSelector})}else if(typeof exports==="object"){module.exports=matchesSelector}else{window.matchesSelector=matchesSelector}})(Element.prototype);(function(window){var getComputedStyle=window.getComputedStyle;var getStyle=getComputedStyle?function(elem){return getComputedStyle(elem,null)}:function(elem){return elem.currentStyle};function extend(a,b){for(var prop in b){a[prop]=b[prop]}return a}function isEmptyObj(obj){for(var prop in obj){return false}prop=null;return true}function toDash(str){return str.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function outlayerItemDefinition(EventEmitter,getSize,getStyleProperty){var transitionProperty=getStyleProperty("transition");var transformProperty=getStyleProperty("transform");var supportsCSS3=transitionProperty&&transformProperty;var is3d=!!getStyleProperty("perspective");var transitionEndEvent={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[transitionProperty];var prefixableProperties=["transform","transition","transitionDuration","transitionProperty"];var vendorProperties=function(){var cache={};for(var i=0,len=prefixableProperties.length;i<len;i++){var prop=prefixableProperties[i];var supportedProp=getStyleProperty(prop);if(supportedProp&&supportedProp!==prop){cache[prop]=supportedProp}}return cache}();function Item(element,layout){if(!element){return}this.element=element;this.layout=layout;this.position={x:0,y:0};this._create()}extend(Item.prototype,EventEmitter.prototype);Item.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};Item.prototype.handleEvent=function(event){var method="on"+event.type;if(this[method]){this[method](event)}};Item.prototype.getSize=function(){this.size=getSize(this.element)};Item.prototype.css=function(style){var elemStyle=this.element.style;for(var prop in style){var supportedProp=vendorProperties[prop]||prop;elemStyle[supportedProp]=style[prop]}};Item.prototype.getPosition=function(){var style=getStyle(this.element);var layoutOptions=this.layout.options;var isOriginLeft=layoutOptions.isOriginLeft;var isOriginTop=layoutOptions.isOriginTop;var x=parseInt(style[isOriginLeft?"left":"right"],10);var y=parseInt(style[isOriginTop?"top":"bottom"],10);x=isNaN(x)?0:x;y=isNaN(y)?0:y;var layoutSize=this.layout.size;x-=isOriginLeft?layoutSize.paddingLeft:layoutSize.paddingRight;y-=isOriginTop?layoutSize.paddingTop:layoutSize.paddingBottom;this.position.x=x;this.position.y=y};Item.prototype.layoutPosition=function(){var layoutSize=this.layout.size;var layoutOptions=this.layout.options;var style={};if(layoutOptions.isOriginLeft){style.left=this.position.x+layoutSize.paddingLeft+"px";style.right=""}else{style.right=this.position.x+layoutSize.paddingRight+"px";style.left=""}if(layoutOptions.isOriginTop){style.top=this.position.y+layoutSize.paddingTop+"px";style.bottom=""}else{style.bottom=this.position.y+layoutSize.paddingBottom+"px";style.top=""}this.css(style);this.emitEvent("layout",[this])};var translate=is3d?function(x,y){return"translate3d("+x+"px, "+y+"px, 0)"}:function(x,y){return"translate("+x+"px, "+y+"px)"};Item.prototype._transitionTo=function(x,y){this.getPosition();var curX=this.position.x;var curY=this.position.y;var compareX=parseInt(x,10);var compareY=parseInt(y,10);var didNotMove=compareX===this.position.x&&compareY===this.position.y;this.setPosition(x,y);if(didNotMove&&!this.isTransitioning){this.layoutPosition();return}var transX=x-curX;var transY=y-curY;var transitionStyle={};var layoutOptions=this.layout.options;transX=layoutOptions.isOriginLeft?transX:-transX;transY=layoutOptions.isOriginTop?transY:-transY;transitionStyle.transform=translate(transX,transY);this.transition({to:transitionStyle,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};Item.prototype.goTo=function(x,y){this.setPosition(x,y);this.layoutPosition()};Item.prototype.moveTo=supportsCSS3?Item.prototype._transitionTo:Item.prototype.goTo;Item.prototype.setPosition=function(x,y){this.position.x=parseInt(x,10);this.position.y=parseInt(y,10)};Item.prototype._nonTransition=function(args){this.css(args.to);if(args.isCleaning){this._removeStyles(args.to)}for(var prop in args.onTransitionEnd){args.onTransitionEnd[prop].call(this)}};Item.prototype._transition=function(args){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(args);return}var _transition=this._transn;for(var prop in args.onTransitionEnd){_transition.onEnd[prop]=args.onTransitionEnd[prop]}for(prop in args.to){_transition.ingProperties[prop]=true;if(args.isCleaning){_transition.clean[prop]=true}}if(args.from){this.css(args.from);var h=this.element.offsetHeight;h=null}this.enableTransition(args.to);this.css(args.to);this.isTransitioning=true};var itemTransitionProperties=transformProperty&&toDash(transformProperty)+",opacity";Item.prototype.enableTransition=function(){if(this.isTransitioning){return}this.css({transitionProperty:itemTransitionProperties,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(transitionEndEvent,this,false)};Item.prototype.transition=Item.prototype[transitionProperty?"_transition":"_nonTransition"];Item.prototype.onwebkitTransitionEnd=function(event){this.ontransitionend(event)};Item.prototype.onotransitionend=function(event){this.ontransitionend(event)};var dashedVendorProperties={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};Item.prototype.ontransitionend=function(event){if(event.target!==this.element){return}var _transition=this._transn;var propertyName=dashedVendorProperties[event.propertyName]||event.propertyName;delete _transition.ingProperties[propertyName];if(isEmptyObj(_transition.ingProperties)){this.disableTransition()}if(propertyName in _transition.clean){this.element.style[event.propertyName]="";delete _transition.clean[propertyName]}if(propertyName in _transition.onEnd){var onTransitionEnd=_transition.onEnd[propertyName];onTransitionEnd.call(this);delete _transition.onEnd[propertyName]}this.emitEvent("transitionEnd",[this])};Item.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(transitionEndEvent,this,false);this.isTransitioning=false};Item.prototype._removeStyles=function(style){var cleanStyle={};for(var prop in style){cleanStyle[prop]=""}this.css(cleanStyle)};var cleanTransitionStyle={transitionProperty:"",transitionDuration:""};Item.prototype.removeTransitionStyles=function(){this.css(cleanTransitionStyle)};Item.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.emitEvent("remove",[this])};Item.prototype.remove=function(){if(!transitionProperty||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var _this=this;this.on("transitionEnd",function(){_this.removeElem();return true});this.hide()};Item.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var options=this.layout.options;this.transition({from:options.hiddenStyle,to:options.visibleStyle,isCleaning:true})};Item.prototype.hide=function(){this.isHidden=true;this.css({display:""});var options=this.layout.options;this.transition({from:options.visibleStyle,to:options.hiddenStyle,isCleaning:true,onTransitionEnd:{opacity:function(){if(this.isHidden){this.css({display:"none"})}}}})};Item.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return Item}if(typeof define==="function"&&define.amd){define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],outlayerItemDefinition)}else if(typeof exports==="object"){module.exports=outlayerItemDefinition(require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"))}else{window.Outlayer={};window.Outlayer.Item=outlayerItemDefinition(window.EventEmitter,window.getSize,window.getStyleProperty)}})(window);(function(window){var document=window.document;var console=window.console;var jQuery=window.jQuery;var noop=function(){};function extend(a,b){for(var prop in b){a[prop]=b[prop]}return a}var objToString=Object.prototype.toString;function isArray(obj){return objToString.call(obj)==="[object Array]"}function makeArray(obj){var ary=[];if(isArray(obj)){ary=obj}else if(obj&&typeof obj.length==="number"){for(var i=0,len=obj.length;i<len;i++){ary.push(obj[i])}}else{ary.push(obj)}return ary}var isElement=typeof HTMLElement==="function"||typeof HTMLElement==="object"?function isElementDOM2(obj){return obj instanceof HTMLElement}:function isElementQuirky(obj){return obj&&typeof obj==="object"&&obj.nodeType===1&&typeof obj.nodeName==="string"};var indexOf=Array.prototype.indexOf?function(ary,obj){return ary.indexOf(obj)}:function(ary,obj){for(var i=0,len=ary.length;i<len;i++){if(ary[i]===obj){return i}}return-1};function removeFrom(obj,ary){var index=indexOf(ary,obj);if(index!==-1){ary.splice(index,1)}}function toDashed(str){return str.replace(/(.)([A-Z])/g,function(match,$1,$2){return $1+"-"+$2}).toLowerCase()}function outlayerDefinition(eventie,docReady,EventEmitter,getSize,matchesSelector,Item){var GUID=0;var instances={};function Outlayer(element,options){if(typeof element==="string"){element=document.querySelector(element)}if(!element||!isElement(element)){if(console){console.error("Bad "+this.constructor.namespace+" element: "+element)}return}this.element=element;this.options=extend({},this.constructor.defaults);this.option(options);var id=++GUID;this.element.outlayerGUID=id;instances[id]=this;this._create();if(this.options.isInitLayout){this.layout()}}Outlayer.namespace="outlayer";Outlayer.Item=Item;Outlayer.defaults={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,isResizingContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};extend(Outlayer.prototype,EventEmitter.prototype);Outlayer.prototype.option=function(opts){extend(this.options,opts)};Outlayer.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);extend(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize()}};Outlayer.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)};Outlayer.prototype._itemize=function(elems){var itemElems=this._filterFindItemElements(elems);var Item=this.constructor.Item;var items=[];for(var i=0,len=itemElems.length;i<len;i++){var elem=itemElems[i];var item=new Item(elem,this);items.push(item)}return items};Outlayer.prototype._filterFindItemElements=function(elems){elems=makeArray(elems);var itemSelector=this.options.itemSelector;var itemElems=[];for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];if(!isElement(elem)){continue}if(itemSelector){if(matchesSelector(elem,itemSelector)){itemElems.push(elem)}var childElems=elem.querySelectorAll(itemSelector);for(var j=0,jLen=childElems.length;j<jLen;j++){itemElems.push(childElems[j])}}else{itemElems.push(elem)}}return itemElems};Outlayer.prototype.getItemElements=function(){var elems=[];for(var i=0,len=this.items.length;i<len;i++){elems.push(this.items[i].element)}return elems};Outlayer.prototype.layout=function(){this._resetLayout();this._manageStamps();var isInstant=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,isInstant);this._isLayoutInited=true};Outlayer.prototype._init=Outlayer.prototype.layout;Outlayer.prototype._resetLayout=function(){this.getSize()};Outlayer.prototype.getSize=function(){this.size=getSize(this.element)};Outlayer.prototype._getMeasurement=function(measurement,size){var option=this.options[measurement];var elem;if(!option){this[measurement]=0}else{if(typeof option==="string"){elem=this.element.querySelector(option)}else if(isElement(option)){elem=option}this[measurement]=elem?getSize(elem)[size]:option}};Outlayer.prototype.layoutItems=function(items,isInstant){items=this._getItemsForLayout(items);this._layoutItems(items,isInstant);this._postLayout()};Outlayer.prototype._getItemsForLayout=function(items){var layoutItems=[];for(var i=0,len=items.length;i<len;i++){var item=items[i];if(!item.isIgnored){layoutItems.push(item)}}return layoutItems};Outlayer.prototype._layoutItems=function(items,isInstant){var _this=this;function onItemsLayout(){_this.emitEvent("layoutComplete",[_this,items])}if(!items||!items.length){onItemsLayout();return}this._itemsOn(items,"layout",onItemsLayout);var queue=[];for(var i=0,len=items.length;i<len;i++){var item=items[i];var position=this._getItemLayoutPosition(item);position.item=item;position.isInstant=isInstant||item.isLayoutInstant;queue.push(position)}this._processLayoutQueue(queue)};Outlayer.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};Outlayer.prototype._processLayoutQueue=function(queue){for(var i=0,len=queue.length;i<len;i++){var obj=queue[i];this._positionItem(obj.item,obj.x,obj.y,obj.isInstant)}};Outlayer.prototype._positionItem=function(item,x,y,isInstant){if(isInstant){item.goTo(x,y)}else{item.moveTo(x,y)}};Outlayer.prototype._postLayout=function(){this.resizeContainer()};Outlayer.prototype.resizeContainer=function(){if(!this.options.isResizingContainer){return}var size=this._getContainerSize();if(size){this._setContainerMeasure(size.width,true);this._setContainerMeasure(size.height,false)}};Outlayer.prototype._getContainerSize=noop;Outlayer.prototype._setContainerMeasure=function(measure,isWidth){if(measure===undefined){return}var elemSize=this.size;if(elemSize.isBorderBox){measure+=isWidth?elemSize.paddingLeft+elemSize.paddingRight+elemSize.borderLeftWidth+elemSize.borderRightWidth:elemSize.paddingBottom+elemSize.paddingTop+elemSize.borderTopWidth+elemSize.borderBottomWidth}measure=Math.max(measure,0);this.element.style[isWidth?"width":"height"]=measure+"px"};Outlayer.prototype._itemsOn=function(items,eventName,callback){var doneCount=0;var count=items.length;var _this=this;function tick(){doneCount++;if(doneCount===count){callback.call(_this)}return true}for(var i=0,len=items.length;i<len;i++){var item=items[i];item.on(eventName,tick)}};Outlayer.prototype.ignore=function(elem){var item=this.getItem(elem);if(item){item.isIgnored=true}};Outlayer.prototype.unignore=function(elem){var item=this.getItem(elem);if(item){delete item.isIgnored}};Outlayer.prototype.stamp=function(elems){elems=this._find(elems);if(!elems){return}this.stamps=this.stamps.concat(elems);for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];this.ignore(elem)}};Outlayer.prototype.unstamp=function(elems){elems=this._find(elems);if(!elems){return}for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];removeFrom(elem,this.stamps);this.unignore(elem)}};Outlayer.prototype._find=function(elems){if(!elems){return}if(typeof elems==="string"){elems=this.element.querySelectorAll(elems)}elems=makeArray(elems);return elems};Outlayer.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();for(var i=0,len=this.stamps.length;i<len;i++){var stamp=this.stamps[i];this._manageStamp(stamp)}};Outlayer.prototype._getBoundingRect=function(){var boundingRect=this.element.getBoundingClientRect();var size=this.size;this._boundingRect={left:boundingRect.left+size.paddingLeft+size.borderLeftWidth,top:boundingRect.top+size.paddingTop+size.borderTopWidth,right:boundingRect.right-(size.paddingRight+size.borderRightWidth),bottom:boundingRect.bottom-(size.paddingBottom+size.borderBottomWidth)}};Outlayer.prototype._manageStamp=noop;Outlayer.prototype._getElementOffset=function(elem){var boundingRect=elem.getBoundingClientRect();var thisRect=this._boundingRect;var size=getSize(elem);var offset={left:boundingRect.left-thisRect.left-size.marginLeft,top:boundingRect.top-thisRect.top-size.marginTop,right:thisRect.right-boundingRect.right-size.marginRight,bottom:thisRect.bottom-boundingRect.bottom-size.marginBottom};return offset};Outlayer.prototype.handleEvent=function(event){var method="on"+event.type;if(this[method]){this[method](event)}};Outlayer.prototype.bindResize=function(){if(this.isResizeBound){return}eventie.bind(window,"resize",this);this.isResizeBound=true};Outlayer.prototype.unbindResize=function(){if(this.isResizeBound){eventie.unbind(window,"resize",this)}this.isResizeBound=false};Outlayer.prototype.onresize=function(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout)}var _this=this;function delayed(){_this.resize();delete _this.resizeTimeout}this.resizeTimeout=setTimeout(delayed,100)};Outlayer.prototype.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()};Outlayer.prototype.needsResizeLayout=function(){var size=getSize(this.element);var hasSizes=this.size&&size;return hasSizes&&size.innerWidth!==this.size.innerWidth};Outlayer.prototype.addItems=function(elems){var items=this._itemize(elems);if(items.length){this.items=this.items.concat(items)}return items};Outlayer.prototype.appended=function(elems){var items=this.addItems(elems);if(!items.length){return}this.layoutItems(items,true);this.reveal(items)};Outlayer.prototype.prepended=function(elems){var items=this._itemize(elems);if(!items.length){return}var previousItems=this.items.slice(0);this.items=items.concat(previousItems);this._resetLayout();this._manageStamps();this.layoutItems(items,true);this.reveal(items);this.layoutItems(previousItems)};Outlayer.prototype.reveal=function(items){var len=items&&items.length;if(!len){return}for(var i=0;i<len;i++){var item=items[i];item.reveal()}};Outlayer.prototype.hide=function(items){var len=items&&items.length;if(!len){return}for(var i=0;i<len;i++){var item=items[i];item.hide()}};Outlayer.prototype.getItem=function(elem){for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];if(item.element===elem){return item}}};Outlayer.prototype.getItems=function(elems){if(!elems||!elems.length){return}var items=[];for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];var item=this.getItem(elem);if(item){items.push(item)}}return items};Outlayer.prototype.remove=function(elems){elems=makeArray(elems);var removeItems=this.getItems(elems);if(!removeItems||!removeItems.length){return}this._itemsOn(removeItems,"remove",function(){this.emitEvent("removeComplete",[this,removeItems])});for(var i=0,len=removeItems.length;i<len;i++){var item=removeItems[i];item.remove();removeFrom(item,this.items)}};Outlayer.prototype.destroy=function(){var style=this.element.style;style.height="";style.position="";style.width="";for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];item.destroy()}this.unbindResize();var id=this.element.outlayerGUID;delete instances[id];delete this.element.outlayerGUID;if(jQuery){jQuery.removeData(this.element,this.constructor.namespace)}};Outlayer.data=function(elem){var id=elem&&elem.outlayerGUID;return id&&instances[id]};Outlayer.create=function(namespace,options){function Layout(){Outlayer.apply(this,arguments)}if(Object.create){Layout.prototype=Object.create(Outlayer.prototype)}else{extend(Layout.prototype,Outlayer.prototype)}Layout.prototype.constructor=Layout;Layout.defaults=extend({},Outlayer.defaults);extend(Layout.defaults,options);Layout.prototype.settings={};Layout.namespace=namespace;Layout.data=Outlayer.data;Layout.Item=function LayoutItem(){Item.apply(this,arguments)};Layout.Item.prototype=new Item;docReady(function(){var dashedNamespace=toDashed(namespace);var elems=document.querySelectorAll(".js-"+dashedNamespace);var dataAttr="data-"+dashedNamespace+"-options";for(var i=0,len=elems.length;i<len;i++){var elem=elems[i];var attr=elem.getAttribute(dataAttr);var options;try{options=attr&&JSON.parse(attr)}catch(error){if(console){console.error("Error parsing "+dataAttr+" on "+elem.nodeName.toLowerCase()+(elem.id?"#"+elem.id:"")+": "+error)}continue}var instance=new Layout(elem,options);if(jQuery){jQuery.data(elem,namespace,instance)}}});if(jQuery&&jQuery.bridget){jQuery.bridget(namespace,Layout)}return Layout};Outlayer.Item=Item;return Outlayer}if(typeof define==="function"&&define.amd){define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],outlayerDefinition)}else if(typeof exports==="object"){module.exports=outlayerDefinition(require("eventie"),require("doc-ready"),require("wolfy87-eventemitter"),require("get-size"),require("desandro-matches-selector"),require("./item"))}else{window.Outlayer=outlayerDefinition(window.eventie,window.docReady,window.EventEmitter,window.getSize,window.matchesSelector,window.Outlayer.Item)}})(window);(function(window){function itemDefinition(Outlayer){function Item(){Outlayer.Item.apply(this,arguments)}Item.prototype=new Outlayer.Item;Item.prototype._create=function(){this.id=this.layout.itemGUID++;Outlayer.Item.prototype._create.call(this);this.sortData={}};Item.prototype.updateSortData=function(){if(this.isIgnored){return}this.sortData.id=this.id;this.sortData["original-order"]=this.id;this.sortData.random=Math.random();var getSortData=this.layout.options.getSortData;var sorters=this.layout._sorters;for(var key in getSortData){var sorter=sorters[key];this.sortData[key]=sorter(this.element,this)}};var _destroy=Item.prototype.destroy;Item.prototype.destroy=function(){_destroy.apply(this,arguments);this.css({display:""})};return Item}if(typeof define==="function"&&define.amd){define("isotope/js/item",["outlayer/outlayer"],itemDefinition)}else if(typeof exports==="object"){module.exports=itemDefinition(require("outlayer"))}else{window.Isotope=window.Isotope||{};window.Isotope.Item=itemDefinition(window.Outlayer)}})(window);(function(window){function layoutModeDefinition(getSize,Outlayer){function LayoutMode(isotope){this.isotope=isotope;if(isotope){this.options=isotope.options[this.namespace];this.element=isotope.element;this.items=isotope.filteredItems;this.size=isotope.size}}(function(){var facadeMethods=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"];for(var i=0,len=facadeMethods.length;i<len;i++){var methodName=facadeMethods[i];LayoutMode.prototype[methodName]=getOutlayerMethod(methodName)}function getOutlayerMethod(methodName){return function(){return Outlayer.prototype[methodName].apply(this.isotope,arguments)}}})();LayoutMode.prototype.needsVerticalResizeLayout=function(){var size=getSize(this.isotope.element);var hasSizes=this.isotope.size&&size;return hasSizes&&size.innerHeight!==this.isotope.size.innerHeight};LayoutMode.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)};LayoutMode.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")};LayoutMode.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")};LayoutMode.prototype.getSegmentSize=function(segment,size){var segmentName=segment+size;var outerSize="outer"+size;this._getMeasurement(segmentName,outerSize);if(this[segmentName]){return}var firstItemSize=this.getFirstItemSize();this[segmentName]=firstItemSize&&firstItemSize[outerSize]||this.isotope.size["inner"+size]};LayoutMode.prototype.getFirstItemSize=function(){var firstItem=this.isotope.filteredItems[0];return firstItem&&firstItem.element&&getSize(firstItem.element)};LayoutMode.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)};LayoutMode.prototype.getSize=function(){this.isotope.getSize();this.size=this.isotope.size};LayoutMode.modes={};LayoutMode.create=function(namespace,options){function Mode(){LayoutMode.apply(this,arguments)}Mode.prototype=new LayoutMode;if(options){Mode.options=options}Mode.prototype.namespace=namespace;LayoutMode.modes[namespace]=Mode;return Mode};return LayoutMode}if(typeof define==="function"&&define.amd){define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],layoutModeDefinition)}else if(typeof exports==="object"){module.exports=layoutModeDefinition(require("get-size"),require("outlayer"))}else{window.Isotope=window.Isotope||{};window.Isotope.LayoutMode=layoutModeDefinition(window.getSize,window.Outlayer)}})(window);(function(window){var indexOf=Array.prototype.indexOf?function(items,value){return items.indexOf(value)}:function(items,value){for(var i=0,len=items.length;i<len;i++){var item=items[i];if(item===value){return i}}return-1};function masonryDefinition(Outlayer,getSize){var Masonry=Outlayer.create("masonry");Masonry.prototype._resetLayout=function(){this.getSize();this._getMeasurement("columnWidth","outerWidth");this._getMeasurement("gutter","outerWidth");this.measureColumns();var i=this.cols;this.colYs=[];while(i--){this.colYs.push(0)}this.maxY=0};Masonry.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var firstItem=this.items[0];var firstItemElem=firstItem&&firstItem.element;this.columnWidth=firstItemElem&&getSize(firstItemElem).outerWidth||this.containerWidth}this.columnWidth+=this.gutter;this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth);this.cols=Math.max(this.cols,1)};Masonry.prototype.getContainerWidth=function(){var container=this.options.isFitWidth?this.element.parentNode:this.element;var size=getSize(container);this.containerWidth=size&&size.innerWidth};Masonry.prototype._getItemLayoutPosition=function(item){item.getSize();var remainder=item.size.outerWidth%this.columnWidth;var mathMethod=remainder&&remainder<1?"round":"ceil";var colSpan=Math[mathMethod](item.size.outerWidth/this.columnWidth);colSpan=Math.min(colSpan,this.cols);var colGroup=this._getColGroup(colSpan);var minimumY=Math.min.apply(Math,colGroup);var shortColIndex=indexOf(colGroup,minimumY);var position={x:this.columnWidth*shortColIndex,y:minimumY};var setHeight=minimumY+item.size.outerHeight;var setSpan=this.cols+1-colGroup.length;for(var i=0;i<setSpan;i++){this.colYs[shortColIndex+i]=setHeight}return position};Masonry.prototype._getColGroup=function(colSpan){if(colSpan<2){return this.colYs}var colGroup=[];var groupCount=this.cols+1-colSpan;for(var i=0;i<groupCount;i++){var groupColYs=this.colYs.slice(i,i+colSpan);colGroup[i]=Math.max.apply(Math,groupColYs)}return colGroup};Masonry.prototype._manageStamp=function(stamp){var stampSize=getSize(stamp);var offset=this._getElementOffset(stamp);var firstX=this.options.isOriginLeft?offset.left:offset.right;var lastX=firstX+stampSize.outerWidth;var firstCol=Math.floor(firstX/this.columnWidth);firstCol=Math.max(0,firstCol);var lastCol=Math.floor(lastX/this.columnWidth);lastCol-=lastX%this.columnWidth?0:1;lastCol=Math.min(this.cols-1,lastCol);var stampMaxY=(this.options.isOriginTop?offset.top:offset.bottom)+stampSize.outerHeight;for(var i=firstCol;i<=lastCol;i++){this.colYs[i]=Math.max(stampMaxY,this.colYs[i])}};Masonry.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var size={height:this.maxY};if(this.options.isFitWidth){size.width=this._getContainerFitWidth()}return size};Masonry.prototype._getContainerFitWidth=function(){var unusedCols=0;var i=this.cols;while(--i){if(this.colYs[i]!==0){break}unusedCols++}return(this.cols-unusedCols)*this.columnWidth-this.gutter};Masonry.prototype.needsResizeLayout=function(){var previousWidth=this.containerWidth;this.getContainerWidth();return previousWidth!==this.containerWidth};return Masonry}if(typeof define==="function"&&define.amd){define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],masonryDefinition)}else if(typeof exports==="object"){module.exports=masonryDefinition(require("outlayer"),require("get-size"))}else{window.Masonry=masonryDefinition(window.Outlayer,window.getSize)}})(window);(function(window){function extend(a,b){for(var prop in b){a[prop]=b[prop]}return a}function masonryDefinition(LayoutMode,Masonry){var MasonryMode=LayoutMode.create("masonry");var _getElementOffset=MasonryMode.prototype._getElementOffset;var layout=MasonryMode.prototype.layout;var _getMeasurement=MasonryMode.prototype._getMeasurement;extend(MasonryMode.prototype,Masonry.prototype);MasonryMode.prototype._getElementOffset=_getElementOffset;MasonryMode.prototype.layout=layout;MasonryMode.prototype._getMeasurement=_getMeasurement;var measureColumns=MasonryMode.prototype.measureColumns;MasonryMode.prototype.measureColumns=function(){this.items=this.isotope.filteredItems;measureColumns.call(this)};var _manageStamp=MasonryMode.prototype._manageStamp;MasonryMode.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft;this.options.isOriginTop=this.isotope.options.isOriginTop;_manageStamp.apply(this,arguments)};return MasonryMode}if(typeof define==="function"&&define.amd){define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],masonryDefinition)}else if(typeof exports==="object"){module.exports=masonryDefinition(require("../layout-mode"),require("masonry-layout"))}else{masonryDefinition(window.Isotope.LayoutMode,window.Masonry)}})(window);(function(window){function fitRowsDefinition(LayoutMode){var FitRows=LayoutMode.create("fitRows");FitRows.prototype._resetLayout=function(){this.x=0;this.y=0;this.maxY=0;this._getMeasurement("gutter","outerWidth")};FitRows.prototype._getItemLayoutPosition=function(item){item.getSize();var itemWidth=item.size.outerWidth+this.gutter;var containerWidth=this.isotope.size.innerWidth+this.gutter;if(this.x!==0&&itemWidth+this.x>containerWidth){this.x=0;this.y=this.maxY}var position={x:this.x,y:this.y};this.maxY=Math.max(this.maxY,this.y+item.size.outerHeight);this.x+=itemWidth;return position};FitRows.prototype._getContainerSize=function(){return{height:this.maxY}};return FitRows}if(typeof define==="function"&&define.amd){define("isotope/js/layout-modes/fit-rows",["../layout-mode"],fitRowsDefinition)}else if(typeof exports==="object"){module.exports=fitRowsDefinition(require("../layout-mode"))}else{fitRowsDefinition(window.Isotope.LayoutMode)}})(window);(function(window){function verticalDefinition(LayoutMode){var Vertical=LayoutMode.create("vertical",{horizontalAlignment:0});Vertical.prototype._resetLayout=function(){this.y=0};Vertical.prototype._getItemLayoutPosition=function(item){item.getSize();var x=(this.isotope.size.innerWidth-item.size.outerWidth)*this.options.horizontalAlignment;var y=this.y;this.y+=item.size.outerHeight;return{x:x,y:y}};Vertical.prototype._getContainerSize=function(){return{height:this.y}};return Vertical}if(typeof define==="function"&&define.amd){define("isotope/js/layout-modes/vertical",["../layout-mode"],verticalDefinition)}else if(typeof exports==="object"){module.exports=verticalDefinition(require("../layout-mode"))}else{verticalDefinition(window.Isotope.LayoutMode)}})(window);(function(window){var jQuery=window.jQuery;function extend(a,b){for(var prop in b){a[prop]=b[prop]}return a}var trim=String.prototype.trim?function(str){return str.trim()}:function(str){return str.replace(/^\s+|\s+$/g,"")};var docElem=document.documentElement;var getText=docElem.textContent?function(elem){return elem.textContent}:function(elem){return elem.innerText};var objToString=Object.prototype.toString;function isArray(obj){return objToString.call(obj)==="[object Array]"}var indexOf=Array.prototype.indexOf?function(ary,obj){return ary.indexOf(obj)}:function(ary,obj){for(var i=0,len=ary.length;i<len;i++){if(ary[i]===obj){return i}}return-1};function makeArray(obj){var ary=[];if(isArray(obj)){ary=obj}else if(obj&&typeof obj.length==="number"){for(var i=0,len=obj.length;i<len;i++){ary.push(obj[i])}}else{ary.push(obj)}return ary}function removeFrom(obj,ary){var index=indexOf(ary,obj);if(index!==-1){ary.splice(index,1)}}function isotopeDefinition(Outlayer,getSize,matchesSelector,Item,LayoutMode){var Isotope=Outlayer.create("isotope",{layoutMode:"masonry",isJQueryFiltering:true,sortAscending:true});Isotope.Item=Item;Isotope.LayoutMode=LayoutMode;Isotope.prototype._create=function(){this.itemGUID=0;this._sorters={};this._getSorters();Outlayer.prototype._create.call(this);this.modes={};this.filteredItems=this.items;this.sortHistory=["original-order"];for(var name in LayoutMode.modes){this._initLayoutMode(name)}};Isotope.prototype.reloadItems=function(){this.itemGUID=0;Outlayer.prototype.reloadItems.call(this)};Isotope.prototype._itemize=function(){var items=Outlayer.prototype._itemize.apply(this,arguments);for(var i=0,len=items.length;i<len;i++){var item=items[i];item.id=this.itemGUID++}this._updateItemsSortData(items);return items};Isotope.prototype._initLayoutMode=function(name){var Mode=LayoutMode.modes[name];var initialOpts=this.options[name]||{};this.options[name]=Mode.options?extend(Mode.options,initialOpts):initialOpts;this.modes[name]=new Mode(this)};Isotope.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout){this.arrange();return}this._layout()};Isotope.prototype._layout=function(){var isInstant=this._getIsInstant();this._resetLayout();this._manageStamps();this.layoutItems(this.filteredItems,isInstant);this._isLayoutInited=true};Isotope.prototype.arrange=function(opts){this.option(opts);this._getIsInstant();this.filteredItems=this._filter(this.items);this._sort();this._layout()};Isotope.prototype._init=Isotope.prototype.arrange;Isotope.prototype._getIsInstant=function(){var isInstant=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this._isInstant=isInstant;return isInstant};Isotope.prototype._filter=function(items){var filter=this.options.filter;filter=filter||"*";var matches=[];var hiddenMatched=[];var visibleUnmatched=[];var test=this._getFilterTest(filter);for(var i=0,len=items.length;i<len;i++){var item=items[i];if(item.isIgnored){continue}var isMatched=test(item);if(isMatched){matches.push(item)}if(isMatched&&item.isHidden){hiddenMatched.push(item)}else if(!isMatched&&!item.isHidden){visibleUnmatched.push(item)}}var _this=this;function hideReveal(){_this.reveal(hiddenMatched);_this.hide(visibleUnmatched)}if(this._isInstant){this._noTransition(hideReveal)}else{hideReveal()}return matches};Isotope.prototype._getFilterTest=function(filter){if(jQuery&&this.options.isJQueryFiltering){return function(item){return jQuery(item.element).is(filter)}}if(typeof filter==="function"){return function(item){return filter(item.element)}}return function(item){return matchesSelector(item.element,filter)}};Isotope.prototype.updateSortData=function(elems){var items;if(elems){elems=makeArray(elems);items=this.getItems(elems)}else{items=this.items}this._getSorters();this._updateItemsSortData(items)};Isotope.prototype._getSorters=function(){var getSortData=this.options.getSortData;for(var key in getSortData){var sorter=getSortData[key];this._sorters[key]=mungeSorter(sorter)}};Isotope.prototype._updateItemsSortData=function(items){var len=items&&items.length;for(var i=0;len&&i<len;i++){var item=items[i];item.updateSortData()}};var mungeSorter=function(){function mungeSorter(sorter){if(typeof sorter!=="string"){return sorter}var args=trim(sorter).split(" ");var query=args[0];var attrMatch=query.match(/^\[(.+)\]$/);var attr=attrMatch&&attrMatch[1];var getValue=getValueGetter(attr,query);var parser=Isotope.sortDataParsers[args[1]];sorter=parser?function(elem){return elem&&parser(getValue(elem))}:function(elem){return elem&&getValue(elem)};return sorter}function getValueGetter(attr,query){var getValue;if(attr){getValue=function(elem){return elem.getAttribute(attr)}}else{getValue=function(elem){var child=elem.querySelector(query);return child&&getText(child)}}return getValue}return mungeSorter}();Isotope.sortDataParsers={parseInt:function(val){return parseInt(val,10)},parseFloat:function(val){return parseFloat(val)}};Isotope.prototype._sort=function(){var sortByOpt=this.options.sortBy;if(!sortByOpt){return}var sortBys=[].concat.apply(sortByOpt,this.sortHistory);var itemSorter=getItemSorter(sortBys,this.options.sortAscending);this.filteredItems.sort(itemSorter);if(sortByOpt!==this.sortHistory[0]){this.sortHistory.unshift(sortByOpt)}};function getItemSorter(sortBys,sortAsc){return function sorter(itemA,itemB){for(var i=0,len=sortBys.length;i<len;i++){var sortBy=sortBys[i];var a=itemA.sortData[sortBy];var b=itemB.sortData[sortBy];if(a>b||a<b){var isAscending=sortAsc[sortBy]!==undefined?sortAsc[sortBy]:sortAsc;var direction=isAscending?1:-1;return(a>b?1:-1)*direction}}return 0}}Isotope.prototype._mode=function(){var layoutMode=this.options.layoutMode;var mode=this.modes[layoutMode];if(!mode){throw new Error("No layout mode: "+layoutMode)}mode.options=this.options[layoutMode];return mode};Isotope.prototype._resetLayout=function(){Outlayer.prototype._resetLayout.call(this);this._mode()._resetLayout()};Isotope.prototype._getItemLayoutPosition=function(item){return this._mode()._getItemLayoutPosition(item)};Isotope.prototype._manageStamp=function(stamp){this._mode()._manageStamp(stamp)};Isotope.prototype._getContainerSize=function(){return this._mode()._getContainerSize()};Isotope.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()};Isotope.prototype.appended=function(elems){var items=this.addItems(elems);if(!items.length){return}var filteredItems=this._filterRevealAdded(items);this.filteredItems=this.filteredItems.concat(filteredItems)};Isotope.prototype.prepended=function(elems){var items=this._itemize(elems);if(!items.length){return}var previousItems=this.items.slice(0);this.items=items.concat(previousItems);this._resetLayout();this._manageStamps();var filteredItems=this._filterRevealAdded(items);this.layoutItems(previousItems);this.filteredItems=filteredItems.concat(this.filteredItems)};Isotope.prototype._filterRevealAdded=function(items){var filteredItems=this._noTransition(function(){return this._filter(items)});this.layoutItems(filteredItems,true);this.reveal(filteredItems);return items};Isotope.prototype.insert=function(elems){var items=this.addItems(elems);if(!items.length){return}var i,item;var len=items.length;for(i=0;i<len;i++){item=items[i];this.element.appendChild(item.element)}var filteredInsertItems=this._filter(items);this._noTransition(function(){this.hide(filteredInsertItems)});for(i=0;i<len;i++){items[i].isLayoutInstant=true}this.arrange();for(i=0;i<len;i++){delete items[i].isLayoutInstant}this.reveal(filteredInsertItems)};var _remove=Isotope.prototype.remove;Isotope.prototype.remove=function(elems){elems=makeArray(elems);var removeItems=this.getItems(elems);_remove.call(this,elems);if(!removeItems||!removeItems.length){return}for(var i=0,len=removeItems.length;i<len;i++){var item=removeItems[i];removeFrom(item,this.filteredItems)}};Isotope.prototype.shuffle=function(){for(var i=0,len=this.items.length;i<len;i++){var item=this.items[i];item.sortData.random=Math.random()}this.options.sortBy="random";this._sort();this._layout()};Isotope.prototype._noTransition=function(fn){var transitionDuration=this.options.transitionDuration;this.options.transitionDuration=0;var returnValue=fn.call(this);this.options.transitionDuration=transitionDuration;return returnValue};Isotope.prototype.getFilteredItemElements=function(){var elems=[];for(var i=0,len=this.filteredItems.length;i<len;i++){elems.push(this.filteredItems[i].element)}return elems};return Isotope}if(typeof define==="function"&&define.amd){define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],isotopeDefinition)}else if(typeof exports==="object"){module.exports=isotopeDefinition(require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical"))}else{window.Isotope=isotopeDefinition(window.Outlayer,window.getSize,window.matchesSelector,window.Isotope.Item,window.Isotope.LayoutMode)}})(window);(function($){var createdElements=[];var defaults={options:{prependExistingHelpBlock:false,sniffHtml:true,preventSubmit:true,submitError:false,submitSuccess:false,semanticallyStrict:false,autoAdd:{helpBlocks:true},filter:function(){return true}},methods:{init:function(options){var settings=$.extend(true,{},defaults);settings.options=$.extend(true,settings.options,options);var $siblingElements=this;var uniqueForms=$.unique($siblingElements.map(function(){return $(this).parents("form")[0]}).toArray());$(uniqueForms).bind("submit",function(e){var $form=$(this);var warningsFound=0;var $inputs=$form.find("input,textarea,select").not("[type=submit],[type=image]").filter(settings.options.filter);$inputs.trigger("submit.validation").trigger("validationLostFocus.validation");$inputs.each(function(i,el){var $this=$(el),$controlGroup=$this.parents(".form-group").first();if($controlGroup.hasClass("warning")){$controlGroup.removeClass("warning").addClass("error");warningsFound++}});$inputs.trigger("validationLostFocus.validation");if(warningsFound){if(settings.options.preventSubmit){e.preventDefault()}$form.addClass("error");if($.isFunction(settings.options.submitError)){settings.options.submitError($form,e,$inputs.jqBootstrapValidation("collectErrors",true))}}else{$form.removeClass("error");if($.isFunction(settings.options.submitSuccess)){settings.options.submitSuccess($form,e)}}});return this.each(function(){var $this=$(this),$controlGroup=$this.parents(".form-group").first(),$helpBlock=$controlGroup.find(".help-block").first(),$form=$this.parents("form").first(),validatorNames=[];if(!$helpBlock.length&&settings.options.autoAdd&&settings.options.autoAdd.helpBlocks){$helpBlock=$('<div class="help-block" />');$controlGroup.find(".controls").append($helpBlock);createdElements.push($helpBlock[0])}if(settings.options.sniffHtml){var message="";if($this.attr("pattern")!==undefined){message="Not in the expected format\x3c!-- data-validation-pattern-message to override --\x3e";if($this.data("validationPatternMessage")){message=$this.data("validationPatternMessage")}$this.data("validationPatternMessage",message);$this.data("validationPatternRegex",$this.attr("pattern"))}if($this.attr("max")!==undefined||$this.attr("aria-valuemax")!==undefined){var max=$this.attr("max")!==undefined?$this.attr("max"):$this.attr("aria-valuemax");message="Too high: Maximum of '"+max+"'\x3c!-- data-validation-max-message to override --\x3e";if($this.data("validationMaxMessage")){message=$this.data("validationMaxMessage")}$this.data("validationMaxMessage",message);$this.data("validationMaxMax",max)}if($this.attr("min")!==undefined||$this.attr("aria-valuemin")!==undefined){var min=$this.attr("min")!==undefined?$this.attr("min"):$this.attr("aria-valuemin");message="Too low: Minimum of '"+min+"'\x3c!-- data-validation-min-message to override --\x3e";if($this.data("validationMinMessage")){message=$this.data("validationMinMessage")}$this.data("validationMinMessage",message);$this.data("validationMinMin",min)}if($this.attr("maxlength")!==undefined){message="Too long: Maximum of '"+$this.attr("maxlength")+"' characters\x3c!-- data-validation-maxlength-message to override --\x3e";if($this.data("validationMaxlengthMessage")){message=$this.data("validationMaxlengthMessage")}$this.data("validationMaxlengthMessage",message);$this.data("validationMaxlengthMaxlength",$this.attr("maxlength"))}if($this.attr("minlength")!==undefined){message="Too short: Minimum of '"+$this.attr("minlength")+"' characters\x3c!-- data-validation-minlength-message to override --\x3e";if($this.data("validationMinlengthMessage")){message=$this.data("validationMinlengthMessage")}$this.data("validationMinlengthMessage",message);$this.data("validationMinlengthMinlength",$this.attr("minlength"))}if($this.attr("required")!==undefined||$this.attr("aria-required")!==undefined){message=settings.builtInValidators.required.message;if($this.data("validationRequiredMessage")){message=$this.data("validationRequiredMessage")}$this.data("validationRequiredMessage",message)}if($this.attr("type")!==undefined&&$this.attr("type").toLowerCase()==="number"){message=settings.builtInValidators.number.message;if($this.data("validationNumberMessage")){message=$this.data("validationNumberMessage")}$this.data("validationNumberMessage",message)}if($this.attr("type")!==undefined&&$this.attr("type").toLowerCase()==="email"){message="Not a valid email address\x3c!-- data-validator-validemail-message to override --\x3e";if($this.data("validationValidemailMessage")){message=$this.data("validationValidemailMessage")}else if($this.data("validationEmailMessage")){message=$this.data("validationEmailMessage")}$this.data("validationValidemailMessage",message)}if($this.attr("minchecked")!==undefined){message="Not enough options checked; Minimum of '"+$this.attr("minchecked")+"' required\x3c!-- data-validation-minchecked-message to override --\x3e";if($this.data("validationMincheckedMessage")){message=$this.data("validationMincheckedMessage")}$this.data("validationMincheckedMessage",message);$this.data("validationMincheckedMinchecked",$this.attr("minchecked"))}if($this.attr("maxchecked")!==undefined){message="Too many options checked; Maximum of '"+$this.attr("maxchecked")+"' required\x3c!-- data-validation-maxchecked-message to override --\x3e";if($this.data("validationMaxcheckedMessage")){message=$this.data("validationMaxcheckedMessage")}$this.data("validationMaxcheckedMessage",message);$this.data("validationMaxcheckedMaxchecked",$this.attr("maxchecked"))}}if($this.data("validation")!==undefined){validatorNames=$this.data("validation").split(",")}$.each($this.data(),function(i,el){var parts=i.replace(/([A-Z])/g,",$1").split(",");if(parts[0]==="validation"&&parts[1]){validatorNames.push(parts[1])}});var validatorNamesToInspect=validatorNames;var newValidatorNamesToInspect=[];do{$.each(validatorNames,function(i,el){validatorNames[i]=formatValidatorName(el)});validatorNames=$.unique(validatorNames);newValidatorNamesToInspect=[];$.each(validatorNamesToInspect,function(i,el){if($this.data("validation"+el+"Shortcut")!==undefined){$.each($this.data("validation"+el+"Shortcut").split(","),function(i2,el2){newValidatorNamesToInspect.push(el2)})}else if(settings.builtInValidators[el.toLowerCase()]){var validator=settings.builtInValidators[el.toLowerCase()];if(validator.type.toLowerCase()==="shortcut"){$.each(validator.shortcut.split(","),function(i,el){el=formatValidatorName(el);newValidatorNamesToInspect.push(el);validatorNames.push(el)})}}});validatorNamesToInspect=newValidatorNamesToInspect}while(validatorNamesToInspect.length>0);var validators={};$.each(validatorNames,function(i,el){var message=$this.data("validation"+el+"Message");var hasOverrideMessage=message!==undefined;var foundValidator=false;message=message?message:"'"+el+"' validation failed \x3c!-- Add attribute 'data-validation-"+el.toLowerCase()+"-message' to input to change this message --\x3e";$.each(settings.validatorTypes,function(validatorType,validatorTemplate){if(validators[validatorType]===undefined){validators[validatorType]=[]}if(!foundValidator&&$this.data("validation"+el+formatValidatorName(validatorTemplate.name))!==undefined){validators[validatorType].push($.extend(true,{name:formatValidatorName(validatorTemplate.name),message:message},validatorTemplate.init($this,el)));foundValidator=true}});if(!foundValidator&&settings.builtInValidators[el.toLowerCase()]){var validator=$.extend(true,{},settings.builtInValidators[el.toLowerCase()]);if(hasOverrideMessage){validator.message=message}var validatorType=validator.type.toLowerCase();if(validatorType==="shortcut"){foundValidator=true}else{$.each(settings.validatorTypes,function(validatorTemplateType,validatorTemplate){if(validators[validatorTemplateType]===undefined){validators[validatorTemplateType]=[]}if(!foundValidator&&validatorType===validatorTemplateType.toLowerCase()){$this.data("validation"+el+formatValidatorName(validatorTemplate.name),validator[validatorTemplate.name.toLowerCase()]);validators[validatorType].push($.extend(validator,validatorTemplate.init($this,el)));foundValidator=true}})}}if(!foundValidator){$.error("Cannot find validation info for '"+el+"'")}});$helpBlock.data("original-contents",$helpBlock.data("original-contents")?$helpBlock.data("original-contents"):$helpBlock.html());$helpBlock.data("original-role",$helpBlock.data("original-role")?$helpBlock.data("original-role"):$helpBlock.attr("role"));$controlGroup.data("original-classes",$controlGroup.data("original-clases")?$controlGroup.data("original-classes"):$controlGroup.attr("class"));$this.data("original-aria-invalid",$this.data("original-aria-invalid")?$this.data("original-aria-invalid"):$this.attr("aria-invalid"));$this.bind("validation.validation",function(event,params){var value=getValue($this);var errorsFound=[];$.each(validators,function(validatorType,validatorTypeArray){if(value||value.length||params&&params.includeEmpty||!!settings.validatorTypes[validatorType].blockSubmit&&params&&!!params.submitting){$.each(validatorTypeArray,function(i,validator){if(settings.validatorTypes[validatorType].validate($this,value,validator)){errorsFound.push(validator.message)}})}});return errorsFound});$this.bind("getValidators.validation",function(){return validators});$this.bind("submit.validation",function(){return $this.triggerHandler("change.validation",{submitting:true})});$this.bind(["keyup","focus","blur","click","keydown","keypress","change"].join(".validation ")+".validation",function(e,params){var value=getValue($this);var errorsFound=[];$controlGroup.find("input,textarea,select").each(function(i,el){var oldCount=errorsFound.length;$.each($(el).triggerHandler("validation.validation",params),function(j,message){errorsFound.push(message)});if(errorsFound.length>oldCount){$(el).attr("aria-invalid","true")}else{var original=$this.data("original-aria-invalid");$(el).attr("aria-invalid",original!==undefined?original:false)}});$form.find("input,select,textarea").not($this).not('[name="'+$this.attr("name")+'"]').trigger("validationLostFocus.validation");errorsFound=$.unique(errorsFound.sort());if(errorsFound.length){$controlGroup.removeClass("success error").addClass("warning");if(settings.options.semanticallyStrict&&errorsFound.length===1){$helpBlock.html(errorsFound[0]+(settings.options.prependExistingHelpBlock?$helpBlock.data("original-contents"):""))}else{$helpBlock.html('<ul role="alert"><li>'+errorsFound.join("</li><li>")+"</li></ul>"+(settings.options.prependExistingHelpBlock?$helpBlock.data("original-contents"):""))}}else{$controlGroup.removeClass("warning error success");if(value.length>0){$controlGroup.addClass("success")}$helpBlock.html($helpBlock.data("original-contents"))}if(e.type==="blur"){$controlGroup.removeClass("success")}});$this.bind("validationLostFocus.validation",function(){$controlGroup.removeClass("success")})})},destroy:function(){return this.each(function(){var $this=$(this),$controlGroup=$this.parents(".form-group").first(),$helpBlock=$controlGroup.find(".help-block").first();$this.unbind(".validation");$helpBlock.html($helpBlock.data("original-contents"));$controlGroup.attr("class",$controlGroup.data("original-classes"));$this.attr("aria-invalid",$this.data("original-aria-invalid"));$helpBlock.attr("role",$this.data("original-role"));if(createdElements.indexOf($helpBlock[0])>-1){$helpBlock.remove()}})},collectErrors:function(includeEmpty){var errorMessages={};this.each(function(i,el){var $el=$(el);var name=$el.attr("name");var errors=$el.triggerHandler("validation.validation",{includeEmpty:true});errorMessages[name]=$.extend(true,errors,errorMessages[name])});$.each(errorMessages,function(i,el){if(el.length===0){delete errorMessages[i]}});return errorMessages},hasErrors:function(){var errorMessages=[];this.each(function(i,el){errorMessages=errorMessages.concat($(el).triggerHandler("getValidators.validation")?$(el).triggerHandler("validation.validation",{submitting:true}):[])});return errorMessages.length>0},override:function(newDefaults){defaults=$.extend(true,defaults,newDefaults)}},validatorTypes:{callback:{name:"callback",init:function($this,name){return{validatorName:name,callback:$this.data("validation"+name+"Callback"),lastValue:$this.val(),lastValid:true,lastFinished:true}},validate:function($this,value,validator){if(validator.lastValue===value&&validator.lastFinished){return!validator.lastValid}if(validator.lastFinished===true){validator.lastValue=value;validator.lastValid=true;validator.lastFinished=false;var rrjqbvValidator=validator;var rrjqbvThis=$this;executeFunctionByName(validator.callback,window,$this,value,function(data){if(rrjqbvValidator.lastValue===data.value){rrjqbvValidator.lastValid=data.valid;if(data.message){rrjqbvValidator.message=data.message}rrjqbvValidator.lastFinished=true;rrjqbvThis.data("validation"+rrjqbvValidator.validatorName+"Message",rrjqbvValidator.message);setTimeout(function(){rrjqbvThis.trigger("change.validation")},1)}})}return false}},ajax:{name:"ajax",init:function($this,name){return{validatorName:name,url:$this.data("validation"+name+"Ajax"),lastValue:$this.val(),lastValid:true,lastFinished:true}},validate:function($this,value,validator){if(""+validator.lastValue===""+value&&validator.lastFinished===true){return validator.lastValid===false}if(validator.lastFinished===true){validator.lastValue=value;validator.lastValid=true;validator.lastFinished=false;$.ajax({url:validator.url,data:"value="+value+"&field="+$this.attr("name"),dataType:"json",success:function(data){if(""+validator.lastValue===""+data.value){validator.lastValid=!!data.valid;if(data.message){validator.message=data.message}validator.lastFinished=true;$this.data("validation"+validator.validatorName+"Message",validator.message);setTimeout(function(){$this.trigger("change.validation")},1)}},failure:function(){validator.lastValid=true;validator.message="ajax call failed";validator.lastFinished=true;$this.data("validation"+validator.validatorName+"Message",validator.message);setTimeout(function(){$this.trigger("change.validation")},1)}})}return false}},regex:{name:"regex",init:function($this,name){return{regex:regexFromString($this.data("validation"+name+"Regex"))}},validate:function($this,value,validator){return!validator.regex.test(value)&&!validator.negative||validator.regex.test(value)&&validator.negative}},required:{name:"required",init:function($this,name){return{}},validate:function($this,value,validator){return!!(value.length===0&&!validator.negative)||!!(value.length>0&&validator.negative)},blockSubmit:true},match:{name:"match",init:function($this,name){var element=$this.parents("form").first().find('[name="'+$this.data("validation"+name+"Match")+'"]').first();element.bind("validation.validation",function(){$this.trigger("change.validation",{submitting:true})});return{element:element}},validate:function($this,value,validator){return value!==validator.element.val()&&!validator.negative||value===validator.element.val()&&validator.negative},blockSubmit:true},max:{name:"max",init:function($this,name){return{max:$this.data("validation"+name+"Max")}},validate:function($this,value,validator){return parseFloat(value,10)>parseFloat(validator.max,10)&&!validator.negative||parseFloat(value,10)<=parseFloat(validator.max,10)&&validator.negative}},min:{name:"min",init:function($this,name){return{min:$this.data("validation"+name+"Min")}},validate:function($this,value,validator){return parseFloat(value)<parseFloat(validator.min)&&!validator.negative||parseFloat(value)>=parseFloat(validator.min)&&validator.negative}},maxlength:{name:"maxlength",init:function($this,name){return{maxlength:$this.data("validation"+name+"Maxlength")}},validate:function($this,value,validator){return value.length>validator.maxlength&&!validator.negative||value.length<=validator.maxlength&&validator.negative}},minlength:{name:"minlength",init:function($this,name){return{minlength:$this.data("validation"+name+"Minlength")}},validate:function($this,value,validator){return value.length<validator.minlength&&!validator.negative||value.length>=validator.minlength&&validator.negative}},maxchecked:{name:"maxchecked",init:function($this,name){var elements=$this.parents("form").first().find('[name="'+$this.attr("name")+'"]');elements.bind("click.validation",function(){$this.trigger("change.validation",{includeEmpty:true})});return{maxchecked:$this.data("validation"+name+"Maxchecked"),elements:elements}},validate:function($this,value,validator){return validator.elements.filter(":checked").length>validator.maxchecked&&!validator.negative||validator.elements.filter(":checked").length<=validator.maxchecked&&validator.negative},blockSubmit:true},minchecked:{name:"minchecked",init:function($this,name){var elements=$this.parents("form").first().find('[name="'+$this.attr("name")+'"]');elements.bind("click.validation",function(){$this.trigger("change.validation",{includeEmpty:true})});return{minchecked:$this.data("validation"+name+"Minchecked"),elements:elements}},validate:function($this,value,validator){return validator.elements.filter(":checked").length<validator.minchecked&&!validator.negative||validator.elements.filter(":checked").length>=validator.minchecked&&validator.negative},blockSubmit:true}},builtInValidators:{email:{name:"Email",type:"shortcut",shortcut:"validemail"},validemail:{name:"Validemail",type:"regex",regex:"[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}",message:"Not a valid email address\x3c!-- data-validator-validemail-message to override --\x3e"},passwordagain:{name:"Passwordagain",type:"match",match:"password",message:"Does not match the given password\x3c!-- data-validator-paswordagain-message to override --\x3e"},positive:{name:"Positive",type:"shortcut",shortcut:"number,positivenumber"},negative:{name:"Negative",type:"shortcut",shortcut:"number,negativenumber"},number:{name:"Number",type:"regex",regex:"([+-]?\\d+(\\.\\d*)?([eE][+-]?[0-9]+)?)?",message:"Must be a number\x3c!-- data-validator-number-message to override --\x3e"},integer:{name:"Integer",type:"regex",regex:"[+-]?\\d+",message:"No decimal places allowed\x3c!-- data-validator-integer-message to override --\x3e"},positivenumber:{name:"Positivenumber",type:"min",min:0,message:"Must be a positive number\x3c!-- data-validator-positivenumber-message to override --\x3e"},negativenumber:{name:"Negativenumber",type:"max",max:0,message:"Must be a negative number\x3c!-- data-validator-negativenumber-message to override --\x3e"},required:{name:"Required",type:"required",message:"This is required\x3c!-- data-validator-required-message to override --\x3e"},checkone:{name:"Checkone",type:"minchecked",minchecked:1,message:"Check at least one option\x3c!-- data-validation-checkone-message to override --\x3e"}}};var formatValidatorName=function(name){return name.toLowerCase().replace(/(^|\s)([a-z])/g,function(m,p1,p2){return p1+p2.toUpperCase()})};var getValue=function($this){var value=$this.val();var type=$this.attr("type");if(type==="checkbox"){value=$this.is(":checked")?value:""}if(type==="radio"){value=$('input[name="'+$this.attr("name")+'"]:checked').length>0?value:""}return value};function regexFromString(inputstring){return new RegExp("^"+inputstring+"$")}function executeFunctionByName(functionName,context){var args=Array.prototype.slice.call(arguments).splice(2);var namespaces=functionName.split(".");var func=namespaces.pop();for(var i=0;i<namespaces.length;i++){context=context[namespaces[i]]}return context[func].apply(this,args)}$.fn.jqBootstrapValidation=function(method){if(defaults.methods[method]){return defaults.methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==="object"||!method){return defaults.methods.init.apply(this,arguments)}else{$.error("Method "+method+" does not exist on jQuery.jqBootstrapValidation");return null}};$.jqBootstrapValidation=function(options){$(":input").not("[type=image],[type=submit]").jqBootstrapValidation.apply(this,arguments)}})(jQuery);(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){factory(require("jquery"))}else{factory(jQuery)}})(function($){var CountTo=function(element,options){this.$element=$(element);this.options=$.extend({},CountTo.DEFAULTS,this.dataOptions(),options);this.init()};CountTo.DEFAULTS={from:0,to:0,speed:1e3,refreshInterval:100,decimals:0,formatter:formatter,onUpdate:null,onComplete:null};CountTo.prototype.init=function(){this.value=this.options.from;this.loops=Math.ceil(this.options.speed/this.options.refreshInterval);this.loopCount=0;this.increment=(this.options.to-this.options.from)/this.loops};CountTo.prototype.dataOptions=function(){var options={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")};var keys=Object.keys(options);for(var i in keys){var key=keys[i];if(typeof options[key]==="undefined"){delete options[key]}}return options};CountTo.prototype.update=function(){this.value+=this.increment;this.loopCount++;this.render();if(typeof this.options.onUpdate=="function"){this.options.onUpdate.call(this.$element,this.value)}if(this.loopCount>=this.loops){clearInterval(this.interval);this.value=this.options.to;if(typeof this.options.onComplete=="function"){this.options.onComplete.call(this.$element,this.value)}}};CountTo.prototype.render=function(){var formattedValue=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(formattedValue)};CountTo.prototype.restart=function(){this.stop();this.init();this.start()};CountTo.prototype.start=function(){this.stop();this.render();this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)};CountTo.prototype.stop=function(){if(this.interval){clearInterval(this.interval)}};CountTo.prototype.toggle=function(){if(this.interval){this.stop()}else{this.start()}};function formatter(value,options){return value.toFixed(options.decimals)}$.fn.countTo=function(option){return this.each(function(){var $this=$(this);var data=$this.data("countTo");var init=!data||typeof option==="object";var options=typeof option==="object"?option:{};var method=typeof option==="string"?option:"start";if(init){if(data)data.stop();$this.data("countTo",data=new CountTo(this,options))}data[method].call(data)})}});(function($){"use strict";$.fn.fitVids=function(options){var settings={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var head=document.head||document.getElementsByTagName("head")[0];var css=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}";var div=document.createElement("div");div.innerHTML='<p>x</p><style id="fit-vids-style">'+css+"</style>";head.appendChild(div.childNodes[1])}if(options){$.extend(settings,options)}return this.each(function(){var selectors=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(settings.customSelector){selectors.push(settings.customSelector)}var ignoreList=".fitvidsignore";if(settings.ignore){ignoreList=ignoreList+", "+settings.ignore}var $allVideos=$(this).find(selectors.join(","));$allVideos=$allVideos.not("object object");$allVideos=$allVideos.not(ignoreList);$allVideos.each(function(){var $this=$(this);if($this.parents(ignoreList).length>0){return}if(this.tagName.toLowerCase()==="embed"&&$this.parent("object").length||$this.parent(".fluid-width-video-wrapper").length){return}if(!$this.css("height")&&!$this.css("width")&&(isNaN($this.attr("height"))||isNaN($this.attr("width")))){$this.attr("height",9);$this.attr("width",16)}var height=this.tagName.toLowerCase()==="object"||$this.attr("height")&&!isNaN(parseInt($this.attr("height"),10))?parseInt($this.attr("height"),10):$this.height(),width=!isNaN(parseInt($this.attr("width"),10))?parseInt($this.attr("width"),10):$this.width(),aspectRatio=height/width;if(!$this.attr("id")){var videoID="fitvid"+Math.floor(Math.random()*999999);$this.attr("id",videoID)}$this.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",aspectRatio*100+"%");$this.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof exports==="object"){factory(require("jquery"))}else{factory(window.jQuery||window.Zepto)}})(function($){var CLOSE_EVENT="Close",BEFORE_CLOSE_EVENT="BeforeClose",AFTER_CLOSE_EVENT="AfterClose",BEFORE_APPEND_EVENT="BeforeAppend",MARKUP_PARSE_EVENT="MarkupParse",OPEN_EVENT="Open",CHANGE_EVENT="Change",NS="mfp",EVENT_NS="."+NS,READY_CLASS="mfp-ready",REMOVING_CLASS="mfp-removing",PREVENT_CLOSE_CLASS="mfp-prevent-close";var mfp,MagnificPopup=function(){},_isJQ=!!window.jQuery,_prevStatus,_window=$(window),_document,_prevContentType,_wrapClasses,_currPopupType;var _mfpOn=function(name,f){mfp.ev.on(NS+name+EVENT_NS,f)},_getEl=function(className,appendTo,html,raw){var el=document.createElement("div");el.className="mfp-"+className;if(html){el.innerHTML=html}if(!raw){el=$(el);if(appendTo){el.appendTo(appendTo)}}else if(appendTo){appendTo.appendChild(el)}return el},_mfpTrigger=function(e,data){mfp.ev.triggerHandler(NS+e,data);if(mfp.st.callbacks){e=e.charAt(0).toLowerCase()+e.slice(1);if(mfp.st.callbacks[e]){mfp.st.callbacks[e].apply(mfp,$.isArray(data)?data:[data])}}},_getCloseBtn=function(type){if(type!==_currPopupType||!mfp.currTemplate.closeBtn){mfp.currTemplate.closeBtn=$(mfp.st.closeMarkup.replace("%title%",mfp.st.tClose));_currPopupType=type}return mfp.currTemplate.closeBtn},_checkInstance=function(){if(!$.magnificPopup.instance){mfp=new MagnificPopup;mfp.init();$.magnificPopup.instance=mfp}},supportsTransitions=function(){var s=document.createElement("p").style,v=["ms","O","Moz","Webkit"];if(s["transition"]!==undefined){return true}while(v.length){if(v.pop()+"Transition"in s){return true}}return false};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var appVersion=navigator.appVersion;mfp.isLowIE=mfp.isIE8=document.all&&!document.addEventListener;mfp.isAndroid=/android/gi.test(appVersion);mfp.isIOS=/iphone|ipad|ipod/gi.test(appVersion);mfp.supportsTransition=supportsTransitions();mfp.probablyMobile=mfp.isAndroid||mfp.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent);_document=$(document);mfp.popupsCache={}},open:function(data){var i;if(data.isObj===false){mfp.items=data.items.toArray();mfp.index=0;var items=data.items,item;for(i=0;i<items.length;i++){item=items[i];if(item.parsed){item=item.el[0]}if(item===data.el[0]){mfp.index=i;break}}}else{mfp.items=$.isArray(data.items)?data.items:[data.items];mfp.index=data.index||0}if(mfp.isOpen){mfp.updateItemHTML();return}mfp.types=[];_wrapClasses="";if(data.mainEl&&data.mainEl.length){mfp.ev=data.mainEl.eq(0)}else{mfp.ev=_document}if(data.key){if(!mfp.popupsCache[data.key]){mfp.popupsCache[data.key]={}}mfp.currTemplate=mfp.popupsCache[data.key]}else{mfp.currTemplate={}}mfp.st=$.extend(true,{},$.magnificPopup.defaults,data);mfp.fixedContentPos=mfp.st.fixedContentPos==="auto"?!mfp.probablyMobile:mfp.st.fixedContentPos;if(mfp.st.modal){mfp.st.closeOnContentClick=false;mfp.st.closeOnBgClick=false;mfp.st.showCloseBtn=false;mfp.st.enableEscapeKey=false}if(!mfp.bgOverlay){mfp.bgOverlay=_getEl("bg").on("click"+EVENT_NS,function(){mfp.close()});mfp.wrap=_getEl("wrap").attr("tabindex",-1).on("click"+EVENT_NS,function(e){if(mfp._checkIfClose(e.target)){mfp.close()}});mfp.container=_getEl("container",mfp.wrap)}mfp.contentContainer=_getEl("content");if(mfp.st.preloader){mfp.preloader=_getEl("preloader",mfp.container,mfp.st.tLoading)}var modules=$.magnificPopup.modules;for(i=0;i<modules.length;i++){var n=modules[i];n=n.charAt(0).toUpperCase()+n.slice(1);mfp["init"+n].call(mfp)}_mfpTrigger("BeforeOpen");if(mfp.st.showCloseBtn){if(!mfp.st.closeBtnInside){mfp.wrap.append(_getCloseBtn())}else{_mfpOn(MARKUP_PARSE_EVENT,function(e,template,values,item){values.close_replaceWith=_getCloseBtn(item.type)});_wrapClasses+=" mfp-close-btn-in"}}if(mfp.st.alignTop){_wrapClasses+=" mfp-align-top"}if(mfp.fixedContentPos){mfp.wrap.css({overflow:mfp.st.overflowY,overflowX:"hidden",overflowY:mfp.st.overflowY})}else{mfp.wrap.css({top:_window.scrollTop(),position:"absolute"})}if(mfp.st.fixedBgPos===false||mfp.st.fixedBgPos==="auto"&&!mfp.fixedContentPos){mfp.bgOverlay.css({height:_document.height(),position:"absolute"})}if(mfp.st.enableEscapeKey){_document.on("keyup"+EVENT_NS,function(e){if(e.keyCode===27){mfp.close()}})}_window.on("resize"+EVENT_NS,function(){mfp.updateSize()});if(!mfp.st.closeOnContentClick){_wrapClasses+=" mfp-auto-cursor"}if(_wrapClasses)mfp.wrap.addClass(_wrapClasses);var windowHeight=mfp.wH=_window.height();var windowStyles={};if(mfp.fixedContentPos){if(mfp._hasScrollBar(windowHeight)){var s=mfp._getScrollbarSize();if(s){windowStyles.marginRight=s}}}if(mfp.fixedContentPos){if(!mfp.isIE7){windowStyles.overflow="hidden"}else{$("body, html").css("overflow","hidden")}}var classesToadd=mfp.st.mainClass;if(mfp.isIE7){classesToadd+=" mfp-ie7"}if(classesToadd){mfp._addClassToMFP(classesToadd)}mfp.updateItemHTML();_mfpTrigger("BuildControls");$("html").css(windowStyles);mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo||$(document.body));mfp._lastFocusedEl=document.activeElement;setTimeout(function(){if(mfp.content){mfp._addClassToMFP(READY_CLASS);mfp._setFocus()}else{mfp.bgOverlay.addClass(READY_CLASS)}_document.on("focusin"+EVENT_NS,mfp._onFocusIn)},16);mfp.isOpen=true;mfp.updateSize(windowHeight);_mfpTrigger(OPEN_EVENT);return data},close:function(){if(!mfp.isOpen)return;_mfpTrigger(BEFORE_CLOSE_EVENT);mfp.isOpen=false;if(mfp.st.removalDelay&&!mfp.isLowIE&&mfp.supportsTransition){mfp._addClassToMFP(REMOVING_CLASS);setTimeout(function(){mfp._close()},mfp.st.removalDelay)}else{mfp._close()}},_close:function(){_mfpTrigger(CLOSE_EVENT);var classesToRemove=REMOVING_CLASS+" "+READY_CLASS+" ";mfp.bgOverlay.detach();mfp.wrap.detach();mfp.container.empty();if(mfp.st.mainClass){classesToRemove+=mfp.st.mainClass+" "}mfp._removeClassFromMFP(classesToRemove);if(mfp.fixedContentPos){var windowStyles={marginRight:""};if(mfp.isIE7){$("body, html").css("overflow","")}else{windowStyles.overflow=""}$("html").css(windowStyles)}_document.off("keyup"+EVENT_NS+" focusin"+EVENT_NS);mfp.ev.off(EVENT_NS);mfp.wrap.attr("class","mfp-wrap").removeAttr("style");mfp.bgOverlay.attr("class","mfp-bg");mfp.container.attr("class","mfp-container");if(mfp.st.showCloseBtn&&(!mfp.st.closeBtnInside||mfp.currTemplate[mfp.currItem.type]===true)){if(mfp.currTemplate.closeBtn)mfp.currTemplate.closeBtn.detach()}if(mfp.st.autoFocusLast&&mfp._lastFocusedEl){$(mfp._lastFocusedEl).focus()}mfp.currItem=null;mfp.content=null;mfp.currTemplate=null;mfp.prevHeight=0;_mfpTrigger(AFTER_CLOSE_EVENT)},updateSize:function(winHeight){if(mfp.isIOS){var zoomLevel=document.documentElement.clientWidth/window.innerWidth;var height=window.innerHeight*zoomLevel;mfp.wrap.css("height",height);mfp.wH=height}else{mfp.wH=winHeight||_window.height()}if(!mfp.fixedContentPos){mfp.wrap.css("height",mfp.wH)}_mfpTrigger("Resize")},updateItemHTML:function(){var item=mfp.items[mfp.index];mfp.contentContainer.detach();if(mfp.content)mfp.content.detach();if(!item.parsed){item=mfp.parseEl(mfp.index)}var type=item.type;_mfpTrigger("BeforeChange",[mfp.currItem?mfp.currItem.type:"",type]);mfp.currItem=item;if(!mfp.currTemplate[type]){var markup=mfp.st[type]?mfp.st[type].markup:false;_mfpTrigger("FirstMarkupParse",markup);if(markup){mfp.currTemplate[type]=$(markup)}else{mfp.currTemplate[type]=true}}if(_prevContentType&&_prevContentType!==item.type){mfp.container.removeClass("mfp-"+_prevContentType+"-holder")}var newContent=mfp["get"+type.charAt(0).toUpperCase()+type.slice(1)](item,mfp.currTemplate[type]);mfp.appendContent(newContent,type);item.preloaded=true;_mfpTrigger(CHANGE_EVENT,item);_prevContentType=item.type;mfp.container.prepend(mfp.contentContainer);_mfpTrigger("AfterChange")},appendContent:function(newContent,type){mfp.content=newContent;if(newContent){if(mfp.st.showCloseBtn&&mfp.st.closeBtnInside&&mfp.currTemplate[type]===true){if(!mfp.content.find(".mfp-close").length){mfp.content.append(_getCloseBtn())}}else{mfp.content=newContent}}else{mfp.content=""}_mfpTrigger(BEFORE_APPEND_EVENT);mfp.container.addClass("mfp-"+type+"-holder");mfp.contentContainer.append(mfp.content)},parseEl:function(index){var item=mfp.items[index],type;if(item.tagName){item={el:$(item)}}else{type=item.type;item={data:item,src:item.src}}if(item.el){var types=mfp.types;for(var i=0;i<types.length;i++){if(item.el.hasClass("mfp-"+types[i])){type=types[i];break}}item.src=item.el.attr("data-mfp-src");if(!item.src){item.src=item.el.attr("href")}}item.type=type||mfp.st.type||"inline";item.index=index;item.parsed=true;mfp.items[index]=item;_mfpTrigger("ElementParse",item);return mfp.items[index]},addGroup:function(el,options){var eHandler=function(e){e.mfpEl=this;mfp._openClick(e,el,options)};if(!options){options={}}var eName="click.magnificPopup";options.mainEl=el;if(options.items){options.isObj=true;el.off(eName).on(eName,eHandler)}else{options.isObj=false;if(options.delegate){el.off(eName).on(eName,options.delegate,eHandler)}else{options.items=el;el.off(eName).on(eName,eHandler)}}},_openClick:function(e,el,options){var midClick=options.midClick!==undefined?options.midClick:$.magnificPopup.defaults.midClick;if(!midClick&&(e.which===2||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){return}var disableOn=options.disableOn!==undefined?options.disableOn:$.magnificPopup.defaults.disableOn;if(disableOn){if($.isFunction(disableOn)){if(!disableOn.call(mfp)){return true}}else{if(_window.width()<disableOn){return true}}}if(e.type){e.preventDefault();if(mfp.isOpen){e.stopPropagation()}}options.el=$(e.mfpEl);if(options.delegate){options.items=el.find(options.delegate)}mfp.open(options)},updateStatus:function(status,text){if(mfp.preloader){if(_prevStatus!==status){mfp.container.removeClass("mfp-s-"+_prevStatus)}if(!text&&status==="loading"){text=mfp.st.tLoading}var data={status:status,text:text};_mfpTrigger("UpdateStatus",data);status=data.status;text=data.text;mfp.preloader.html(text);mfp.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()});mfp.container.addClass("mfp-s-"+status);_prevStatus=status}},_checkIfClose:function(target){if($(target).hasClass(PREVENT_CLOSE_CLASS)){return}var closeOnContent=mfp.st.closeOnContentClick;var closeOnBg=mfp.st.closeOnBgClick;if(closeOnContent&&closeOnBg){return true}else{if(!mfp.content||$(target).hasClass("mfp-close")||mfp.preloader&&target===mfp.preloader[0]){return true}if(target!==mfp.content[0]&&!$.contains(mfp.content[0],target)){if(closeOnBg){if($.contains(document,target)){return true}}}else if(closeOnContent){return true}}return false},_addClassToMFP:function(cName){mfp.bgOverlay.addClass(cName);mfp.wrap.addClass(cName)},_removeClassFromMFP:function(cName){this.bgOverlay.removeClass(cName);mfp.wrap.removeClass(cName)},_hasScrollBar:function(winHeight){return(mfp.isIE7?_document.height():document.body.scrollHeight)>(winHeight||_window.height())},_setFocus:function(){(mfp.st.focus?mfp.content.find(mfp.st.focus).eq(0):mfp.wrap).focus()},_onFocusIn:function(e){if(e.target!==mfp.wrap[0]&&!$.contains(mfp.wrap[0],e.target)){mfp._setFocus();return false}},_parseMarkup:function(template,values,item){var arr;if(item.data){values=$.extend(item.data,values)}_mfpTrigger(MARKUP_PARSE_EVENT,[template,values,item]);$.each(values,function(key,value){if(value===undefined||value===false){return true}arr=key.split("_");if(arr.length>1){var el=template.find(EVENT_NS+"-"+arr[0]);if(el.length>0){var attr=arr[1];if(attr==="replaceWith"){if(el[0]!==value[0]){el.replaceWith(value)}}else if(attr==="img"){if(el.is("img")){el.attr("src",value)}else{el.replaceWith($("<img>").attr("src",value).attr("class",el.attr("class")))}}else{el.attr(arr[1],value)}}}else{template.find(EVENT_NS+"-"+key).html(value)}})},_getScrollbarSize:function(){if(mfp.scrollbarSize===undefined){var scrollDiv=document.createElement("div");scrollDiv.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;";document.body.appendChild(scrollDiv);mfp.scrollbarSize=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv)}return mfp.scrollbarSize}};$.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(options,index){_checkInstance();if(!options){options={}}else{options=$.extend(true,{},options)}options.isObj=true;options.index=index||0;return this.instance.open(options)},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close()},registerModule:function(name,module){if(module.options){$.magnificPopup.defaults[name]=module.options}$.extend(this.proto,module.proto);this.modules.push(name)},defaults:{disableOn:0,key:null,midClick:false,mainClass:"",preloader:true,focus:"",closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:true}};$.fn.magnificPopup=function(options){_checkInstance();var jqEl=$(this);if(typeof options==="string"){if(options==="open"){var items,itemOpts=_isJQ?jqEl.data("magnificPopup"):jqEl[0].magnificPopup,index=parseInt(arguments[1],10)||0;if(itemOpts.items){items=itemOpts.items[index]}else{items=jqEl;if(itemOpts.delegate){items=items.find(itemOpts.delegate)}items=items.eq(index)}mfp._openClick({mfpEl:items},jqEl,itemOpts)}else{if(mfp.isOpen)mfp[options].apply(mfp,Array.prototype.slice.call(arguments,1))}}else{options=$.extend(true,{},options);if(_isJQ){jqEl.data("magnificPopup",options)}else{jqEl[0].magnificPopup=options}mfp.addGroup(jqEl,options)}return jqEl};var INLINE_NS="inline",_hiddenClass,_inlinePlaceholder,_lastInlineElement,_putInlineElementsBack=function(){if(_lastInlineElement){_inlinePlaceholder.after(_lastInlineElement.addClass(_hiddenClass)).detach();_lastInlineElement=null}};$.magnificPopup.registerModule(INLINE_NS,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){mfp.types.push(INLINE_NS);_mfpOn(CLOSE_EVENT+"."+INLINE_NS,function(){_putInlineElementsBack()})},getInline:function(item,template){_putInlineElementsBack();if(item.src){var inlineSt=mfp.st.inline,el=$(item.src);if(el.length){var parent=el[0].parentNode;if(parent&&parent.tagName){if(!_inlinePlaceholder){_hiddenClass=inlineSt.hiddenClass;_inlinePlaceholder=_getEl(_hiddenClass);_hiddenClass="mfp-"+_hiddenClass}_lastInlineElement=el.after(_inlinePlaceholder).detach().removeClass(_hiddenClass)}mfp.updateStatus("ready")}else{mfp.updateStatus("error",inlineSt.tNotFound);el=$("<div>")}item.inlineElement=el;return el}mfp.updateStatus("ready");mfp._parseMarkup(template,{},item);return template}}});var AJAX_NS="ajax",_ajaxCur,_removeAjaxCursor=function(){if(_ajaxCur){$(document.body).removeClass(_ajaxCur)}},_destroyAjaxRequest=function(){_removeAjaxCursor();if(mfp.req){mfp.req.abort()}};$.magnificPopup.registerModule(AJAX_NS,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){mfp.types.push(AJAX_NS);_ajaxCur=mfp.st.ajax.cursor;_mfpOn(CLOSE_EVENT+"."+AJAX_NS,_destroyAjaxRequest);_mfpOn("BeforeChange."+AJAX_NS,_destroyAjaxRequest)},getAjax:function(item){if(_ajaxCur){$(document.body).addClass(_ajaxCur)}mfp.updateStatus("loading");var opts=$.extend({url:item.src,success:function(data,textStatus,jqXHR){var temp={data:data,xhr:jqXHR};_mfpTrigger("ParseAjax",temp);mfp.appendContent($(temp.data),AJAX_NS);item.finished=true;_removeAjaxCursor();mfp._setFocus();setTimeout(function(){mfp.wrap.addClass(READY_CLASS)},16);mfp.updateStatus("ready");_mfpTrigger("AjaxContentAdded")},error:function(){_removeAjaxCursor();item.finished=item.loadError=true;mfp.updateStatus("error",mfp.st.ajax.tError.replace("%url%",item.src))}},mfp.st.ajax.settings);mfp.req=$.ajax(opts);return""}}});var _imgInterval,_getTitle=function(item){if(item.data&&item.data.title!==undefined)return item.data.title;var src=mfp.st.image.titleSrc;if(src){if($.isFunction(src)){return src.call(mfp,item)}else if(item.el){return item.el.attr(src)||""}}return""};$.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure">'+'<div class="mfp-close"></div>'+"<figure>"+'<div class="mfp-img"></div>'+"<figcaption>"+'<div class="mfp-bottom-bar">'+'<div class="mfp-title"></div>'+'<div class="mfp-counter"></div>'+"</div>"+"</figcaption>"+"</figure>"+"</div>",cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var imgSt=mfp.st.image,ns=".image";mfp.types.push("image");_mfpOn(OPEN_EVENT+ns,function(){if(mfp.currItem.type==="image"&&imgSt.cursor){$(document.body).addClass(imgSt.cursor)}});_mfpOn(CLOSE_EVENT+ns,function(){if(imgSt.cursor){$(document.body).removeClass(imgSt.cursor)}_window.off("resize"+EVENT_NS)});_mfpOn("Resize"+ns,mfp.resizeImage);if(mfp.isLowIE){_mfpOn("AfterChange",mfp.resizeImage)}},resizeImage:function(){var item=mfp.currItem;if(!item||!item.img)return;if(mfp.st.image.verticalFit){var decr=0;if(mfp.isLowIE){decr=parseInt(item.img.css("padding-top"),10)+parseInt(item.img.css("padding-bottom"),10)}item.img.css("max-height",mfp.wH-decr)}},_onImageHasSize:function(item){if(item.img){item.hasSize=true;if(_imgInterval){clearInterval(_imgInterval)}item.isCheckingImgSize=false;_mfpTrigger("ImageHasSize",item);if(item.imgHidden){if(mfp.content)mfp.content.removeClass("mfp-loading");item.imgHidden=false}}},findImageSize:function(item){var counter=0,img=item.img[0],mfpSetInterval=function(delay){if(_imgInterval){clearInterval(_imgInterval)}_imgInterval=setInterval(function(){if(img.naturalWidth>0){mfp._onImageHasSize(item);return}if(counter>200){clearInterval(_imgInterval)}counter++;if(counter===3){mfpSetInterval(10)}else if(counter===40){mfpSetInterval(50)}else if(counter===100){mfpSetInterval(500)}},delay)};mfpSetInterval(1)},getImage:function(item,template){var guard=0,onLoadComplete=function(){if(item){if(item.img[0].complete){item.img.off(".mfploader");if(item===mfp.currItem){mfp._onImageHasSize(item);mfp.updateStatus("ready")}item.hasSize=true;item.loaded=true;_mfpTrigger("ImageLoadComplete")}else{guard++;if(guard<200){setTimeout(onLoadComplete,100)}else{onLoadError()}}}},onLoadError=function(){if(item){item.img.off(".mfploader");if(item===mfp.currItem){mfp._onImageHasSize(item);mfp.updateStatus("error",imgSt.tError.replace("%url%",item.src))}item.hasSize=true;item.loaded=true;item.loadError=true}},imgSt=mfp.st.image;var el=template.find(".mfp-img");if(el.length){var img=document.createElement("img");img.className="mfp-img";if(item.el&&item.el.find("img").length){img.alt=item.el.find("img").attr("alt")}item.img=$(img).on("load.mfploader",onLoadComplete).on("error.mfploader",onLoadError);img.src=item.src;if(el.is("img")){item.img=item.img.clone()}img=item.img[0];if(img.naturalWidth>0){item.hasSize=true}else if(!img.width){item.hasSize=false}}mfp._parseMarkup(template,{title:_getTitle(item),img_replaceWith:item.img},item);mfp.resizeImage();if(item.hasSize){if(_imgInterval)clearInterval(_imgInterval);if(item.loadError){template.addClass("mfp-loading");mfp.updateStatus("error",imgSt.tError.replace("%url%",item.src))}else{template.removeClass("mfp-loading");mfp.updateStatus("ready")}return template}mfp.updateStatus("loading");item.loading=true;if(!item.hasSize){item.imgHidden=true;template.addClass("mfp-loading");mfp.findImageSize(item)}return template}}});var hasMozTransform,getHasMozTransform=function(){if(hasMozTransform===undefined){hasMozTransform=document.createElement("p").style.MozTransform!==undefined}return hasMozTransform};$.magnificPopup.registerModule("zoom",{options:{enabled:false,easing:"ease-in-out",duration:300,opener:function(element){return element.is("img")?element:element.find("img")}},proto:{initZoom:function(){var zoomSt=mfp.st.zoom,ns=".zoom",image;if(!zoomSt.enabled||!mfp.supportsTransition){return}var duration=zoomSt.duration,getElToAnimate=function(image){var newImg=image.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),transition="all "+zoomSt.duration/1e3+"s "+zoomSt.easing,cssObj={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},t="transition";cssObj["-webkit-"+t]=cssObj["-moz-"+t]=cssObj["-o-"+t]=cssObj[t]=transition;newImg.css(cssObj);return newImg},showMainContent=function(){mfp.content.css("visibility","visible")},openTimeout,animatedImg;_mfpOn("BuildControls"+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.content.css("visibility","hidden");image=mfp._getItemToZoom();if(!image){showMainContent();return}animatedImg=getElToAnimate(image);animatedImg.css(mfp._getOffset());mfp.wrap.append(animatedImg);openTimeout=setTimeout(function(){animatedImg.css(mfp._getOffset(true));openTimeout=setTimeout(function(){showMainContent();setTimeout(function(){animatedImg.remove();image=animatedImg=null;_mfpTrigger("ZoomAnimationEnded")},16)},duration)},16)}});_mfpOn(BEFORE_CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.st.removalDelay=duration;if(!image){image=mfp._getItemToZoom();if(!image){return}animatedImg=getElToAnimate(image)}animatedImg.css(mfp._getOffset(true));mfp.wrap.append(animatedImg);mfp.content.css("visibility","hidden");setTimeout(function(){animatedImg.css(mfp._getOffset())},16)}});_mfpOn(CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){showMainContent();if(animatedImg){animatedImg.remove()}image=null}})},_allowZoom:function(){return mfp.currItem.type==="image"},_getItemToZoom:function(){if(mfp.currItem.hasSize){return mfp.currItem.img}else{return false}},_getOffset:function(isLarge){var el;if(isLarge){el=mfp.currItem.img}else{el=mfp.st.zoom.opener(mfp.currItem.el||mfp.currItem)}var offset=el.offset();var paddingTop=parseInt(el.css("padding-top"),10);var paddingBottom=parseInt(el.css("padding-bottom"),10);offset.top-=$(window).scrollTop()-paddingTop;var obj={width:el.width(),height:(_isJQ?el.innerHeight():el[0].offsetHeight)-paddingBottom-paddingTop};if(getHasMozTransform()){obj["-moz-transform"]=obj["transform"]="translate("+offset.left+"px,"+offset.top+"px)"}else{obj.left=offset.left;obj.top=offset.top}return obj}}});var IFRAME_NS="iframe",_emptyPage="//about:blank",_fixIframeBugs=function(isShowing){if(mfp.currTemplate[IFRAME_NS]){var el=mfp.currTemplate[IFRAME_NS].find("iframe");if(el.length){if(!isShowing){el[0].src=_emptyPage}if(mfp.isIE8){el.css("display",isShowing?"block":"none")}}}};$.magnificPopup.registerModule(IFRAME_NS,{options:{markup:'<div class="mfp-iframe-scaler">'+'<div class="mfp-close"></div>'+'<iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe>'+"</div>",srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){mfp.types.push(IFRAME_NS);_mfpOn("BeforeChange",function(e,prevType,newType){if(prevType!==newType){if(prevType===IFRAME_NS){_fixIframeBugs()}else if(newType===IFRAME_NS){_fixIframeBugs(true)}}});_mfpOn(CLOSE_EVENT+"."+IFRAME_NS,function(){_fixIframeBugs()})},getIframe:function(item,template){var embedSrc=item.src;var iframeSt=mfp.st.iframe;$.each(iframeSt.patterns,function(){if(embedSrc.indexOf(this.index)>-1){if(this.id){if(typeof this.id==="string"){embedSrc=embedSrc.substr(embedSrc.lastIndexOf(this.id)+this.id.length,embedSrc.length)}else{embedSrc=this.id.call(this,embedSrc)}}embedSrc=this.src.replace("%id%",embedSrc);return false}});var dataObj={};if(iframeSt.srcAction){dataObj[iframeSt.srcAction]=embedSrc}mfp._parseMarkup(template,dataObj,item);mfp.updateStatus("ready");return template}}});var _getLoopedId=function(index){var numSlides=mfp.items.length;if(index>numSlides-1){return index-numSlides}else if(index<0){return numSlides+index}return index},_replaceCurrTotal=function(text,curr,total){return text.replace(/%curr%/gi,curr+1).replace(/%total%/gi,total)};$.magnificPopup.registerModule("gallery",{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var gSt=mfp.st.gallery,ns=".mfp-gallery";mfp.direction=true;if(!gSt||!gSt.enabled)return false;_wrapClasses+=" mfp-gallery";_mfpOn(OPEN_EVENT+ns,function(){if(gSt.navigateByImgClick){mfp.wrap.on("click"+ns,".mfp-img",function(){if(mfp.items.length>1){mfp.next();return false}})}_document.on("keydown"+ns,function(e){if(e.keyCode===37){mfp.prev()}else if(e.keyCode===39){mfp.next()}})});_mfpOn("UpdateStatus"+ns,function(e,data){if(data.text){data.text=_replaceCurrTotal(data.text,mfp.currItem.index,mfp.items.length)}});_mfpOn(MARKUP_PARSE_EVENT+ns,function(e,element,values,item){var l=mfp.items.length;values.counter=l>1?_replaceCurrTotal(gSt.tCounter,item.index,l):""});_mfpOn("BuildControls"+ns,function(){if(mfp.items.length>1&&gSt.arrows&&!mfp.arrowLeft){var markup=gSt.arrowMarkup,arrowLeft=mfp.arrowLeft=$(markup.replace(/%title%/gi,gSt.tPrev).replace(/%dir%/gi,"left")).addClass(PREVENT_CLOSE_CLASS),arrowRight=mfp.arrowRight=$(markup.replace(/%title%/gi,gSt.tNext).replace(/%dir%/gi,"right")).addClass(PREVENT_CLOSE_CLASS);arrowLeft.click(function(){mfp.prev()});arrowRight.click(function(){mfp.next()});mfp.container.append(arrowLeft.add(arrowRight))}});_mfpOn(CHANGE_EVENT+ns,function(){if(mfp._preloadTimeout)clearTimeout(mfp._preloadTimeout);mfp._preloadTimeout=setTimeout(function(){mfp.preloadNearbyImages();mfp._preloadTimeout=null},16)});_mfpOn(CLOSE_EVENT+ns,function(){_document.off(ns);mfp.wrap.off("click"+ns);mfp.arrowRight=mfp.arrowLeft=null})},next:function(){mfp.direction=true;mfp.index=_getLoopedId(mfp.index+1);mfp.updateItemHTML()},prev:function(){mfp.direction=false;mfp.index=_getLoopedId(mfp.index-1);mfp.updateItemHTML()},goTo:function(newIndex){mfp.direction=newIndex>=mfp.index;mfp.index=newIndex;mfp.updateItemHTML()},preloadNearbyImages:function(){var p=mfp.st.gallery.preload,preloadBefore=Math.min(p[0],mfp.items.length),preloadAfter=Math.min(p[1],mfp.items.length),i;for(i=1;i<=(mfp.direction?preloadAfter:preloadBefore);i++){mfp._preloadItem(mfp.index+i)}for(i=1;i<=(mfp.direction?preloadBefore:preloadAfter);i++){mfp._preloadItem(mfp.index-i)}},_preloadItem:function(index){index=_getLoopedId(index);if(mfp.items[index].preloaded){return}var item=mfp.items[index];if(!item.parsed){item=mfp.parseEl(index)}_mfpTrigger("LazyLoad",item);if(item.type==="image"){item.img=$('<img class="mfp-img" />').on("load.mfploader",function(){item.hasSize=true}).on("error.mfploader",function(){item.hasSize=true;item.loadError=true;_mfpTrigger("LazyLoadError",item)}).attr("src",item.src)}item.preloaded=true}}});var RETINA_NS="retina";$.magnificPopup.registerModule(RETINA_NS,{options:{replaceSrc:function(item){return item.src.replace(/\.\w+$/,function(m){return"@2x"+m})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var st=mfp.st.retina,ratio=st.ratio;ratio=!isNaN(ratio)?ratio:ratio();if(ratio>1){_mfpOn("ImageHasSize"+"."+RETINA_NS,function(e,item){item.img.css({"max-width":item.img[0].naturalWidth/ratio,width:"100%"})});_mfpOn("ElementParse"+"."+RETINA_NS,function(e,item){item.src=st.replaceSrc(item,ratio)})}}}}});_checkInstance()});(function($){var defaults={url:false,callback:false,target:false,duration:120,on:"mouseover",touch:true,onZoomIn:false,onZoomOut:false,magnify:1};$.zoom=function(target,source,img,magnify){var targetHeight,targetWidth,sourceHeight,sourceWidth,xRatio,yRatio,offset,$target=$(target),position=$target.css("position"),$source=$(source);$target.css("position",/(absolute|fixed)/.test(position)?position:"relative");$target.css("overflow","hidden");img.style.width=img.style.height="";$(img).addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:img.width*magnify,height:img.height*magnify,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(target);return{init:function(){targetWidth=$target.outerWidth();targetHeight=$target.outerHeight();if(source===$target[0]){sourceWidth=targetWidth;sourceHeight=targetHeight}else{sourceWidth=$source.outerWidth();sourceHeight=$source.outerHeight()}xRatio=(img.width-targetWidth)/sourceWidth;yRatio=(img.height-targetHeight)/sourceHeight;offset=$source.offset()},move:function(e){var left=e.pageX-offset.left,top=e.pageY-offset.top;top=Math.max(Math.min(top,sourceHeight),0);left=Math.max(Math.min(left,sourceWidth),0);img.style.left=left*-xRatio+"px";img.style.top=top*-yRatio+"px"}}};$.fn.zoom=function(options){return this.each(function(){var settings=$.extend({},defaults,options||{}),target=settings.target||this,source=this,$source=$(source),$target=$(target),img=document.createElement("img"),$img=$(img),mousemove="mousemove.zoom",clicked=false,touched=false,$urlElement;if(!settings.url){$urlElement=$source.find("img");if($urlElement[0]){settings.url=$urlElement.data("src")||$urlElement.attr("src")}if(!settings.url){return}}(function(){var position=$target.css("position");var overflow=$target.css("overflow");$source.one("zoom.destroy",function(){$source.off(".zoom");$target.css("position",position);$target.css("overflow",overflow);$img.remove()})})();img.onload=function(){var zoom=$.zoom(target,source,img,settings.magnify);function start(e){zoom.init();zoom.move(e);$img.stop().fadeTo($.support.opacity?settings.duration:0,1,$.isFunction(settings.onZoomIn)?settings.onZoomIn.call(img):false)}function stop(){$img.stop().fadeTo(settings.duration,0,$.isFunction(settings.onZoomOut)?settings.onZoomOut.call(img):false)}if(settings.on==="grab"){$source.on("mousedown.zoom",function(e){if(e.which===1){$(document).one("mouseup.zoom",function(){stop();$(document).off(mousemove,zoom.move)});start(e);$(document).on(mousemove,zoom.move);e.preventDefault()}})}else if(settings.on==="click"){$source.on("click.zoom",function(e){if(clicked){return}else{clicked=true;start(e);$(document).on(mousemove,zoom.move);$(document).one("click.zoom",function(){stop();clicked=false;$(document).off(mousemove,zoom.move)});return false}})}else if(settings.on==="toggle"){$source.on("click.zoom",function(e){if(clicked){stop()}else{start(e)}clicked=!clicked})}else if(settings.on==="mouseover"){zoom.init();$source.on("mouseenter.zoom",start).on("mouseleave.zoom",stop).on(mousemove,zoom.move)}if(settings.touch){$source.on("touchstart.zoom",function(e){e.preventDefault();if(touched){touched=false;stop()}else{touched=true;start(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])}}).on("touchmove.zoom",function(e){e.preventDefault();zoom.move(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0])}).on("touchend.zoom",function(e){e.preventDefault();if(touched){touched=false;stop()}})}if($.isFunction(settings.callback)){settings.callback.call(img)}};img.src=settings.url})};$.fn.zoom.defaults=defaults})(window.jQuery);(function($){var focused=true;$.flexslider=function(el,options){var slider=$(el);slider.vars=$.extend({},$.flexslider.defaults,options);var namespace=slider.vars.namespace,msGesture=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,touch=("ontouchstart"in window||msGesture||window.DocumentTouch&&document instanceof DocumentTouch)&&slider.vars.touch,eventType="click touchend MSPointerUp keyup",watchedEvent="",watchedEventClearTimer,vertical=slider.vars.direction==="vertical",reverse=slider.vars.reverse,carousel=slider.vars.itemWidth>0,fade=slider.vars.animation==="fade",asNav=slider.vars.asNavFor!=="",methods={};$.data(el,"flexslider",slider);methods={init:function(){slider.animating=false;slider.currentSlide=parseInt(slider.vars.startAt?slider.vars.startAt:0,10);if(isNaN(slider.currentSlide)){slider.currentSlide=0}slider.animatingTo=slider.currentSlide;slider.atEnd=slider.currentSlide===0||slider.currentSlide===slider.last;slider.containerSelector=slider.vars.selector.substr(0,slider.vars.selector.search(" "));slider.slides=$(slider.vars.selector,slider);slider.container=$(slider.containerSelector,slider);slider.count=slider.slides.length;slider.syncExists=$(slider.vars.sync).length>0;if(slider.vars.animation==="slide"){slider.vars.animation="swing"}slider.prop=vertical?"top":"marginLeft";slider.args={};slider.manualPause=false;slider.stopped=false;slider.started=false;slider.startTimeout=null;slider.transitions=!slider.vars.video&&!fade&&slider.vars.useCSS&&function(){var obj=document.createElement("div"),props=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in props){if(obj.style[props[i]]!==undefined){slider.pfx=props[i].replace("Perspective","").toLowerCase();slider.prop="-"+slider.pfx+"-transform";return true}}return false}();slider.ensureAnimationEnd="";if(slider.vars.controlsContainer!=="")slider.controlsContainer=$(slider.vars.controlsContainer).length>0&&$(slider.vars.controlsContainer);if(slider.vars.manualControls!=="")slider.manualControls=$(slider.vars.manualControls).length>0&&$(slider.vars.manualControls);if(slider.vars.customDirectionNav!=="")slider.customDirectionNav=$(slider.vars.customDirectionNav).length===2&&$(slider.vars.customDirectionNav);if(slider.vars.randomize){slider.slides.sort(function(){return Math.round(Math.random())-.5});slider.container.empty().append(slider.slides)}slider.doMath();slider.setup("init");if(slider.vars.controlNav){methods.controlNav.setup()}if(slider.vars.directionNav){methods.directionNav.setup()}if(slider.vars.keyboard&&($(slider.containerSelector).length===1||slider.vars.multipleKeyboard)){$(document).bind("keyup",function(event){var keycode=event.keyCode;if(!slider.animating&&(keycode===39||keycode===37)){var target=keycode===39?slider.getTarget("next"):keycode===37?slider.getTarget("prev"):false;slider.flexAnimate(target,slider.vars.pauseOnAction)}})}if(slider.vars.mousewheel){slider.bind("mousewheel",function(event,delta,deltaX,deltaY){event.preventDefault();var target=delta<0?slider.getTarget("next"):slider.getTarget("prev");slider.flexAnimate(target,slider.vars.pauseOnAction)})}if(slider.vars.pausePlay){methods.pausePlay.setup()}if(slider.vars.slideshow&&slider.vars.pauseInvisible){methods.pauseInvisible.init()}if(slider.vars.slideshow){if(slider.vars.pauseOnHover){slider.hover(function(){if(!slider.manualPlay&&!slider.manualPause){slider.pause()}},function(){if(!slider.manualPause&&!slider.manualPlay&&!slider.stopped){slider.play()}})}if(!slider.vars.pauseInvisible||!methods.pauseInvisible.isHidden()){slider.vars.initDelay>0?slider.startTimeout=setTimeout(slider.play,slider.vars.initDelay):slider.play()}}if(asNav){methods.asNav.setup()}if(touch&&slider.vars.touch){methods.touch()}if(!fade||fade&&slider.vars.smoothHeight){$(window).bind("resize orientationchange focus",methods.resize)}slider.find("img").attr("draggable","false");setTimeout(function(){slider.vars.start(slider)},200)},asNav:{setup:function(){slider.asNav=true;slider.animatingTo=Math.floor(slider.currentSlide/slider.move);slider.currentItem=slider.currentSlide;slider.slides.removeClass(namespace+"active-slide").eq(slider.currentItem).addClass(namespace+"active-slide");if(!msGesture){slider.slides.on(eventType,function(e){e.preventDefault();var $slide=$(this),target=$slide.index();var posFromLeft=$slide.offset().left-$(slider).scrollLeft();if(posFromLeft<=0&&$slide.hasClass(namespace+"active-slide")){slider.flexAnimate(slider.getTarget("prev"),true)}else if(!$(slider.vars.asNavFor).data("flexslider").animating&&!$slide.hasClass(namespace+"active-slide")){slider.direction=slider.currentItem<target?"next":"prev";slider.flexAnimate(target,slider.vars.pauseOnAction,false,true,true)}})}else{el._slider=slider;slider.slides.each(function(){var that=this;that._gesture=new MSGesture;that._gesture.target=that;that.addEventListener("MSPointerDown",function(e){e.preventDefault();if(e.currentTarget._gesture){e.currentTarget._gesture.addPointer(e.pointerId)}},false);that.addEventListener("MSGestureTap",function(e){e.preventDefault();var $slide=$(this),target=$slide.index();if(!$(slider.vars.asNavFor).data("flexslider").animating&&!$slide.hasClass("active")){slider.direction=slider.currentItem<target?"next":"prev";slider.flexAnimate(target,slider.vars.pauseOnAction,false,true,true)}})})}}},controlNav:{setup:function(){if(!slider.manualControls){methods.controlNav.setupPaging()}else{methods.controlNav.setupManual()}},setupPaging:function(){var type=slider.vars.controlNav==="thumbnails"?"control-thumbs":"control-paging",j=1,item,slide;slider.controlNavScaffold=$('<ol class="'+namespace+"control-nav "+namespace+type+'"></ol>');if(slider.pagingCount>1){for(var i=0;i<slider.pagingCount;i++){slide=slider.slides.eq(i);if(undefined===slide.attr("data-thumb-alt")){slide.attr("data-thumb-alt","")}altText=""!==slide.attr("data-thumb-alt")?altText=' alt="'+slide.attr("data-thumb-alt")+'"':"";item=slider.vars.controlNav==="thumbnails"?'<img src="'+slide.attr("data-thumb")+'"'+altText+"/>":'<a href="#">'+j+"</a>";if("thumbnails"===slider.vars.controlNav&&true===slider.vars.thumbCaptions){var captn=slide.attr("data-thumbcaption");if(""!==captn&&undefined!==captn){item+='<span class="'+namespace+'caption">'+captn+"</span>"}}slider.controlNavScaffold.append("<li>"+item+"</li>");j++}}slider.controlsContainer?$(slider.controlsContainer).append(slider.controlNavScaffold):slider.append(slider.controlNavScaffold);methods.controlNav.set();methods.controlNav.active();slider.controlNavScaffold.delegate("a, img",eventType,function(event){event.preventDefault();if(watchedEvent===""||watchedEvent===event.type){var $this=$(this),target=slider.controlNav.index($this);if(!$this.hasClass(namespace+"active")){slider.direction=target>slider.currentSlide?"next":"prev";slider.flexAnimate(target,slider.vars.pauseOnAction)}}if(watchedEvent===""){watchedEvent=event.type}methods.setToClearWatchedEvent()})},setupManual:function(){slider.controlNav=slider.manualControls;methods.controlNav.active();slider.controlNav.bind(eventType,function(event){event.preventDefault();if(watchedEvent===""||watchedEvent===event.type){var $this=$(this),target=slider.controlNav.index($this);if(!$this.hasClass(namespace+"active")){target>slider.currentSlide?slider.direction="next":slider.direction="prev";slider.flexAnimate(target,slider.vars.pauseOnAction)}}if(watchedEvent===""){watchedEvent=event.type}methods.setToClearWatchedEvent()})},set:function(){var selector=slider.vars.controlNav==="thumbnails"?"img":"a";slider.controlNav=$("."+namespace+"control-nav li "+selector,slider.controlsContainer?slider.controlsContainer:slider)},active:function(){slider.controlNav.removeClass(namespace+"active").eq(slider.animatingTo).addClass(namespace+"active")},update:function(action,pos){if(slider.pagingCount>1&&action==="add"){slider.controlNavScaffold.append($('<li><a href="#">'+slider.count+"</a></li>"))}else if(slider.pagingCount===1){slider.controlNavScaffold.find("li").remove()}else{slider.controlNav.eq(pos).closest("li").remove()}methods.controlNav.set();slider.pagingCount>1&&slider.pagingCount!==slider.controlNav.length?slider.update(pos,action):methods.controlNav.active()}},directionNav:{setup:function(){var directionNavScaffold=$('<ul class="'+namespace+'direction-nav"><li class="'+namespace+'nav-prev"><a class="'+namespace+'prev" href="#">'+slider.vars.prevText+'</a></li><li class="'+namespace+'nav-next"><a class="'+namespace+'next" href="#">'+slider.vars.nextText+"</a></li></ul>");if(slider.customDirectionNav){slider.directionNav=slider.customDirectionNav}else if(slider.controlsContainer){$(slider.controlsContainer).append(directionNavScaffold);slider.directionNav=$("."+namespace+"direction-nav li a",slider.controlsContainer)}else{slider.append(directionNavScaffold);slider.directionNav=$("."+namespace+"direction-nav li a",slider)}methods.directionNav.update();slider.directionNav.bind(eventType,function(event){event.preventDefault();var target;if(watchedEvent===""||watchedEvent===event.type){target=$(this).hasClass(namespace+"next")?slider.getTarget("next"):slider.getTarget("prev");slider.flexAnimate(target,slider.vars.pauseOnAction)}if(watchedEvent===""){watchedEvent=event.type}methods.setToClearWatchedEvent()})},update:function(){var disabledClass=namespace+"disabled";if(slider.pagingCount===1){slider.directionNav.addClass(disabledClass).attr("tabindex","-1")}else if(!slider.vars.animationLoop){if(slider.animatingTo===0){slider.directionNav.removeClass(disabledClass).filter("."+namespace+"prev").addClass(disabledClass).attr("tabindex","-1")}else if(slider.animatingTo===slider.last){slider.directionNav.removeClass(disabledClass).filter("."+namespace+"next").addClass(disabledClass).attr("tabindex","-1")}else{slider.directionNav.removeClass(disabledClass).removeAttr("tabindex")}}else{slider.directionNav.removeClass(disabledClass).removeAttr("tabindex")}}},pausePlay:{setup:function(){var pausePlayScaffold=$('<div class="'+namespace+'pauseplay"><a href="#"></a></div>');if(slider.controlsContainer){slider.controlsContainer.append(pausePlayScaffold);slider.pausePlay=$("."+namespace+"pauseplay a",slider.controlsContainer)}else{slider.append(pausePlayScaffold);slider.pausePlay=$("."+namespace+"pauseplay a",slider)}methods.pausePlay.update(slider.vars.slideshow?namespace+"pause":namespace+"play");slider.pausePlay.bind(eventType,function(event){event.preventDefault();if(watchedEvent===""||watchedEvent===event.type){if($(this).hasClass(namespace+"pause")){slider.manualPause=true;slider.manualPlay=false;slider.pause()}else{slider.manualPause=false;slider.manualPlay=true;slider.play()}}if(watchedEvent===""){watchedEvent=event.type}methods.setToClearWatchedEvent()})},update:function(state){state==="play"?slider.pausePlay.removeClass(namespace+"pause").addClass(namespace+"play").html(slider.vars.playText):slider.pausePlay.removeClass(namespace+"play").addClass(namespace+"pause").html(slider.vars.pauseText)}},touch:function(){var startX,startY,offset,cwidth,dx,startT,onTouchStart,onTouchMove,onTouchEnd,scrolling=false,localX=0,localY=0,accDx=0;if(!msGesture){onTouchStart=function(e){if(slider.animating){e.preventDefault()}else if(window.navigator.msPointerEnabled||e.touches.length===1){slider.pause();cwidth=vertical?slider.h:slider.w;startT=Number(new Date);localX=e.touches[0].pageX;localY=e.touches[0].pageY;offset=carousel&&reverse&&slider.animatingTo===slider.last?0:carousel&&reverse?slider.limit-(slider.itemW+slider.vars.itemMargin)*slider.move*slider.animatingTo:carousel&&slider.currentSlide===slider.last?slider.limit:carousel?(slider.itemW+slider.vars.itemMargin)*slider.move*slider.currentSlide:reverse?(slider.last-slider.currentSlide+slider.cloneOffset)*cwidth:(slider.currentSlide+slider.cloneOffset)*cwidth;startX=vertical?localY:localX;startY=vertical?localX:localY;el.addEventListener("touchmove",onTouchMove,false);el.addEventListener("touchend",onTouchEnd,false)}};onTouchMove=function(e){localX=e.touches[0].pageX;localY=e.touches[0].pageY;dx=vertical?startX-localY:startX-localX;scrolling=vertical?Math.abs(dx)<Math.abs(localX-startY):Math.abs(dx)<Math.abs(localY-startY);var fxms=500;if(!scrolling||Number(new Date)-startT>fxms){e.preventDefault();if(!fade&&slider.transitions){if(!slider.vars.animationLoop){dx=dx/(slider.currentSlide===0&&dx<0||slider.currentSlide===slider.last&&dx>0?Math.abs(dx)/cwidth+2:1)}slider.setProps(offset+dx,"setTouch")}}};onTouchEnd=function(e){el.removeEventListener("touchmove",onTouchMove,false);if(slider.animatingTo===slider.currentSlide&&!scrolling&&!(dx===null)){var updateDx=reverse?-dx:dx,target=updateDx>0?slider.getTarget("next"):slider.getTarget("prev");if(slider.canAdvance(target)&&(Number(new Date)-startT<550&&Math.abs(updateDx)>50||Math.abs(updateDx)>cwidth/2)){slider.flexAnimate(target,slider.vars.pauseOnAction)}else{if(!fade){slider.flexAnimate(slider.currentSlide,slider.vars.pauseOnAction,true)}}}el.removeEventListener("touchend",onTouchEnd,false);startX=null;startY=null;dx=null;offset=null};el.addEventListener("touchstart",onTouchStart,false)}else{el.style.msTouchAction="none";el._gesture=new MSGesture;el._gesture.target=el;el.addEventListener("MSPointerDown",onMSPointerDown,false);el._slider=slider;el.addEventListener("MSGestureChange",onMSGestureChange,false);el.addEventListener("MSGestureEnd",onMSGestureEnd,false);function onMSPointerDown(e){e.stopPropagation();if(slider.animating){e.preventDefault()}else{slider.pause();el._gesture.addPointer(e.pointerId);accDx=0;cwidth=vertical?slider.h:slider.w;startT=Number(new Date);offset=carousel&&reverse&&slider.animatingTo===slider.last?0:carousel&&reverse?slider.limit-(slider.itemW+slider.vars.itemMargin)*slider.move*slider.animatingTo:carousel&&slider.currentSlide===slider.last?slider.limit:carousel?(slider.itemW+slider.vars.itemMargin)*slider.move*slider.currentSlide:reverse?(slider.last-slider.currentSlide+slider.cloneOffset)*cwidth:(slider.currentSlide+slider.cloneOffset)*cwidth}}function onMSGestureChange(e){e.stopPropagation();var slider=e.target._slider;if(!slider){return}var transX=-e.translationX,transY=-e.translationY;accDx=accDx+(vertical?transY:transX);dx=accDx;scrolling=vertical?Math.abs(accDx)<Math.abs(-transX):Math.abs(accDx)<Math.abs(-transY);if(e.detail===e.MSGESTURE_FLAG_INERTIA){setImmediate(function(){el._gesture.stop()});return}if(!scrolling||Number(new Date)-startT>500){e.preventDefault();if(!fade&&slider.transitions){if(!slider.vars.animationLoop){dx=accDx/(slider.currentSlide===0&&accDx<0||slider.currentSlide===slider.last&&accDx>0?Math.abs(accDx)/cwidth+2:1)}slider.setProps(offset+dx,"setTouch")}}}function onMSGestureEnd(e){e.stopPropagation();var slider=e.target._slider;if(!slider){return}if(slider.animatingTo===slider.currentSlide&&!scrolling&&!(dx===null)){var updateDx=reverse?-dx:dx,target=updateDx>0?slider.getTarget("next"):slider.getTarget("prev");if(slider.canAdvance(target)&&(Number(new Date)-startT<550&&Math.abs(updateDx)>50||Math.abs(updateDx)>cwidth/2)){slider.flexAnimate(target,slider.vars.pauseOnAction)}else{if(!fade){slider.flexAnimate(slider.currentSlide,slider.vars.pauseOnAction,true)}}}startX=null;startY=null;dx=null;offset=null;accDx=0}}},resize:function(){if(!slider.animating&&slider.is(":visible")){if(!carousel){slider.doMath()}if(fade){methods.smoothHeight()}else if(carousel){slider.slides.width(slider.computedW);slider.update(slider.pagingCount);slider.setProps()}else if(vertical){slider.viewport.height(slider.h);slider.setProps(slider.h,"setTotal")}else{if(slider.vars.smoothHeight){methods.smoothHeight()}slider.newSlides.width(slider.computedW);slider.setProps(slider.computedW,"setTotal")}}},smoothHeight:function(dur){if(!vertical||fade){var $obj=fade?slider:slider.viewport;dur?$obj.animate({height:slider.slides.eq(slider.animatingTo).height()},dur):$obj.height(slider.slides.eq(slider.animatingTo).height())}},sync:function(action){var $obj=$(slider.vars.sync).data("flexslider"),target=slider.animatingTo;switch(action){case"animate":$obj.flexAnimate(target,slider.vars.pauseOnAction,false,true);break;case"play":if(!$obj.playing&&!$obj.asNav){$obj.play()}break;case"pause":$obj.pause();break}},uniqueID:function($clone){$clone.filter("[id]").add($clone.find("[id]")).each(function(){var $this=$(this);$this.attr("id",$this.attr("id")+"_clone")});return $clone},pauseInvisible:{visProp:null,init:function(){var visProp=methods.pauseInvisible.getHiddenProp();if(visProp){var evtname=visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(evtname,function(){if(methods.pauseInvisible.isHidden()){if(slider.startTimeout){clearTimeout(slider.startTimeout)}else{slider.pause()}}else{if(slider.started){slider.play()}else{if(slider.vars.initDelay>0){setTimeout(slider.play,slider.vars.initDelay)}else{slider.play()}}}})}},isHidden:function(){var prop=methods.pauseInvisible.getHiddenProp();if(!prop){return false}return document[prop]},getHiddenProp:function(){var prefixes=["webkit","moz","ms","o"];if("hidden"in document){return"hidden"}for(var i=0;i<prefixes.length;i++){if(prefixes[i]+"Hidden"in document){return prefixes[i]+"Hidden"}}return null}},setToClearWatchedEvent:function(){clearTimeout(watchedEventClearTimer);watchedEventClearTimer=setTimeout(function(){watchedEvent=""},3e3)}};slider.flexAnimate=function(target,pause,override,withSync,fromNav){if(!slider.vars.animationLoop&&target!==slider.currentSlide){slider.direction=target>slider.currentSlide?"next":"prev"}if(asNav&&slider.pagingCount===1)slider.direction=slider.currentItem<target?"next":"prev";if(!slider.animating&&(slider.canAdvance(target,fromNav)||override)&&slider.is(":visible")){if(asNav&&withSync){var master=$(slider.vars.asNavFor).data("flexslider");slider.atEnd=target===0||target===slider.count-1;master.flexAnimate(target,true,false,true,fromNav);slider.direction=slider.currentItem<target?"next":"prev";master.direction=slider.direction;if(Math.ceil((target+1)/slider.visible)-1!==slider.currentSlide&&target!==0){slider.currentItem=target;slider.slides.removeClass(namespace+"active-slide").eq(target).addClass(namespace+"active-slide");target=Math.floor(target/slider.visible)}else{slider.currentItem=target;slider.slides.removeClass(namespace+"active-slide").eq(target).addClass(namespace+"active-slide");return false}}slider.animating=true;slider.animatingTo=target;if(pause){slider.pause()}slider.vars.before(slider);if(slider.syncExists&&!fromNav){methods.sync("animate")}if(slider.vars.controlNav){methods.controlNav.active()}if(!carousel){slider.slides.removeClass(namespace+"active-slide").eq(target).addClass(namespace+"active-slide")}slider.atEnd=target===0||target===slider.last;if(slider.vars.directionNav){methods.directionNav.update()}if(target===slider.last){slider.vars.end(slider);if(!slider.vars.animationLoop){slider.pause()}}if(!fade){var dimension=vertical?slider.slides.filter(":first").height():slider.computedW,margin,slideString,calcNext;if(carousel){margin=slider.vars.itemMargin;calcNext=(slider.itemW+margin)*slider.move*slider.animatingTo;slideString=calcNext>slider.limit&&slider.visible!==1?slider.limit:calcNext}else if(slider.currentSlide===0&&target===slider.count-1&&slider.vars.animationLoop&&slider.direction!=="next"){slideString=reverse?(slider.count+slider.cloneOffset)*dimension:0}else if(slider.currentSlide===slider.last&&target===0&&slider.vars.animationLoop&&slider.direction!=="prev"){slideString=reverse?0:(slider.count+1)*dimension}else{slideString=reverse?(slider.count-1-target+slider.cloneOffset)*dimension:(target+slider.cloneOffset)*dimension}slider.setProps(slideString,"",slider.vars.animationSpeed);if(slider.transitions){if(!slider.vars.animationLoop||!slider.atEnd){slider.animating=false;slider.currentSlide=slider.animatingTo}slider.container.unbind("webkitTransitionEnd transitionend");slider.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(slider.ensureAnimationEnd);slider.wrapup(dimension)});clearTimeout(slider.ensureAnimationEnd);slider.ensureAnimationEnd=setTimeout(function(){slider.wrapup(dimension)},slider.vars.animationSpeed+100)}else{slider.container.animate(slider.args,slider.vars.animationSpeed,slider.vars.easing,function(){slider.wrapup(dimension)})}}else{if(!touch){slider.slides.eq(slider.currentSlide).css({zIndex:1}).animate({opacity:0},slider.vars.animationSpeed,slider.vars.easing);slider.slides.eq(target).css({zIndex:2}).animate({opacity:1},slider.vars.animationSpeed,slider.vars.easing,slider.wrapup)}else{slider.slides.eq(slider.currentSlide).css({opacity:0,zIndex:1});slider.slides.eq(target).css({opacity:1,zIndex:2});slider.wrapup(dimension)}}if(slider.vars.smoothHeight){methods.smoothHeight(slider.vars.animationSpeed)}}};slider.wrapup=function(dimension){if(!fade&&!carousel){if(slider.currentSlide===0&&slider.animatingTo===slider.last&&slider.vars.animationLoop){slider.setProps(dimension,"jumpEnd")}else if(slider.currentSlide===slider.last&&slider.animatingTo===0&&slider.vars.animationLoop){slider.setProps(dimension,"jumpStart")}}slider.animating=false;slider.currentSlide=slider.animatingTo;slider.vars.after(slider)};slider.animateSlides=function(){if(!slider.animating&&focused){slider.flexAnimate(slider.getTarget("next"))}};slider.pause=function(){clearInterval(slider.animatedSlides);slider.animatedSlides=null;slider.playing=false;if(slider.vars.pausePlay){methods.pausePlay.update("play")}if(slider.syncExists){methods.sync("pause")}};slider.play=function(){if(slider.playing){clearInterval(slider.animatedSlides)}slider.animatedSlides=slider.animatedSlides||setInterval(slider.animateSlides,slider.vars.slideshowSpeed);slider.started=slider.playing=true;if(slider.vars.pausePlay){methods.pausePlay.update("pause")}if(slider.syncExists){methods.sync("play")}};slider.stop=function(){slider.pause();slider.stopped=true};slider.canAdvance=function(target,fromNav){var last=asNav?slider.pagingCount-1:slider.last;return fromNav?true:asNav&&slider.currentItem===slider.count-1&&target===0&&slider.direction==="prev"?true:asNav&&slider.currentItem===0&&target===slider.pagingCount-1&&slider.direction!=="next"?false:target===slider.currentSlide&&!asNav?false:slider.vars.animationLoop?true:slider.atEnd&&slider.currentSlide===0&&target===last&&slider.direction!=="next"?false:slider.atEnd&&slider.currentSlide===last&&target===0&&slider.direction==="next"?false:true};slider.getTarget=function(dir){slider.direction=dir;if(dir==="next"){return slider.currentSlide===slider.last?0:slider.currentSlide+1}else{return slider.currentSlide===0?slider.last:slider.currentSlide-1}};slider.setProps=function(pos,special,dur){var target=function(){var posCheck=pos?pos:(slider.itemW+slider.vars.itemMargin)*slider.move*slider.animatingTo,posCalc=function(){if(carousel){return special==="setTouch"?pos:reverse&&slider.animatingTo===slider.last?0:reverse?slider.limit-(slider.itemW+slider.vars.itemMargin)*slider.move*slider.animatingTo:slider.animatingTo===slider.last?slider.limit:posCheck}else{switch(special){case"setTotal":return reverse?(slider.count-1-slider.currentSlide+slider.cloneOffset)*pos:(slider.currentSlide+slider.cloneOffset)*pos;case"setTouch":return reverse?pos:pos;case"jumpEnd":return reverse?pos:slider.count*pos;case"jumpStart":return reverse?slider.count*pos:pos;default:return pos}}}();return posCalc*-1+"px"}();if(slider.transitions){target=vertical?"translate3d(0,"+target+",0)":"translate3d("+target+",0,0)";dur=dur!==undefined?dur/1e3+"s":"0s";slider.container.css("-"+slider.pfx+"-transition-duration",dur);slider.container.css("transition-duration",dur)}slider.args[slider.prop]=target;if(slider.transitions||dur===undefined){slider.container.css(slider.args)}slider.container.css("transform",target)};slider.setup=function(type){if(!fade){var sliderOffset,arr;if(type==="init"){slider.viewport=$('<div class="'+namespace+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(slider).append(slider.container);slider.cloneCount=0;slider.cloneOffset=0;if(reverse){arr=$.makeArray(slider.slides).reverse();slider.slides=$(arr);slider.container.empty().append(slider.slides)}}if(slider.vars.animationLoop&&!carousel){slider.cloneCount=2;slider.cloneOffset=1;if(type!=="init"){slider.container.find(".clone").remove()}slider.container.append(methods.uniqueID(slider.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(methods.uniqueID(slider.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))}slider.newSlides=$(slider.vars.selector,slider);sliderOffset=reverse?slider.count-1-slider.currentSlide+slider.cloneOffset:slider.currentSlide+slider.cloneOffset;if(vertical&&!carousel){slider.container.height((slider.count+slider.cloneCount)*200+"%").css("position","absolute").width("100%");setTimeout(function(){slider.newSlides.css({display:"block"});slider.doMath();slider.viewport.height(slider.h);slider.setProps(sliderOffset*slider.h,"init")},type==="init"?100:0)}else{slider.container.width((slider.count+slider.cloneCount)*200+"%");slider.setProps(sliderOffset*slider.computedW,"init");setTimeout(function(){slider.doMath();slider.newSlides.css({width:slider.computedW,marginRight:slider.computedM,float:"left",display:"block"});if(slider.vars.smoothHeight){methods.smoothHeight()}},type==="init"?100:0)}}else{slider.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"});if(type==="init"){if(!touch){if(slider.vars.fadeFirstSlide==false){slider.slides.css({opacity:0,display:"block",zIndex:1}).eq(slider.currentSlide).css({zIndex:2}).css({opacity:1})}else{slider.slides.css({opacity:0,display:"block",zIndex:1}).eq(slider.currentSlide).css({zIndex:2}).animate({opacity:1},slider.vars.animationSpeed,slider.vars.easing)}}else{slider.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+slider.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(slider.currentSlide).css({opacity:1,zIndex:2})}}if(slider.vars.smoothHeight){methods.smoothHeight()}}if(!carousel){slider.slides.removeClass(namespace+"active-slide").eq(slider.currentSlide).addClass(namespace+"active-slide")}slider.vars.init(slider)};slider.doMath=function(){var slide=slider.slides.first(),slideMargin=slider.vars.itemMargin,minItems=slider.vars.minItems,maxItems=slider.vars.maxItems;slider.w=slider.viewport===undefined?slider.width():slider.viewport.width();slider.h=slide.height();slider.boxPadding=slide.outerWidth()-slide.width();if(carousel){slider.itemT=slider.vars.itemWidth+slideMargin;slider.itemM=slideMargin;slider.minW=minItems?minItems*slider.itemT:slider.w;slider.maxW=maxItems?maxItems*slider.itemT-slideMargin:slider.w;slider.itemW=slider.minW>slider.w?(slider.w-slideMargin*(minItems-1))/minItems:slider.maxW<slider.w?(slider.w-slideMargin*(maxItems-1))/maxItems:slider.vars.itemWidth>slider.w?slider.w:slider.vars.itemWidth;slider.visible=Math.floor(slider.w/slider.itemW);slider.move=slider.vars.move>0&&slider.vars.move<slider.visible?slider.vars.move:slider.visible;slider.pagingCount=Math.ceil((slider.count-slider.visible)/slider.move+1);slider.last=slider.pagingCount-1;slider.limit=slider.pagingCount===1?0:slider.vars.itemWidth>slider.w?slider.itemW*(slider.count-1)+slideMargin*(slider.count-1):(slider.itemW+slideMargin)*slider.count-slider.w-slideMargin}else{slider.itemW=slider.w;slider.itemM=slideMargin;slider.pagingCount=slider.count;slider.last=slider.count-1}slider.computedW=slider.itemW-slider.boxPadding;slider.computedM=slider.itemM};slider.update=function(pos,action){slider.doMath();if(!carousel){if(pos<slider.currentSlide){slider.currentSlide+=1}else if(pos<=slider.currentSlide&&pos!==0){slider.currentSlide-=1}slider.animatingTo=slider.currentSlide}if(slider.vars.controlNav&&!slider.manualControls){if(action==="add"&&!carousel||slider.pagingCount>slider.controlNav.length){methods.controlNav.update("add")}else if(action==="remove"&&!carousel||slider.pagingCount<slider.controlNav.length){if(carousel&&slider.currentSlide>slider.last){slider.currentSlide-=1;slider.animatingTo-=1}methods.controlNav.update("remove",slider.last)}}if(slider.vars.directionNav){methods.directionNav.update()}};slider.addSlide=function(obj,pos){var $obj=$(obj);slider.count+=1;slider.last=slider.count-1;if(vertical&&reverse){pos!==undefined?slider.slides.eq(slider.count-pos).after($obj):slider.container.prepend($obj)}else{pos!==undefined?slider.slides.eq(pos).before($obj):slider.container.append($obj)}slider.update(pos,"add");slider.slides=$(slider.vars.selector+":not(.clone)",slider);slider.setup();slider.vars.added(slider)};slider.removeSlide=function(obj){var pos=isNaN(obj)?slider.slides.index($(obj)):obj;slider.count-=1;slider.last=slider.count-1;if(isNaN(obj)){$(obj,slider.slides).remove()}else{vertical&&reverse?slider.slides.eq(slider.last).remove():slider.slides.eq(obj).remove()}slider.doMath();slider.update(pos,"remove");slider.slides=$(slider.vars.selector+":not(.clone)",slider);slider.setup();slider.vars.removed(slider)};methods.init()};$(window).blur(function(e){focused=false}).focus(function(e){focused=true});$.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:false,animationLoop:true,smoothHeight:false,startAt:0,slideshow:true,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:false,fadeFirstSlide:true,thumbCaptions:false,pauseOnAction:true,pauseOnHover:false,pauseInvisible:true,useCSS:true,touch:true,video:false,controlNav:true,directionNav:true,prevText:"Previous",nextText:"Next",keyboard:true,multipleKeyboard:false,mousewheel:false,pausePlay:false,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:true,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}};$.fn.flexslider=function(options){if(options===undefined){options={}}if(typeof options==="object"){return this.each(function(){var $this=$(this),selector=options.selector?options.selector:".slides > li",$slides=$this.find(selector);if($slides.length===1&&options.allowOneSlide===true||$slides.length===0){$slides.fadeIn(400);if(options.start){options.start($this)}}else if($this.data("flexslider")===undefined){new $.flexslider(this,options)}})}else{var $slider=$(this).data("flexslider");switch(options){case"play":$slider.play();break;case"pause":$slider.pause();break;case"stop":$slider.stop();break;case"next":$slider.flexAnimate($slider.getTarget("next"),true);break;case"prev":case"previous":$slider.flexAnimate($slider.getTarget("prev"),true);break;default:if(typeof options==="number"){$slider.flexAnimate(options,true)}}}}})(jQuery);if(typeof Object.create!=="function"){Object.create=function(obj){function F(){}F.prototype=obj;return new F}}(function($,window,document){var Carousel={init:function(options,el){var base=this;base.$elem=$(el);base.options=$.extend({},$.fn.owlCarousel.options,base.$elem.data(),options);base.userOptions=options;base.loadContent()},loadContent:function(){var base=this,url;function getData(data){var i,content="";if(typeof base.options.jsonSuccess==="function"){base.options.jsonSuccess.apply(this,[data])}else{for(i in data.owl){if(data.owl.hasOwnProperty(i)){content+=data.owl[i].item}}base.$elem.html(content)}base.logIn()}if(typeof base.options.beforeInit==="function"){base.options.beforeInit.apply(this,[base.$elem])}if(typeof base.options.jsonPath==="string"){url=base.options.jsonPath;$.getJSON(url,getData)}else{base.logIn()}},logIn:function(){var base=this;base.$elem.data("owl-originalStyles",base.$elem.attr("style"));base.$elem.data("owl-originalClasses",base.$elem.attr("class"));base.$elem.css({opacity:0});base.orignalItems=base.options.items;base.checkBrowser();base.wrapperWidth=0;base.checkVisible=null;base.setVars()},setVars:function(){var base=this;if(base.$elem.children().length===0){return false}base.baseClass();base.eventTypes();base.$userItems=base.$elem.children();base.itemsAmount=base.$userItems.length;base.wrapItems();base.$owlItems=base.$elem.find(".owl-item");base.$owlWrapper=base.$elem.find(".owl-wrapper");base.playDirection="next";base.prevItem=0;base.prevArr=[0];base.currentItem=0;base.customEvents();base.onStartup()},onStartup:function(){var base=this;base.updateItems();base.calculateAll();base.buildControls();base.updateControls();base.response();base.moveEvents();base.stopOnHover();base.owlStatus();if(base.options.transitionStyle!==false){base.transitionTypes(base.options.transitionStyle)}if(base.options.autoPlay===true){base.options.autoPlay=5e3}base.play();base.$elem.find(".owl-wrapper").css("display","block");if(!base.$elem.is(":visible")){base.watchVisibility()}else{base.$elem.css("opacity",1)}base.onstartup=false;base.eachMoveUpdate();if(typeof base.options.afterInit==="function"){base.options.afterInit.apply(this,[base.$elem])}},eachMoveUpdate:function(){var base=this;if(base.options.lazyLoad===true){base.lazyLoad()}if(base.options.autoHeight===true){base.autoHeight()}base.onVisibleItems();if(typeof base.options.afterAction==="function"){base.options.afterAction.apply(this,[base.$elem])}},updateVars:function(){var base=this;if(typeof base.options.beforeUpdate==="function"){base.options.beforeUpdate.apply(this,[base.$elem])}base.watchVisibility();base.updateItems();base.calculateAll();base.updatePosition();base.updateControls();base.eachMoveUpdate();if(typeof base.options.afterUpdate==="function"){base.options.afterUpdate.apply(this,[base.$elem])}},reload:function(){var base=this;window.setTimeout(function(){base.updateVars()},0)},watchVisibility:function(){var base=this;if(base.$elem.is(":visible")===false){base.$elem.css({opacity:0});window.clearInterval(base.autoPlayInterval);window.clearInterval(base.checkVisible)}else{return false}base.checkVisible=window.setInterval(function(){if(base.$elem.is(":visible")){base.reload();base.$elem.animate({opacity:1},200);window.clearInterval(base.checkVisible)}},500)},wrapItems:function(){var base=this;base.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');base.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');base.wrapperOuter=base.$elem.find(".owl-wrapper-outer");base.$elem.css("display","block")},baseClass:function(){var base=this,hasBaseClass=base.$elem.hasClass(base.options.baseClass),hasThemeClass=base.$elem.hasClass(base.options.theme);if(!hasBaseClass){base.$elem.addClass(base.options.baseClass)}if(!hasThemeClass){base.$elem.addClass(base.options.theme)}},updateItems:function(){var base=this,width,i;if(base.options.responsive===false){return false}if(base.options.singleItem===true){base.options.items=base.orignalItems=1;base.options.itemsCustom=false;base.options.itemsDesktop=false;base.options.itemsDesktopSmall=false;base.options.itemsTablet=false;base.options.itemsTabletSmall=false;base.options.itemsMobile=false;return false}width=$(base.options.responsiveBaseWidth).width();if(width>(base.options.itemsDesktop[0]||base.orignalItems)){base.options.items=base.orignalItems}if(base.options.itemsCustom!==false){base.options.itemsCustom.sort(function(a,b){return a[0]-b[0]});for(i=0;i<base.options.itemsCustom.length;i+=1){if(base.options.itemsCustom[i][0]<=width){base.options.items=base.options.itemsCustom[i][1]}}}else{if(width<=base.options.itemsDesktop[0]&&base.options.itemsDesktop!==false){base.options.items=base.options.itemsDesktop[1]}if(width<=base.options.itemsDesktopSmall[0]&&base.options.itemsDesktopSmall!==false){base.options.items=base.options.itemsDesktopSmall[1]}if(width<=base.options.itemsTablet[0]&&base.options.itemsTablet!==false){base.options.items=base.options.itemsTablet[1]}if(width<=base.options.itemsTabletSmall[0]&&base.options.itemsTabletSmall!==false){base.options.items=base.options.itemsTabletSmall[1]}if(width<=base.options.itemsMobile[0]&&base.options.itemsMobile!==false){base.options.items=base.options.itemsMobile[1]}}if(base.options.items>base.itemsAmount&&base.options.itemsScaleUp===true){base.options.items=base.itemsAmount}},response:function(){var base=this,smallDelay,lastWindowWidth;if(base.options.responsive!==true){return false}lastWindowWidth=$(window).width();base.resizer=function(){if($(window).width()!==lastWindowWidth){if(base.options.autoPlay!==false){window.clearInterval(base.autoPlayInterval)}window.clearTimeout(smallDelay);smallDelay=window.setTimeout(function(){lastWindowWidth=$(window).width();base.updateVars()},base.options.responsiveRefreshRate)}};$(window).resize(base.resizer)},updatePosition:function(){var base=this;base.jumpTo(base.currentItem);if(base.options.autoPlay!==false){base.checkAp()}},appendItemsSizes:function(){var base=this,roundPages=0,lastItem=base.itemsAmount-base.options.items;base.$owlItems.each(function(index){var $this=$(this);$this.css({width:base.itemWidth}).data("owl-item",Number(index));if(index%base.options.items===0||index===lastItem){if(!(index>lastItem)){roundPages+=1}}$this.data("owl-roundPages",roundPages)})},appendWrapperSizes:function(){var base=this,width=base.$owlItems.length*base.itemWidth;base.$owlWrapper.css({width:width*2,left:0});base.appendItemsSizes()},calculateAll:function(){var base=this;base.calculateWidth();base.appendWrapperSizes();base.loops();base.max()},calculateWidth:function(){var base=this;base.itemWidth=Math.round(base.$elem.width()/base.options.items)},max:function(){var base=this,maximum=(base.itemsAmount*base.itemWidth-base.options.items*base.itemWidth)*-1;if(base.options.items>base.itemsAmount){base.maximumItem=0;maximum=0;base.maximumPixels=0}else{base.maximumItem=base.itemsAmount-base.options.items;base.maximumPixels=maximum}return maximum},min:function(){return 0},loops:function(){var base=this,prev=0,elWidth=0,i,item,roundPageNum;base.positionsInArray=[0];base.pagesInArray=[];for(i=0;i<base.itemsAmount;i+=1){elWidth+=base.itemWidth;base.positionsInArray.push(-elWidth);if(base.options.scrollPerPage===true){item=$(base.$owlItems[i]);roundPageNum=item.data("owl-roundPages");if(roundPageNum!==prev){base.pagesInArray[prev]=base.positionsInArray[i];prev=roundPageNum}}}},buildControls:function(){var base=this;if(base.options.navigation===true||base.options.pagination===true){base.owlControls=$('<div class="owl-controls"/>').toggleClass("clickable",!base.browser.isTouch).appendTo(base.$elem)}if(base.options.pagination===true){base.buildPagination()}if(base.options.navigation===true){base.buildButtons()}},buildButtons:function(){var base=this,buttonsWrapper=$('<div class="owl-buttons"/>');base.owlControls.append(buttonsWrapper);base.buttonPrev=$("<div/>",{class:"owl-prev",html:base.options.navigationText[0]||""});base.buttonNext=$("<div/>",{class:"owl-next",html:base.options.navigationText[1]||""});buttonsWrapper.append(base.buttonPrev).append(base.buttonNext);buttonsWrapper.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(event){event.preventDefault()});buttonsWrapper.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(event){event.preventDefault();if($(this).hasClass("owl-next")){base.next()}else{base.prev()}})},buildPagination:function(){var base=this;base.paginationWrapper=$('<div class="owl-pagination"/>');base.owlControls.append(base.paginationWrapper);base.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(event){event.preventDefault();if(Number($(this).data("owl-page"))!==base.currentItem){base.goTo(Number($(this).data("owl-page")),true)}})},updatePagination:function(){var base=this,counter,lastPage,lastItem,i,paginationButton,paginationButtonInner;if(base.options.pagination===false){return false}base.paginationWrapper.html("");counter=0;lastPage=base.itemsAmount-base.itemsAmount%base.options.items;for(i=0;i<base.itemsAmount;i+=1){if(i%base.options.items===0){counter+=1;if(lastPage===i){lastItem=base.itemsAmount-base.options.items}paginationButton=$("<div/>",{class:"owl-page"});paginationButtonInner=$("<span></span>",{text:base.options.paginationNumbers===true?counter:"",class:base.options.paginationNumbers===true?"owl-numbers":""});paginationButton.append(paginationButtonInner);paginationButton.data("owl-page",lastPage===i?lastItem:i);paginationButton.data("owl-roundPages",counter);base.paginationWrapper.append(paginationButton)}}base.checkPagination()},checkPagination:function(){var base=this;if(base.options.pagination===false){return false}base.paginationWrapper.find(".owl-page").each(function(){if($(this).data("owl-roundPages")===$(base.$owlItems[base.currentItem]).data("owl-roundPages")){base.paginationWrapper.find(".owl-page").removeClass("active");$(this).addClass("active")}})},checkNavigation:function(){var base=this;if(base.options.navigation===false){return false}if(base.options.rewindNav===false){if(base.currentItem===0&&base.maximumItem===0){base.buttonPrev.addClass("disabled");base.buttonNext.addClass("disabled")}else if(base.currentItem===0&&base.maximumItem!==0){base.buttonPrev.addClass("disabled");base.buttonNext.removeClass("disabled")}else if(base.currentItem===base.maximumItem){base.buttonPrev.removeClass("disabled");base.buttonNext.addClass("disabled")}else if(base.currentItem!==0&&base.currentItem!==base.maximumItem){base.buttonPrev.removeClass("disabled");base.buttonNext.removeClass("disabled")}}},updateControls:function(){var base=this;base.updatePagination();base.checkNavigation();if(base.owlControls){if(base.options.items>=base.itemsAmount){base.owlControls.hide()}else{base.owlControls.show()}}},destroyControls:function(){var base=this;if(base.owlControls){base.owlControls.remove()}},next:function(speed){var base=this;if(base.isTransition){return false}base.currentItem+=base.options.scrollPerPage===true?base.options.items:1;if(base.currentItem>base.maximumItem+(base.options.scrollPerPage===true?base.options.items-1:0)){if(base.options.rewindNav===true){base.currentItem=0;speed="rewind"}else{base.currentItem=base.maximumItem;return false}}base.goTo(base.currentItem,speed)},prev:function(speed){var base=this;if(base.isTransition){return false}if(base.options.scrollPerPage===true&&base.currentItem>0&&base.currentItem<base.options.items){base.currentItem=0}else{base.currentItem-=base.options.scrollPerPage===true?base.options.items:1}if(base.currentItem<0){if(base.options.rewindNav===true){base.currentItem=base.maximumItem;speed="rewind"}else{base.currentItem=0;return false}}base.goTo(base.currentItem,speed)},goTo:function(position,speed,drag){var base=this,goToPixel;if(base.isTransition){return false}if(typeof base.options.beforeMove==="function"){base.options.beforeMove.apply(this,[base.$elem])}if(position>=base.maximumItem){position=base.maximumItem}else if(position<=0){position=0}base.currentItem=base.owl.currentItem=position;if(base.options.transitionStyle!==false&&drag!=="drag"&&base.options.items===1&&base.browser.support3d===true){base.swapSpeed(0);if(base.browser.support3d===true){base.transition3d(base.positionsInArray[position])}else{base.css2slide(base.positionsInArray[position],1)}base.afterGo();base.singleItemTransition();return false}goToPixel=base.positionsInArray[position];if(base.browser.support3d===true){base.isCss3Finish=false;if(speed===true){base.swapSpeed("paginationSpeed");window.setTimeout(function(){base.isCss3Finish=true},base.options.paginationSpeed)}else if(speed==="rewind"){base.swapSpeed(base.options.rewindSpeed);window.setTimeout(function(){base.isCss3Finish=true},base.options.rewindSpeed)}else{base.swapSpeed("slideSpeed");window.setTimeout(function(){base.isCss3Finish=true},base.options.slideSpeed)}base.transition3d(goToPixel)}else{if(speed===true){base.css2slide(goToPixel,base.options.paginationSpeed)}else if(speed==="rewind"){base.css2slide(goToPixel,base.options.rewindSpeed)}else{base.css2slide(goToPixel,base.options.slideSpeed)}}base.afterGo()},jumpTo:function(position){var base=this;if(typeof base.options.beforeMove==="function"){base.options.beforeMove.apply(this,[base.$elem])}if(position>=base.maximumItem||position===-1){position=base.maximumItem}else if(position<=0){position=0}base.swapSpeed(0);if(base.browser.support3d===true){base.transition3d(base.positionsInArray[position])}else{base.css2slide(base.positionsInArray[position],1)}base.currentItem=base.owl.currentItem=position;base.afterGo()},afterGo:function(){var base=this;base.prevArr.push(base.currentItem);base.prevItem=base.owl.prevItem=base.prevArr[base.prevArr.length-2];base.prevArr.shift(0);if(base.prevItem!==base.currentItem){base.checkPagination();base.checkNavigation();base.eachMoveUpdate();if(base.options.autoPlay!==false){base.checkAp()}}if(typeof base.options.afterMove==="function"&&base.prevItem!==base.currentItem){base.options.afterMove.apply(this,[base.$elem])}},stop:function(){var base=this;base.apStatus="stop";window.clearInterval(base.autoPlayInterval)},checkAp:function(){var base=this;if(base.apStatus!=="stop"){base.play()}},play:function(){var base=this;base.apStatus="play";if(base.options.autoPlay===false){return false}window.clearInterval(base.autoPlayInterval);base.autoPlayInterval=window.setInterval(function(){base.next(true)},base.options.autoPlay)},swapSpeed:function(action){var base=this;if(action==="slideSpeed"){base.$owlWrapper.css(base.addCssSpeed(base.options.slideSpeed))}else if(action==="paginationSpeed"){base.$owlWrapper.css(base.addCssSpeed(base.options.paginationSpeed))}else if(typeof action!=="string"){base.$owlWrapper.css(base.addCssSpeed(action))}},addCssSpeed:function(speed){return{"-webkit-transition":"all "+speed+"ms ease","-moz-transition":"all "+speed+"ms ease","-o-transition":"all "+speed+"ms ease",transition:"all "+speed+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(pixels){return{"-webkit-transform":"translate3d("+pixels+"px, 0px, 0px)","-moz-transform":"translate3d("+pixels+"px, 0px, 0px)","-o-transform":"translate3d("+pixels+"px, 0px, 0px)","-ms-transform":"translate3d("+pixels+"px, 0px, 0px)",transform:"translate3d("+pixels+"px, 0px,0px)"}},transition3d:function(value){var base=this;base.$owlWrapper.css(base.doTranslate(value))},css2move:function(value){var base=this;base.$owlWrapper.css({left:value})},css2slide:function(value,speed){var base=this;base.isCssFinish=false;base.$owlWrapper.stop(true,true).animate({left:value},{duration:speed||base.options.slideSpeed,complete:function(){base.isCssFinish=true}})},checkBrowser:function(){var base=this,translate3D="translate3d(0px, 0px, 0px)",tempElem=document.createElement("div"),regex,asSupport,support3d,isTouch;tempElem.style.cssText="  -moz-transform:"+translate3D+"; -ms-transform:"+translate3D+"; -o-transform:"+translate3D+"; -webkit-transform:"+translate3D+"; transform:"+translate3D;regex=/translate3d\(0px, 0px, 0px\)/g;asSupport=tempElem.style.cssText.match(regex);support3d=asSupport!==null&&asSupport.length===1;isTouch="ontouchstart"in window||window.navigator.msMaxTouchPoints;base.browser={support3d:support3d,isTouch:isTouch}},moveEvents:function(){var base=this;if(base.options.mouseDrag!==false||base.options.touchDrag!==false){base.gestures();base.disabledEvents()}},eventTypes:function(){var base=this,types=["s","e","x"];base.ev_types={};if(base.options.mouseDrag===true&&base.options.touchDrag===true){types=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]}else if(base.options.mouseDrag===false&&base.options.touchDrag===true){types=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]}else if(base.options.mouseDrag===true&&base.options.touchDrag===false){types=["mousedown.owl","mousemove.owl","mouseup.owl"]}base.ev_types.start=types[0];base.ev_types.move=types[1];base.ev_types.end=types[2]},disabledEvents:function(){var base=this;base.$elem.on("dragstart.owl",function(event){event.preventDefault()});base.$elem.on("mousedown.disableTextSelect",function(e){return $(e.target).is("input, textarea, select, option")})},gestures:function(){var base=this,locals={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};base.isCssFinish=true;function getTouches(event){if(event.touches!==undefined){return{x:event.touches[0].pageX,y:event.touches[0].pageY}}if(event.touches===undefined){if(event.pageX!==undefined){return{x:event.pageX,y:event.pageY}}if(event.pageX===undefined){return{x:event.clientX,y:event.clientY}}}}function swapEvents(type){if(type==="on"){$(document).on(base.ev_types.move,dragMove);$(document).on(base.ev_types.end,dragEnd)}else if(type==="off"){$(document).off(base.ev_types.move);$(document).off(base.ev_types.end)}}function dragStart(event){var ev=event.originalEvent||event||window.event,position;if(ev.which===3){return false}if(base.itemsAmount<=base.options.items){return}if(base.isCssFinish===false&&!base.options.dragBeforeAnimFinish){return false}if(base.isCss3Finish===false&&!base.options.dragBeforeAnimFinish){return false}if(base.options.autoPlay!==false){window.clearInterval(base.autoPlayInterval)}if(base.browser.isTouch!==true&&!base.$owlWrapper.hasClass("grabbing")){base.$owlWrapper.addClass("grabbing")}base.newPosX=0;base.newRelativeX=0;$(this).css(base.removeTransition());position=$(this).position();locals.relativePos=position.left;locals.offsetX=getTouches(ev).x-position.left;locals.offsetY=getTouches(ev).y-position.top;swapEvents("on");locals.sliding=false;locals.targetElement=ev.target||ev.srcElement}function dragMove(event){var ev=event.originalEvent||event||window.event,minSwipe,maxSwipe;base.newPosX=getTouches(ev).x-locals.offsetX;base.newPosY=getTouches(ev).y-locals.offsetY;base.newRelativeX=base.newPosX-locals.relativePos;if(typeof base.options.startDragging==="function"&&locals.dragging!==true&&base.newRelativeX!==0){locals.dragging=true;base.options.startDragging.apply(base,[base.$elem])}if((base.newRelativeX>8||base.newRelativeX<-8)&&base.browser.isTouch===true){if(ev.preventDefault!==undefined){ev.preventDefault()}else{ev.returnValue=false}locals.sliding=true}if((base.newPosY>10||base.newPosY<-10)&&locals.sliding===false){$(document).off("touchmove.owl")}minSwipe=function(){return base.newRelativeX/5};maxSwipe=function(){return base.maximumPixels+base.newRelativeX/5};base.newPosX=Math.max(Math.min(base.newPosX,minSwipe()),maxSwipe());if(base.browser.support3d===true){base.transition3d(base.newPosX)}else{base.css2move(base.newPosX)}}function dragEnd(event){var ev=event.originalEvent||event||window.event,newPosition,handlers,owlStopEvent;ev.target=ev.target||ev.srcElement;locals.dragging=false;if(base.browser.isTouch!==true){base.$owlWrapper.removeClass("grabbing")}if(base.newRelativeX<0){base.dragDirection=base.owl.dragDirection="left"}else{base.dragDirection=base.owl.dragDirection="right"}if(base.newRelativeX!==0){newPosition=base.getNewPosition();base.goTo(newPosition,false,"drag");if(locals.targetElement===ev.target&&base.browser.isTouch!==true){$(ev.target).on("click.disable",function(ev){ev.stopImmediatePropagation();ev.stopPropagation();ev.preventDefault();$(ev.target).off("click.disable")});handlers=$._data(ev.target,"events").click;owlStopEvent=handlers.pop();handlers.splice(0,0,owlStopEvent)}}swapEvents("off")}base.$elem.on(base.ev_types.start,".owl-wrapper",dragStart)},getNewPosition:function(){var base=this,newPosition=base.closestItem();if(newPosition>base.maximumItem){base.currentItem=base.maximumItem;newPosition=base.maximumItem}else if(base.newPosX>=0){newPosition=0;base.currentItem=0}return newPosition},closestItem:function(){var base=this,array=base.options.scrollPerPage===true?base.pagesInArray:base.positionsInArray,goal=base.newPosX,closest=null;$.each(array,function(i,v){if(goal-base.itemWidth/20>array[i+1]&&goal-base.itemWidth/20<v&&base.moveDirection()==="left"){closest=v;if(base.options.scrollPerPage===true){base.currentItem=$.inArray(closest,base.positionsInArray)}else{base.currentItem=i}}else if(goal+base.itemWidth/20<v&&goal+base.itemWidth/20>(array[i+1]||array[i]-base.itemWidth)&&base.moveDirection()==="right"){if(base.options.scrollPerPage===true){closest=array[i+1]||array[array.length-1];base.currentItem=$.inArray(closest,base.positionsInArray)}else{closest=array[i+1];base.currentItem=i+1}}});return base.currentItem},moveDirection:function(){var base=this,direction;if(base.newRelativeX<0){direction="right";base.playDirection="next"}else{direction="left";base.playDirection="prev"}return direction},customEvents:function(){var base=this;base.$elem.on("owl.next",function(){base.next()});base.$elem.on("owl.prev",function(){base.prev()});base.$elem.on("owl.play",function(event,speed){base.options.autoPlay=speed;base.play();base.hoverStatus="play"});base.$elem.on("owl.stop",function(){base.stop();base.hoverStatus="stop"});base.$elem.on("owl.goTo",function(event,item){base.goTo(item)});base.$elem.on("owl.jumpTo",function(event,item){base.jumpTo(item)})},stopOnHover:function(){var base=this;if(base.options.stopOnHover===true&&base.browser.isTouch!==true&&base.options.autoPlay!==false){base.$elem.on("mouseover",function(){base.stop()});base.$elem.on("mouseout",function(){if(base.hoverStatus!=="stop"){base.play()}})}},lazyLoad:function(){var base=this,i,$item,itemNumber,$lazyImg,follow;if(base.options.lazyLoad===false){return false}for(i=0;i<base.itemsAmount;i+=1){$item=$(base.$owlItems[i]);if($item.data("owl-loaded")==="loaded"){continue}itemNumber=$item.data("owl-item");$lazyImg=$item.find(".lazyOwl");if(typeof $lazyImg.data("src")!=="string"){$item.data("owl-loaded","loaded");continue}if($item.data("owl-loaded")===undefined){$lazyImg.hide();$item.addClass("loading").data("owl-loaded","checked")}if(base.options.lazyFollow===true){follow=itemNumber>=base.currentItem}else{follow=true}if(follow&&itemNumber<base.currentItem+base.options.items&&$lazyImg.length){base.lazyPreload($item,$lazyImg)}}},lazyPreload:function($item,$lazyImg){var base=this,iterations=0,isBackgroundImg;if($lazyImg.prop("tagName")==="DIV"){$lazyImg.css("background-image","url("+$lazyImg.data("src")+")");isBackgroundImg=true}else{$lazyImg[0].src=$lazyImg.data("src")}function showImage(){$item.data("owl-loaded","loaded").removeClass("loading");$lazyImg.removeAttr("data-src");if(base.options.lazyEffect==="fade"){$lazyImg.fadeIn(400)}else{$lazyImg.show()}if(typeof base.options.afterLazyLoad==="function"){base.options.afterLazyLoad.apply(this,[base.$elem])}}function checkLazyImage(){iterations+=1;if(base.completeImg($lazyImg.get(0))||isBackgroundImg===true){showImage()}else if(iterations<=100){window.setTimeout(checkLazyImage,100)}else{showImage()}}checkLazyImage()},autoHeight:function(){var base=this,$currentimg=$(base.$owlItems[base.currentItem]).find("img"),iterations;function addHeight(){var $currentItem=$(base.$owlItems[base.currentItem]).height();base.wrapperOuter.css("height",$currentItem+"px");if(!base.wrapperOuter.hasClass("autoHeight")){window.setTimeout(function(){base.wrapperOuter.addClass("autoHeight")},0)}}function checkImage(){iterations+=1;if(base.completeImg($currentimg.get(0))){addHeight()}else if(iterations<=100){window.setTimeout(checkImage,100)}else{base.wrapperOuter.css("height","")}}if($currentimg.get(0)!==undefined){iterations=0;checkImage()}else{addHeight()}},completeImg:function(img){var naturalWidthType;if(!img.complete){return false}naturalWidthType=typeof img.naturalWidth;if(naturalWidthType!=="undefined"&&img.naturalWidth===0){return false}return true},onVisibleItems:function(){var base=this,i;if(base.options.addClassActive===true){base.$owlItems.removeClass("active")}base.visibleItems=[];for(i=base.currentItem;i<base.currentItem+base.options.items;i+=1){base.visibleItems.push(i);if(base.options.addClassActive===true){$(base.$owlItems[i]).addClass("active")}}base.owl.visibleItems=base.visibleItems},transitionTypes:function(className){var base=this;base.outClass="owl-"+className+"-out";base.inClass="owl-"+className+"-in"},singleItemTransition:function(){var base=this,outClass=base.outClass,inClass=base.inClass,$currentItem=base.$owlItems.eq(base.currentItem),$prevItem=base.$owlItems.eq(base.prevItem),prevPos=Math.abs(base.positionsInArray[base.currentItem])+base.positionsInArray[base.prevItem],origin=Math.abs(base.positionsInArray[base.currentItem])+base.itemWidth/2,animEnd="webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend";base.isTransition=true;base.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":origin+"px","-moz-perspective-origin":origin+"px","perspective-origin":origin+"px"});function transStyles(prevPos){return{position:"relative",left:prevPos+"px"}}$prevItem.css(transStyles(prevPos,10)).addClass(outClass).on(animEnd,function(){base.endPrev=true;$prevItem.off(animEnd);base.clearTransStyle($prevItem,outClass)});$currentItem.addClass(inClass).on(animEnd,function(){base.endCurrent=true;$currentItem.off(animEnd);base.clearTransStyle($currentItem,inClass)})},clearTransStyle:function(item,classToRemove){var base=this;item.css({position:"",left:""}).removeClass(classToRemove);if(base.endPrev&&base.endCurrent){base.$owlWrapper.removeClass("owl-origin");base.endPrev=false;base.endCurrent=false;base.isTransition=false}},owlStatus:function(){var base=this;base.owl={userOptions:base.userOptions,baseElement:base.$elem,userItems:base.$userItems,owlItems:base.$owlItems,currentItem:base.currentItem,prevItem:base.prevItem,visibleItems:base.visibleItems,isTouch:base.browser.isTouch,browser:base.browser,dragDirection:base.dragDirection}},clearEvents:function(){var base=this;base.$elem.off(".owl owl mousedown.disableTextSelect");$(document).off(".owl owl");$(window).off("resize",base.resizer)},unWrap:function(){var base=this;if(base.$elem.children().length!==0){base.$owlWrapper.unwrap();base.$userItems.unwrap().unwrap();if(base.owlControls){base.owlControls.remove()}}base.clearEvents();base.$elem.attr("style",base.$elem.data("owl-originalStyles")||"").attr("class",base.$elem.data("owl-originalClasses"))},destroy:function(){var base=this;base.stop();window.clearInterval(base.checkVisible);base.unWrap();base.$elem.removeData()},reinit:function(newOptions){var base=this,options=$.extend({},base.userOptions,newOptions);base.unWrap();base.init(options,base.$elem)},addItem:function(htmlString,targetPosition){var base=this,position;if(!htmlString){return false}if(base.$elem.children().length===0){base.$elem.append(htmlString);base.setVars();return false}base.unWrap();if(targetPosition===undefined||targetPosition===-1){position=-1}else{position=targetPosition}if(position>=base.$userItems.length||position===-1){base.$userItems.eq(-1).after(htmlString)}else{base.$userItems.eq(position).before(htmlString)}base.setVars()},removeItem:function(targetPosition){var base=this,position;if(base.$elem.children().length===0){return false}if(targetPosition===undefined||targetPosition===-1){position=-1}else{position=targetPosition}base.unWrap();base.$userItems.eq(position).remove();base.setVars()}};$.fn.owlCarousel=function(options){return this.each(function(){if($(this).data("owl-init")===true){return false}$(this).data("owl-init",true);var carousel=Object.create(Carousel);carousel.init(options,this);$.data(this,"owlCarousel",carousel)})};$.fn.owlCarousel.options={items:5,itemsCustom:false,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:false,itemsMobile:[479,1],singleItem:false,itemsScaleUp:false,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:false,stopOnHover:false,navigation:false,navigationText:["prev","next"],rewindNav:true,scrollPerPage:false,pagination:true,paginationNumbers:false,responsive:true,responsiveRefreshRate:200,responsiveBaseWidth:window,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:false,lazyFollow:true,lazyEffect:"fade",autoHeight:false,jsonPath:false,jsonSuccess:false,dragBeforeAnimFinish:true,mouseDrag:true,touchDrag:true,addClassActive:false,transitionStyle:false,beforeUpdate:false,afterUpdate:false,beforeInit:false,afterInit:false,beforeMove:false,afterMove:false,afterAction:false,startDragging:false,afterLazyLoad:false}})(jQuery,window,document);(function(){var Util,WeakMap,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};Util=function(){function Util(){}Util.prototype.extend=function(custom,defaults){var key,value;for(key in custom){value=custom[key];if(value!=null){defaults[key]=value}}return defaults};Util.prototype.isMobile=function(agent){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(agent)};return Util}();WeakMap=this.WeakMap||(WeakMap=function(){function WeakMap(){this.keys=[];this.values=[]}WeakMap.prototype.get=function(key){var i,item,_i,_len,_ref;_ref=this.keys;for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){item=_ref[i];if(item===key){return this.values[i]}}};WeakMap.prototype.set=function(key,value){var i,item,_i,_len,_ref;_ref=this.keys;for(i=_i=0,_len=_ref.length;_i<_len;i=++_i){item=_ref[i];if(item===key){this.values[i]=value;return}}this.keys.push(key);return this.values.push(value)};return WeakMap}());this.WOW=function(){WOW.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:true};function WOW(options){if(options==null){options={}}this.scrollCallback=__bind(this.scrollCallback,this);this.scrollHandler=__bind(this.scrollHandler,this);this.start=__bind(this.start,this);this.scrolled=true;this.config=this.util().extend(options,this.defaults);this.animationNameCache=new WeakMap}WOW.prototype.init=function(){var _ref;this.element=window.document.documentElement;if((_ref=document.readyState)==="interactive"||_ref==="complete"){return this.start()}else{return document.addEventListener("DOMContentLoaded",this.start)}};WOW.prototype.start=function(){var box,_i,_len,_ref;this.boxes=this.element.getElementsByClassName(this.config.boxClass);if(this.boxes.length){if(this.disabled()){return this.resetStyle()}else{_ref=this.boxes;for(_i=0,_len=_ref.length;_i<_len;_i++){box=_ref[_i];this.applyStyle(box,true)}window.addEventListener("scroll",this.scrollHandler,false);window.addEventListener("resize",this.scrollHandler,false);return this.interval=setInterval(this.scrollCallback,50)}}};WOW.prototype.stop=function(){window.removeEventListener("scroll",this.scrollHandler,false);window.removeEventListener("resize",this.scrollHandler,false);if(this.interval!=null){return clearInterval(this.interval)}};WOW.prototype.show=function(box){this.applyStyle(box);return box.className=""+box.className+" "+this.config.animateClass};WOW.prototype.applyStyle=function(box,hidden){var delay,duration,iteration;duration=box.getAttribute("data-wow-duration");delay=box.getAttribute("data-wow-delay");iteration=box.getAttribute("data-wow-iteration");return this.animate(function(_this){return function(){return _this.customStyle(box,hidden,duration,delay,iteration)}}(this))};WOW.prototype.animate=function(){if("requestAnimationFrame"in window){return function(callback){return window.requestAnimationFrame(callback)}}else{return function(callback){return callback()}}}();WOW.prototype.resetStyle=function(){var box,_i,_len,_ref,_results;_ref=this.boxes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){box=_ref[_i];_results.push(box.setAttribute("style","visibility: visible;"))}return _results};WOW.prototype.customStyle=function(box,hidden,duration,delay,iteration){if(hidden){this.cacheAnimationName(box)}box.style.visibility=hidden?"hidden":"visible";if(duration){this.vendorSet(box.style,{animationDuration:duration})}if(delay){this.vendorSet(box.style,{animationDelay:delay})}if(iteration){this.vendorSet(box.style,{animationIterationCount:iteration})}this.vendorSet(box.style,{animationName:hidden?"none":this.cachedAnimationName(box)});return box};WOW.prototype.vendors=["moz","webkit"];WOW.prototype.vendorSet=function(elem,properties){var name,value,vendor,_results;_results=[];for(name in properties){value=properties[name];elem[""+name]=value;_results.push(function(){var _i,_len,_ref,_results1;_ref=this.vendors;_results1=[];for(_i=0,_len=_ref.length;_i<_len;_i++){vendor=_ref[_i];_results1.push(elem[""+vendor+name.charAt(0).toUpperCase()+name.substr(1)]=value)}return _results1}.call(this))}return _results};WOW.prototype.vendorCSS=function(elem,property){var result,style,vendor,_i,_len,_ref;style=window.getComputedStyle(elem);result=style.getPropertyCSSValue(property);_ref=this.vendors;for(_i=0,_len=_ref.length;_i<_len;_i++){vendor=_ref[_i];result=result||style.getPropertyCSSValue("-"+vendor+"-"+property)}return result};WOW.prototype.animationName=function(box){var animationName;try{animationName=this.vendorCSS(box,"animation-name").cssText}catch(_error){animationName=window.getComputedStyle(box).getPropertyValue("animation-name")}if(animationName==="none"){return""}else{return animationName}};WOW.prototype.cacheAnimationName=function(box){return this.animationNameCache.set(box,this.animationName(box))};WOW.prototype.cachedAnimationName=function(box){return this.animationNameCache.get(box)};WOW.prototype.scrollHandler=function(){return this.scrolled=true};WOW.prototype.scrollCallback=function(){var box;if(this.scrolled){this.scrolled=false;this.boxes=function(){var _i,_len,_ref,_results;_ref=this.boxes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){box=_ref[_i];if(!box){continue}if(this.isVisible(box)){this.show(box);continue}_results.push(box)}return _results}.call(this);if(!this.boxes.length){return this.stop()}}};WOW.prototype.offsetTop=function(element){var top;while(element.offsetTop===void 0){element=element.parentNode}top=element.offsetTop;while(element=element.offsetParent){top+=element.offsetTop}return top};WOW.prototype.isVisible=function(box){var bottom,offset,top,viewBottom,viewTop;offset=box.getAttribute("data-wow-offset")||this.config.offset;viewTop=window.pageYOffset;viewBottom=viewTop+this.element.clientHeight-offset;top=this.offsetTop(box);bottom=top+box.clientHeight;return top<=viewBottom&&bottom>=viewTop};WOW.prototype.util=function(){return this._util||(this._util=new Util)};WOW.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)};return WOW}()}).call(this);(function(root,factory){if(typeof define==="function"&&define.amd){define([],factory)}else if(typeof exports==="object"){module.exports=factory()}else{factory()}})(this,function(){var domNode="";var maxTweets=20;var parseLinks=true;var queue=[];var inProgress=false;var printTime=true;var printUser=true;var formatterFunction=null;var supportsClassName=true;var showRts=true;var customCallbackFunction=null;var showInteractionLinks=true;var showImages=false;var targetBlank=true;var lang="en";var permalinks=true;var dataOnly=false;var script=null;var scriptAdded=false;function handleTweets(tweets){if(customCallbackFunction===null){var x=tweets.length;var n=0;var element=document.getElementById(domNode);var html="<ul>";while(n<x){html+="<li>"+tweets[n]+"</li>";n++}html+="</ul>";element.innerHTML=html}else{customCallbackFunction(tweets)}}function strip(data){return data.replace(/<b[^>]*>(.*?)<\/b>/gi,function(a,s){return s}).replace(/class="(?!(tco-hidden|tco-display|tco-ellipsis))+.*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function targetLinksToNewWindow(el){var links=el.getElementsByTagName("a");for(var i=links.length-1;i>=0;i--){links[i].setAttribute("target","_blank")}}function getElementsByClassName(node,classname){var a=[];var regex=new RegExp("(^| )"+classname+"( |$)");var elems=node.getElementsByTagName("*");for(var i=0,j=elems.length;i<j;i++){if(regex.test(elems[i].className)){a.push(elems[i])}}return a}function extractImageUrl(image_data){if(image_data!==undefined&&image_data.innerHTML.indexOf("data-srcset")>=0){var data_src=image_data.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(data_src).split('"')[1]}}var twitterFetcher={fetch:function(config){if(config.maxTweets===undefined){config.maxTweets=20}if(config.enableLinks===undefined){config.enableLinks=true}if(config.showUser===undefined){config.showUser=true}if(config.showTime===undefined){config.showTime=true}if(config.dateFunction===undefined){config.dateFunction="default"}if(config.showRetweet===undefined){config.showRetweet=true}if(config.customCallback===undefined){config.customCallback=null}if(config.showInteraction===undefined){config.showInteraction=true}if(config.showImages===undefined){config.showImages=false}if(config.linksInNewWindow===undefined){config.linksInNewWindow=true}if(config.showPermalinks===undefined){config.showPermalinks=true}if(config.dataOnly===undefined){config.dataOnly=false}if(inProgress){queue.push(config)}else{inProgress=true;domNode=config.domId;maxTweets=config.maxTweets;parseLinks=config.enableLinks;printUser=config.showUser;printTime=config.showTime;showRts=config.showRetweet;formatterFunction=config.dateFunction;customCallbackFunction=config.customCallback;showInteractionLinks=config.showInteraction;showImages=config.showImages;targetBlank=config.linksInNewWindow;permalinks=config.showPermalinks;dataOnly=config.dataOnly;var head=document.getElementsByTagName("head")[0];if(script!==null){head.removeChild(script)}script=document.createElement("script");script.type="text/javascript";script.src="https://cdn.syndication.twimg.com/widgets/timelines/"+config.id+"?&lang="+(config.lang||lang)+"&callback=twitterFetcher.callback&"+"suppress_response_codes=true&rnd="+Math.random();head.appendChild(script)}},callback:function(data){var div=document.createElement("div");div.innerHTML=data.body;if(typeof div.getElementsByClassName==="undefined"){supportsClassName=false}function swapDataSrc(element){var avatarImg=element.getElementsByTagName("img")[0];avatarImg.src=avatarImg.getAttribute("data-src-2x");return element}var tweets=[];var authors=[];var times=[];var images=[];var rts=[];var tids=[];var permalinksURL=[];var x=0;if(supportsClassName){var tmp=div.getElementsByClassName("timeline-Tweet");while(x<tmp.length){if(tmp[x].getElementsByClassName("timeline-Tweet-retweetCredit").length>0){rts.push(true)}else{rts.push(false)}if(!rts[x]||rts[x]&&showRts){tweets.push(tmp[x].getElementsByClassName("timeline-Tweet-text")[0]);tids.push(tmp[x].getAttribute("data-tweet-id"));authors.push(swapDataSrc(tmp[x].getElementsByClassName("timeline-Tweet-author")[0]));times.push(tmp[x].getElementsByClassName("dt-updated")[0]);permalinksURL.push(tmp[x].getElementsByClassName("timeline-Tweet-timestamp")[0]);if(tmp[x].getElementsByClassName("timeline-Tweet-media")[0]!==undefined){images.push(tmp[x].getElementsByClassName("timeline-Tweet-media")[0])}else{images.push(undefined)}}x++}}else{var tmp=getElementsByClassName(div,"timeline-Tweet");while(x<tmp.length){if(getElementsByClassName(tmp[x],"timeline-Tweet-retweetCredit").length>0){rts.push(true)}else{rts.push(false)}if(!rts[x]||rts[x]&&showRts){tweets.push(getElementsByClassName(tmp[x],"timeline-Tweet-text")[0]);tids.push(tmp[x].getAttribute("data-tweet-id"));authors.push(swapDataSrc(getElementsByClassName(tmp[x],"timeline-Tweet-author")[0]));times.push(getElementsByClassName(tmp[x],"dt-updated")[0]);permalinksURL.push(getElementsByClassName(tmp[x],"timeline-Tweet-timestamp")[0]);if(getElementsByClassName(tmp[x],"timeline-Tweet-media")[0]!==undefined){images.push(getElementsByClassName(tmp[x],"timeline-Tweet-media")[0])}else{images.push(undefined)}}x++}}if(tweets.length>maxTweets){tweets.splice(maxTweets,tweets.length-maxTweets);authors.splice(maxTweets,authors.length-maxTweets);times.splice(maxTweets,times.length-maxTweets);rts.splice(maxTweets,rts.length-maxTweets);images.splice(maxTweets,images.length-maxTweets);permalinksURL.splice(maxTweets,permalinksURL.length-maxTweets)}var arrayTweets=[];var x=tweets.length;var n=0;if(dataOnly){while(n<x){arrayTweets.push({tweet:tweets[n].innerHTML,author:authors[n].innerHTML,time:times[n].textContent,image:extractImageUrl(images[n]),rt:rts[n],tid:tids[n],permalinkURL:permalinksURL[n]===undefined?"":permalinksURL[n].href});n++}}else{while(n<x){if(typeof formatterFunction!=="string"){var datetimeText=times[n].getAttribute("datetime");var newDate=new Date(times[n].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]);var dateString=formatterFunction(newDate,datetimeText);times[n].setAttribute("aria-label",dateString);if(tweets[n].textContent){if(supportsClassName){times[n].textContent=dateString}else{var h=document.createElement("p");var t=document.createTextNode(dateString);h.appendChild(t);h.setAttribute("aria-label",dateString);times[n]=h}}else{times[n].textContent=dateString}}var op="";if(parseLinks){if(targetBlank){targetLinksToNewWindow(tweets[n]);if(printUser){targetLinksToNewWindow(authors[n])}}if(printUser){op+='<div class="user">'+strip(authors[n].innerHTML)+"</div>"}op+='<p class="tweet">'+strip(tweets[n].innerHTML)+"</p>";if(printTime){if(permalinks){op+='<p class="timePosted"><a href="'+permalinksURL[n]+'">'+times[n].getAttribute("aria-label")+"</a></p>"}else{op+='<p class="timePosted">'+times[n].getAttribute("aria-label")+"</p>"}}}else{if(tweets[n].textContent){if(printUser){op+='<p class="user">'+authors[n].textContent+"</p>"}op+='<p class="tweet">'+tweets[n].textContent+"</p>";if(printTime){op+='<p class="timePosted">'+times[n].textContent+"</p>"}}else{if(printUser){op+='<p class="user">'+authors[n].textContent+"</p>"}op+='<p class="tweet">'+tweets[n].textContent+"</p>";if(printTime){op+='<p class="timePosted">'+times[n].textContent+"</p>"}}}if(showInteractionLinks){op+='<p class="interact"><a href="https://twitter.com/intent/'+"tweet?in_reply_to="+tids[n]+'" class="twitter_reply_icon"'+(targetBlank?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?'+"tweet_id="+tids[n]+'" class="twitter_retweet_icon"'+(targetBlank?' target="_blank">':">")+"Retweet</a>"+'<a href="https://twitter.com/intent/favorite?tweet_id='+tids[n]+'" class="twitter_fav_icon"'+(targetBlank?' target="_blank">':">")+"Favorite</a></p>"}if(showImages&&images[n]!==undefined){op+='<div class="media">'+'<img src="'+extractImageUrl(images[n])+'" alt="Image from tweet" />'+"</div>"}arrayTweets.push(op);n++}}handleTweets(arrayTweets);inProgress=false;if(queue.length>0){twitterFetcher.fetch(queue[0]);queue.splice(0,1)}}};window.twitterFetcher=twitterFetcher;return twitterFetcher});var config8={id:"345170787868762112",dataOnly:true,customCallback:populateTpl};twitterFetcher.fetch(config8);function populateTpl(tweets){}(function(){var $,win;$=this.jQuery||window.jQuery;win=$(window);$.fn.stick_in_parent=function(opts){var doc,elm,enable_bottoming,fn,i,inner_scrolling,len,manual_spacer,offset_top,parent_selector,recalc_every,sticky_class;if(opts==null){opts={}}sticky_class=opts.sticky_class,inner_scrolling=opts.inner_scrolling,recalc_every=opts.recalc_every,parent_selector=opts.parent,offset_top=opts.offset_top,manual_spacer=opts.spacer,enable_bottoming=opts.bottoming;if(offset_top==null){offset_top=0}if(parent_selector==null){parent_selector=void 0}if(inner_scrolling==null){inner_scrolling=true}if(sticky_class==null){sticky_class="is_stuck"}doc=$(document);if(enable_bottoming==null){enable_bottoming=true}fn=function(elm,padding_bottom,parent_top,parent_height,top,height,el_float,detached){var bottomed,detach,fixed,last_pos,last_scroll_height,offset,parent,recalc,recalc_and_tick,recalc_counter,spacer,tick;if(elm.data("sticky_kit")){return}elm.data("sticky_kit",true);last_scroll_height=doc.height();parent=elm.parent();if(parent_selector!=null){parent=parent.closest(parent_selector)}if(!parent.length){throw"failed to find stick parent"}fixed=false;bottomed=false;spacer=manual_spacer!=null?manual_spacer&&elm.closest(manual_spacer):$("<div />");if(spacer){spacer.css("position",elm.css("position"))}recalc=function(){var border_top,padding_top,restore;if(detached){return}console.log("recalced!");last_scroll_height=doc.height();border_top=parseInt(parent.css("border-top-width"),10);padding_top=parseInt(parent.css("padding-top"),10);padding_bottom=parseInt(parent.css("padding-bottom"),10);parent_top=parent.offset().top+border_top+padding_top;parent_height=parent.height();if(fixed){fixed=false;bottomed=false;if(manual_spacer==null){elm.insertAfter(spacer);spacer.detach()}elm.css({position:"",top:"",width:"",bottom:""}).removeClass(sticky_class);restore=true}top=elm.offset().top-(parseInt(elm.css("margin-top"),10)||0)-offset_top;height=elm.outerHeight(true);el_float=elm.css("float");if(spacer){spacer.css({width:elm.outerWidth(true),height:height,display:elm.css("display"),"vertical-align":elm.css("vertical-align"),float:el_float})}if(restore){return tick()}};recalc();if(height===parent_height){return}last_pos=void 0;offset=offset_top;recalc_counter=recalc_every;console.log("recalc_every: ",recalc_every);console.log("recalc_counter: ",recalc_counter);tick=function(){var css,delta,recalced,scroll,will_bottom,win_height;if(detached){return}recalced=false;if(recalc_counter!=null){recalc_counter-=1;if(recalc_counter<=0){recalc_counter=recalc_every;recalc();recalced=true}}if(!recalced&&doc.height()!==last_scroll_height){recalc();recalced=true}scroll=win.scrollTop();if(last_pos!=null){delta=scroll-last_pos}last_pos=scroll;if(fixed){if(enable_bottoming){will_bottom=scroll+height+offset>parent_height+parent_top;if(bottomed&&!will_bottom){bottomed=false;elm.css({position:"fixed",bottom:"",top:offset}).trigger("sticky_kit:unbottom")}}if(scroll<top){fixed=false;offset=offset_top;if(manual_spacer==null){if(el_float==="left"||el_float==="right"){elm.insertAfter(spacer)}spacer.detach()}css={position:"",width:"",top:""};elm.css(css).removeClass(sticky_class).trigger("sticky_kit:unstick")}if(inner_scrolling){win_height=win.height();if(height+offset_top>win_height){if(!bottomed){offset-=delta;offset=Math.max(win_height-height,offset);offset=Math.min(offset_top,offset);if(fixed){elm.css({top:offset+"px"})}}}}}else{if(scroll>top){fixed=true;css={position:"fixed",top:offset};css.width=elm.css("box-sizing")==="border-box"?elm.outerWidth()+"px":elm.width()+"px";elm.css(css).addClass(sticky_class);if(manual_spacer==null){elm.after(spacer);if(el_float==="left"||el_float==="right"){spacer.append(elm)}}elm.trigger("sticky_kit:stick")}}if(fixed&&enable_bottoming){if(will_bottom==null){will_bottom=scroll+height+offset>parent_height+parent_top}if(!bottomed&&will_bottom){bottomed=true;if(parent.css("position")==="static"){parent.css({position:"relative"})}return elm.css({position:"absolute",bottom:padding_bottom,top:"auto"}).trigger("sticky_kit:bottom")}}};recalc_and_tick=function(){recalc();return tick()};detach=function(){detached=true;win.off("touchmove",tick);win.off("scroll",tick);win.off("resize",recalc_and_tick);$(document.body).off("sticky_kit:recalc",recalc_and_tick);elm.off("sticky_kit:detach",detach);elm.removeData("sticky_kit");elm.css({position:"",bottom:"",top:"",width:""});parent.position("position","");if(fixed){if(manual_spacer==null){if(el_float==="left"||el_float==="right"){elm.insertAfter(spacer)}spacer.remove()}return elm.removeClass(sticky_class)}};win.on("touchmove",tick);win.on("scroll",tick);win.on("resize",recalc_and_tick);$(document.body).on("sticky_kit:recalc",recalc_and_tick);elm.on("sticky_kit:detach",detach);return setTimeout(tick,0)};for(i=0,len=this.length;i<len;i++){elm=this[i];fn($(elm))}return this}}).call(this);if(typeof Object.create!=="function"){Object.create=function(obj){function F(){}F.prototype=obj;return new F}}(function($,window,document,undefined){"use strict";var SinglePageNav={init:function(options,container){this.options=$.extend({},$.fn.singlePageNav.defaults,options);this.container=container;this.$container=$(container);this.$links=this.$container.find("a");if(this.options.filter!==""){this.$links=this.$links.filter(this.options.filter)}this.$window=$(window);this.$htmlbody=$("html, body");this.$links.on("click.singlePageNav",$.proxy(this.handleClick,this));this.didScroll=false;this.checkPosition();this.setTimer()},handleClick:function(e){var self=this,link=e.currentTarget,$elem=$(link.hash);e.preventDefault();if($elem.length){self.clearTimer();if(typeof self.options.beforeStart==="function"){self.options.beforeStart()}self.setActiveLink(link.hash);self.scrollTo($elem,function(){if(self.options.updateHash&&history.pushState){history.pushState(null,null,link.hash)}self.setTimer();if(typeof self.options.onComplete==="function"){self.options.onComplete()}})}},scrollTo:function($elem,callback){var self=this;var target=self.getCoords($elem).top;var called=false;self.$htmlbody.stop().animate({scrollTop:target},{duration:self.options.speed,easing:self.options.easing,complete:function(){if(typeof callback==="function"&&!called){callback()}called=true}})},setTimer:function(){var self=this;self.$window.on("scroll.singlePageNav",function(){self.didScroll=true});self.timer=setInterval(function(){if(self.didScroll){self.didScroll=false;self.checkPosition()}},250)},clearTimer:function(){clearInterval(this.timer);this.$window.off("scroll.singlePageNav");this.didScroll=false},checkPosition:function(){var scrollPos=this.$window.scrollTop();var currentSection=this.getCurrentSection(scrollPos);if(currentSection!==null){this.setActiveLink(currentSection)}},getCoords:function($elem){return{top:Math.round($elem.offset().top)-this.options.offset}},setActiveLink:function(href){var $activeLink=this.$container.find("a[href$='"+href+"']");if(!$activeLink.hasClass(this.options.currentClass)){this.$links.removeClass(this.options.currentClass);$activeLink.addClass(this.options.currentClass)}},getCurrentSection:function(scrollPos){var i,hash,coords,section;for(i=0;i<this.$links.length;i++){hash=this.$links[i].hash;if($(hash).length){coords=this.getCoords($(hash));if(scrollPos>=coords.top-this.options.threshold){section=hash}}}return section||(this.$links.length===0?null:this.$links[0].hash)}};$.fn.singlePageNav=function(options){return this.each(function(){var singlePageNav=Object.create(SinglePageNav);singlePageNav.init(options,this)})};$.fn.singlePageNav.defaults={offset:0,threshold:120,speed:400,currentClass:"current",easing:"swing",updateHash:false,filter:"",onComplete:false,beforeStart:false}})(jQuery,window,document);(function(root,factory){if(typeof define==="function"&&define.amd){define(["jquery"],function(a0){return factory(a0)})}else if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(this,function($){var CanvasRenderer=function(el,options){var cachedBackground;var canvas=document.createElement("canvas");el.appendChild(canvas);if(typeof G_vmlCanvasManager==="object"){G_vmlCanvasManager.initElement(canvas)}var ctx=canvas.getContext("2d");canvas.width=canvas.height=options.size;var scaleBy=1;if(window.devicePixelRatio>1){scaleBy=window.devicePixelRatio;canvas.style.width=canvas.style.height=[options.size,"px"].join("");canvas.width=canvas.height=options.size*scaleBy;ctx.scale(scaleBy,scaleBy)}ctx.translate(options.size/2,options.size/2);ctx.rotate((-1/2+options.rotate/180)*Math.PI);var radius=(options.size-options.lineWidth)/2;if(options.scaleColor&&options.scaleLength){radius-=options.scaleLength+2}Date.now=Date.now||function(){return+new Date};var drawCircle=function(color,lineWidth,percent){percent=Math.min(Math.max(-1,percent||0),1);var isNegative=percent<=0?true:false;ctx.beginPath();ctx.arc(0,0,radius,0,Math.PI*2*percent,isNegative);ctx.strokeStyle=color;ctx.lineWidth=lineWidth;ctx.stroke()};var drawScale=function(){var offset;var length;ctx.lineWidth=1;ctx.fillStyle=options.scaleColor;ctx.save();for(var i=24;i>0;--i){if(i%6===0){length=options.scaleLength;offset=0}else{length=options.scaleLength*.6;offset=options.scaleLength-length}ctx.fillRect(-options.size/2+offset,0,length,1);ctx.rotate(Math.PI/12)}ctx.restore()};var reqAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}();var drawBackground=function(){if(options.scaleColor)drawScale();if(options.trackColor)drawCircle(options.trackColor,options.trackWidth||options.lineWidth,1)};this.getCanvas=function(){return canvas};this.getCtx=function(){return ctx};this.clear=function(){ctx.clearRect(options.size/-2,options.size/-2,options.size,options.size)};this.draw=function(percent){if(!!options.scaleColor||!!options.trackColor){if(ctx.getImageData&&ctx.putImageData){if(!cachedBackground){drawBackground();cachedBackground=ctx.getImageData(0,0,options.size*scaleBy,options.size*scaleBy)}else{ctx.putImageData(cachedBackground,0,0)}}else{this.clear();drawBackground()}}else{this.clear()}ctx.lineCap=options.lineCap;var color;if(typeof options.barColor==="function"){color=options.barColor(percent)}else{color=options.barColor}drawCircle(color,options.lineWidth,percent/100)}.bind(this);this.animate=function(from,to){var startTime=Date.now();options.onStart(from,to);var animation=function(){var process=Math.min(Date.now()-startTime,options.animate.duration);var currentValue=options.easing(this,process,from,to-from,options.animate.duration);this.draw(currentValue);options.onStep(from,to,currentValue);if(process>=options.animate.duration){options.onStop(from,to)}else{reqAnimationFrame(animation)}}.bind(this);reqAnimationFrame(animation)}.bind(this)};var EasyPieChart=function(el,opts){var defaultOptions={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:undefined,size:110,rotate:0,animate:{duration:1e3,enabled:true},easing:function(x,t,b,c,d){t=t/(d/2);if(t<1){return c/2*t*t+b}return-c/2*(--t*(t-2)-1)+b},onStart:function(from,to){return},onStep:function(from,to,currentValue){return},onStop:function(from,to){return}};if(typeof CanvasRenderer!=="undefined"){defaultOptions.renderer=CanvasRenderer}else if(typeof SVGRenderer!=="undefined"){defaultOptions.renderer=SVGRenderer}else{throw new Error("Please load either the SVG- or the CanvasRenderer")}var options={};var currentValue=0;var init=function(){this.el=el;this.options=options;for(var i in defaultOptions){if(defaultOptions.hasOwnProperty(i)){options[i]=opts&&typeof opts[i]!=="undefined"?opts[i]:defaultOptions[i];if(typeof options[i]==="function"){options[i]=options[i].bind(this)}}}if(typeof options.easing==="string"&&typeof jQuery!=="undefined"&&jQuery.isFunction(jQuery.easing[options.easing])){options.easing=jQuery.easing[options.easing]}else{options.easing=defaultOptions.easing}if(typeof options.animate==="number"){options.animate={duration:options.animate,enabled:true}}if(typeof options.animate==="boolean"&&!options.animate){options.animate={duration:1e3,enabled:options.animate}}this.renderer=new options.renderer(el,options);this.renderer.draw(currentValue);if(el.dataset&&el.dataset.percent){this.update(parseFloat(el.dataset.percent))}else if(el.getAttribute&&el.getAttribute("data-percent")){this.update(parseFloat(el.getAttribute("data-percent")))}}.bind(this);this.update=function(newValue){newValue=parseFloat(newValue);if(options.animate.enabled){this.renderer.animate(currentValue,newValue)}else{this.renderer.draw(newValue)}currentValue=newValue;return this}.bind(this);this.disableAnimation=function(){options.animate.enabled=false;return this};this.enableAnimation=function(){options.animate.enabled=true;return this};init()};$.fn.easyPieChart=function(options){return this.each(function(){var instanceOptions;if(!$.data(this,"easyPieChart")){instanceOptions=$.extend({},options,$(this).data());$.data(this,"easyPieChart",new EasyPieChart(this,instanceOptions))}})}});(function(window){"use strict";if(!Date.now){Date.now=function(){return(new Date).getTime()}}if(!window.requestAnimationFrame){(function(){var vendors=["webkit","moz"];for(var i=0;i<vendors.length&&!window.requestAnimationFrame;++i){var vp=vendors[i];window.requestAnimationFrame=window[vp+"RequestAnimationFrame"];window.cancelAnimationFrame=window[vp+"CancelAnimationFrame"]||window[vp+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var lastTime=0;window.requestAnimationFrame=function(callback){var now=Date.now();var nextTime=Math.max(lastTime+16,now);return setTimeout(function(){callback(lastTime=nextTime)},nextTime-now)};window.cancelAnimationFrame=clearTimeout}})()}var supportTransform=function(){if(!window.getComputedStyle){return false}var el=document.createElement("p"),has3d,transforms={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};(document.body||document.documentElement).insertBefore(el,null);for(var t in transforms){if(typeof el.style[t]!=="undefined"){el.style[t]="translate3d(1px,1px,1px)";has3d=window.getComputedStyle(el).getPropertyValue(transforms[t])}}(document.body||document.documentElement).removeChild(el);return typeof has3d!=="undefined"&&has3d.length>0&&has3d!=="none"}();var isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>-1;var isIOs=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;var isOperaOld=!!window.opera;var isEdge=/Edge\/\d+/.test(navigator.userAgent);var isIE11=/Trident.*rv[ :]*11\./.test(navigator.userAgent);var isIE10=!!Function("/*@cc_on return document.documentMode===10@*/")();var isIElt10=document.all&&!window.atob;var wndW;var wndH;function updateWndVars(){wndW=window.innerWidth||document.documentElement.clientWidth;wndH=window.innerHeight||document.documentElement.clientHeight}updateWndVars();var jarallaxList=[];var Jarallax=function(){var instanceID=0;function Jarallax_inner(item,userOptions){var _this=this,dataOptions;_this.$item=item;_this.defaults={type:"scroll",speed:.5,imgSrc:null,imgWidth:null,imgHeight:null,enableTransform:true,zIndex:-100,noAdnroid:false,noIos:true,onScroll:null,onInit:null,onDestroy:null,onCoverImage:null};dataOptions=JSON.parse(_this.$item.getAttribute("data-jarallax")||"{}");_this.options=_this.extend({},_this.defaults,dataOptions,userOptions);if(isAndroid&&_this.options.noAdnroid||isIOs&&_this.options.noIos){return}_this.options.speed=Math.min(2,Math.max(-1,parseFloat(_this.options.speed)));_this.instanceID=instanceID++;_this.image={src:_this.options.imgSrc||null,$container:null,$item:null,width:_this.options.imgWidth||null,height:_this.options.imgHeight||null,useImgTag:isIOs||isAndroid||isOperaOld||isIE11||isIE10||isEdge};if(_this.initImg()){_this.init()}}return Jarallax_inner}();Jarallax.prototype.css=function(el,styles){if(typeof styles==="string"){if(window.getComputedStyle){return window.getComputedStyle(el).getPropertyValue(styles)}return el.style[styles]}if(styles.transform){styles.WebkitTransform=styles.MozTransform=styles.transform}for(var k in styles){el.style[k]=styles[k]}return el};Jarallax.prototype.extend=function(out){out=out||{};for(var i=1;i<arguments.length;i++){if(!arguments[i]){continue}for(var key in arguments[i]){if(arguments[i].hasOwnProperty(key)){out[key]=arguments[i][key]}}}return out};Jarallax.prototype.initImg=function(){var _this=this;if(_this.image.src===null){_this.image.src=_this.css(_this.$item,"background-image").replace(/^url\(['"]?/g,"").replace(/['"]?\)$/g,"")}if(!_this.image.src||_this.image.src==="none"){return false}return true};Jarallax.prototype.init=function(){var _this=this,containerStyles={position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",pointerEvents:"none"},imageStyles={position:"fixed"};_this.image.$container=document.createElement("div");_this.css(_this.image.$container,containerStyles);_this.css(_this.image.$container,{visibility:"hidden","z-index":_this.options.zIndex});_this.image.$container.setAttribute("id","jarallax-container-"+_this.instanceID);_this.$item.appendChild(_this.image.$container);if(_this.image.useImgTag&&supportTransform&&_this.options.enableTransform){_this.image.$item=document.createElement("img");_this.image.$item.setAttribute("src",_this.image.src);imageStyles=_this.extend({"max-width":"none"},containerStyles,imageStyles)}else{_this.image.$item=document.createElement("div");imageStyles=_this.extend({"background-position":"50% 50%","background-size":"100% auto","background-repeat":"no-repeat no-repeat","background-image":'url("'+_this.image.src+'")'},containerStyles,imageStyles)}if(isIElt10){imageStyles.backgroundAttachment="fixed"}_this.parentWithTransform=0;var $itemParents=_this.$item;while($itemParents!==null&&$itemParents!==document&&_this.parentWithTransform===0){if(_this.css($itemParents,"-webkit-transform")||_this.css($itemParents,"-moz-transform")||_this.css($itemParents,"transform")){_this.parentWithTransform=1;_this.css(_this.image.$container,{transform:"translateX(0) translateY(0)"})}$itemParents=$itemParents.parentNode}_this.css(_this.image.$item,imageStyles);_this.image.$container.appendChild(_this.image.$item);function initAfterReady(){_this.coverImage();_this.clipContainer();_this.onScroll(true);_this.$item.setAttribute("data-jarallax-original-styles",_this.$item.getAttribute("style"));if(_this.options.onInit){_this.options.onInit.call(_this)}setTimeout(function(){if(_this.$item){_this.css(_this.$item,{"background-image":"none","background-attachment":"scroll","background-size":"auto"})}},0)}if(_this.image.width&&_this.image.height){initAfterReady()}else{_this.getImageSize(_this.image.src,function(width,height){_this.image.width=width;_this.image.height=height;initAfterReady()})}jarallaxList.push(_this)};Jarallax.prototype.destroy=function(){var _this=this;for(var k=0,len=jarallaxList.length;k<len;k++){if(jarallaxList[k].instanceID===_this.instanceID){jarallaxList.splice(k,1);break}}_this.$item.setAttribute("style",_this.$item.getAttribute("data-jarallax-original-styles"));_this.$item.removeAttribute("data-jarallax-original-styles");if(_this.$clipStyles){_this.$clipStyles.parentNode.removeChild(_this.$clipStyles)}_this.image.$container.parentNode.removeChild(_this.image.$container);if(_this.options.onDestroy){_this.options.onDestroy.call(_this)}delete _this.$item.jarallax;for(var n in _this){delete _this[n]}};Jarallax.prototype.getImageSize=function(src,callback){if(!src||!callback){return}var tempImg=new Image;tempImg.onload=function(){callback(tempImg.width,tempImg.height)};tempImg.src=src};Jarallax.prototype.clipContainer=function(){if(isIElt10){return}var _this=this,rect=_this.image.$container.getBoundingClientRect(),width=rect.width,height=rect.height;if(!_this.$clipStyles){_this.$clipStyles=document.createElement("style");_this.$clipStyles.setAttribute("type","text/css");_this.$clipStyles.setAttribute("id","#jarallax-clip-"+_this.instanceID);var head=document.head||document.getElementsByTagName("head")[0];head.appendChild(_this.$clipStyles)}var styles=["#jarallax-container-"+_this.instanceID+" {","   clip: rect(0 "+width+"px "+height+"px 0);","   clip: rect(0, "+width+"px, "+height+"px, 0);","}"].join("\n");if(_this.$clipStyles.styleSheet){_this.$clipStyles.styleSheet.cssText=styles}else{_this.$clipStyles.innerHTML=styles}};Jarallax.prototype.coverImage=function(){var _this=this;if(!_this.image.width||!_this.image.height){return}var rect=_this.image.$container.getBoundingClientRect(),contW=rect.width,contH=rect.height,contL=rect.left,imgW=_this.image.width,imgH=_this.image.height,speed=_this.options.speed,isScroll=_this.options.type==="scroll"||_this.options.type==="scroll-opacity",scrollDist=0,resultW=0,resultH=contH,resultML=0,resultMT=0;if(isScroll){scrollDist=speed*(contH+wndH)/2;if(speed<0||speed>1){scrollDist=speed*Math.max(contH,wndH)/2}if(speed<0||speed>1){resultH=Math.max(contH,wndH)+Math.abs(scrollDist)*2}else{resultH+=Math.abs(wndH-contH)*(1-speed)}}resultW=resultH*imgW/imgH;if(resultW<contW){resultW=contW;resultH=resultW*imgH/imgW}_this.bgPosVerticalCenter=0;if(isScroll&&resultH<wndH&&(!supportTransform||!_this.options.enableTransform)){_this.bgPosVerticalCenter=(wndH-resultH)/2;resultH=wndH}if(isScroll){resultML=contL+(contW-resultW)/2;resultMT=(wndH-resultH)/2}else{resultML=(contW-resultW)/2;resultMT=(contH-resultH)/2}if(_this.parentWithTransform){resultML-=contL}_this.parallaxScrollDistance=scrollDist;_this.css(_this.image.$item,{width:resultW+"px",height:resultH+"px",marginLeft:resultML+"px",marginTop:resultMT+"px"});if(_this.options.onCoverImage){_this.options.onCoverImage.call(_this)}};Jarallax.prototype.isVisible=function(){return this.isElementInViewport||false};Jarallax.prototype.onScroll=function(force){var _this=this;if(!_this.image.width||!_this.image.height){return}var rect=_this.$item.getBoundingClientRect(),contT=rect.top,contH=rect.height,styles={position:"absolute",visibility:"visible",backgroundPosition:"50% 50%"};_this.isElementInViewport=rect.bottom>=0&&rect.right>=0&&contT<=wndH&&rect.left<=wndW;var check=force?false:!_this.isElementInViewport;if(check){return}var beforeTop=Math.max(0,contT),beforeTopEnd=Math.max(0,contH+contT),afterTop=Math.max(0,-contT),beforeBottom=Math.max(0,contT+contH-wndH),beforeBottomEnd=Math.max(0,contH-(contT+contH-wndH)),afterBottom=Math.max(0,-contT+wndH-contH),fromViewportCenter=1-2*(wndH-contT)/(wndH+contH);var visiblePercent=1;if(contH<wndH){visiblePercent=1-(afterTop||beforeBottom)/contH}else{if(beforeTopEnd<=wndH){visiblePercent=beforeTopEnd/wndH}else if(beforeBottomEnd<=wndH){visiblePercent=beforeBottomEnd/wndH}}if(_this.options.type==="opacity"||_this.options.type==="scale-opacity"||_this.options.type==="scroll-opacity"){styles.transform="translate3d(0, 0, 0)";styles.opacity=visiblePercent}if(_this.options.type==="scale"||_this.options.type==="scale-opacity"){var scale=1;if(_this.options.speed<0){scale-=_this.options.speed*visiblePercent}else{scale+=_this.options.speed*(1-visiblePercent)}styles.transform="scale("+scale+") translate3d(0, 0, 0)"}if(_this.options.type==="scroll"||_this.options.type==="scroll-opacity"){var positionY=_this.parallaxScrollDistance*fromViewportCenter;if(supportTransform&&_this.options.enableTransform){if(_this.parentWithTransform){positionY-=contT}styles.transform="translate3d(0, "+positionY+"px, 0)"}else{if(_this.bgPosVerticalCenter){positionY+=_this.bgPosVerticalCenter}styles.backgroundPosition="50% "+positionY+"px"}styles.position=isIElt10?"absolute":"fixed"}_this.css(_this.image.$item,styles);if(_this.options.onScroll){_this.options.onScroll.call(_this,{section:rect,beforeTop:beforeTop,beforeTopEnd:beforeTopEnd,afterTop:afterTop,beforeBottom:beforeBottom,beforeBottomEnd:beforeBottomEnd,afterBottom:afterBottom,visiblePercent:visiblePercent,fromViewportCenter:fromViewportCenter})}};function addEventListener(el,eventName,handler){if(el.addEventListener){el.addEventListener(eventName,handler)}else{el.attachEvent("on"+eventName,function(){handler.call(el)})}}function update(e){window.requestAnimationFrame(function(){if(e.type!=="scroll"){updateWndVars()}for(var k=0,len=jarallaxList.length;k<len;k++){if(e.type!=="scroll"){jarallaxList[k].coverImage();jarallaxList[k].clipContainer()}jarallaxList[k].onScroll()}})}addEventListener(window,"scroll",update);addEventListener(window,"resize",update);addEventListener(window,"orientationchange",update);addEventListener(window,"load",update);var plugin=function(items){if(typeof HTMLElement==="object"?items instanceof HTMLElement:items&&typeof items==="object"&&items!==null&&items.nodeType===1&&typeof items.nodeName==="string"){items=[items]}var options=arguments[1],args=Array.prototype.slice.call(arguments,2),len=items.length,k=0,ret;for(k;k<len;k++){if(typeof options==="object"||typeof options==="undefined"){if(!items[k].jarallax){items[k].jarallax=new Jarallax(items[k],options)}}else if(items[k].jarallax){ret=items[k].jarallax[options].apply(items[k].jarallax,args)}if(typeof ret!=="undefined"){return ret}}return items};plugin.constructor=Jarallax;var oldPlugin=window.jarallax;window.jarallax=plugin;window.jarallax.noConflict=function(){window.jarallax=oldPlugin;return this};if(typeof jQuery!=="undefined"){var jQueryPlugin=function(){var args=arguments||[];Array.prototype.unshift.call(args,this);var res=plugin.apply(window,args);return typeof res!=="object"?res:this};jQueryPlugin.constructor=Jarallax;var oldJqPlugin=jQuery.fn.jarallax;jQuery.fn.jarallax=jQueryPlugin;jQuery.fn.jarallax.noConflict=function(){jQuery.fn.jarallax=oldJqPlugin;return this}}addEventListener(window,"DOMContentLoaded",function(){plugin(document.querySelectorAll("[data-jarallax]"))})})(window);(function(window){"use strict";function extend(out){out=out||{};for(var i=1;i<arguments.length;i++){if(!arguments[i]){continue}for(var key in arguments[i]){if(arguments[i].hasOwnProperty(key)){out[key]=arguments[i][key]}}}return out}function Deferred(){this._done=[];this._fail=[]}Deferred.prototype={execute:function(list,args){var i=list.length;args=Array.prototype.slice.call(args);while(i--){list[i].apply(null,args)}},resolve:function(){this.execute(this._done,arguments)},reject:function(){this.execute(this._fail,arguments)},done:function(callback){this._done.push(callback)},fail:function(callback){this._fail.push(callback)}};var VideoWorker=function(){var ID=0;function VideoWorker_inner(url,options){var _this=this;_this.url=url;_this.options_default={autoplay:1,loop:1,mute:1,controls:0};_this.options=extend({},_this.options_default,options);_this.videoID=_this.parseURL(url);if(_this.videoID){_this.ID=ID++;_this.loadAPI();_this.init()}}return VideoWorker_inner}();VideoWorker.prototype.parseURL=function(url){function getYoutubeID(ytUrl){var regExp=/.*(?:youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/;var match=ytUrl.match(regExp);return match&&match[1].length===11?match[1]:false}function getVimeoID(vmUrl){var regExp=/https?:\/\/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/;var match=vmUrl.match(regExp);return match&&match[3]?match[3]:false}var Youtube=getYoutubeID(url);var Vimeo=getVimeoID(url);if(Youtube){this.type="youtube";return Youtube}else if(Vimeo){this.type="vimeo";return Vimeo}return false};VideoWorker.prototype.isValid=function(){return!!this.videoID};VideoWorker.prototype.on=function(name,callback){this.userEventsList=this.userEventsList||[];(this.userEventsList[name]||(this.userEventsList[name]=[])).push(callback)};VideoWorker.prototype.off=function(name,callback){if(!this.userEventsList||!this.userEventsList[name]){return}if(!callback){delete this.userEventsList[name]}else{for(var k=0;k<this.userEventsList[name].length;k++){if(this.userEventsList[name][k]===callback){this.userEventsList[name][k]=false}}}};VideoWorker.prototype.fire=function(name){var args=[].slice.call(arguments,1);if(this.userEventsList&&typeof this.userEventsList[name]!=="undefined"){for(var k in this.userEventsList[name]){if(this.userEventsList[name][k]){this.userEventsList[name][k].apply(this,args)}}}};VideoWorker.prototype.play=function(){if(!this.player){return}if(this.type==="youtube"&&this.player.playVideo){this.player.playVideo()}if(this.type==="vimeo"){this.player.api("play")}};VideoWorker.prototype.pause=function(){if(!this.player){return}if(this.type==="youtube"&&this.player.pauseVideo){this.player.pauseVideo()}if(this.type==="vimeo"){this.player.api("pause")}};VideoWorker.prototype.getImageURL=function(callback){var _this=this;if(_this.videoImage){callback(_this.videoImage);return}if(_this.type==="youtube"){_this.videoImage="https://img.youtube.com/vi/"+_this.videoID+"/maxresdefault.jpg";callback(_this.videoImage)}if(_this.type==="vimeo"){var request=new XMLHttpRequest;request.open("GET","https://vimeo.com/api/v2/video/"+_this.videoID+".json",true);request.onreadystatechange=function(){if(this.readyState===4){if(this.status>=200&&this.status<400){var response=JSON.parse(this.responseText);_this.videoImage=response[0].thumbnail_large;callback(_this.videoImage)}else{}}};request.send();request=null}};VideoWorker.prototype.getIframe=function(callback){var _this=this;if(_this.$iframe){callback(_this.$iframe);return}_this.onAPIready(function(){var hiddenDiv;if(!_this.$iframe){hiddenDiv=document.createElement("div");hiddenDiv.style.display="none"}if(_this.type==="youtube"){_this.playerOptions={};_this.playerOptions.videoId=_this.videoID;_this.playerOptions.width=window.innerWidth||document.documentElement.clientWidth;_this.playerOptions.playerVars={autohide:1,rel:0,autoplay:0};if(!_this.options.controls){_this.playerOptions.playerVars.iv_load_policy=3;_this.playerOptions.playerVars.modestbranding=1;_this.playerOptions.playerVars.controls=0;_this.playerOptions.playerVars.showinfo=0;_this.playerOptions.playerVars.disablekb=1}var ytStarted;_this.playerOptions.events={onReady:function(e){if(_this.options.mute){e.target.mute()}if(_this.options.autoplay){_this.play()}_this.fire("ready",e)},onStateChange:function(e){if(_this.options.loop&&e.data===YT.PlayerState.ENDED){e.target.playVideo()}if(!ytStarted&&e.data===YT.PlayerState.PLAYING){ytStarted=1;_this.fire("started",e)}if(e.data===YT.PlayerState.PLAYING){_this.fire("play",e)}if(e.data===YT.PlayerState.PAUSED){_this.fire("pause",e)}if(e.data===YT.PlayerState.ENDED){_this.fire("end",e)}}};var firstInit=!_this.$iframe;if(firstInit){var div=document.createElement("div");div.setAttribute("id",_this.playerID);hiddenDiv.appendChild(div);document.body.appendChild(hiddenDiv)}_this.player=_this.player||new window.YT.Player(_this.playerID,_this.playerOptions);if(firstInit){_this.$iframe=document.getElementById(_this.playerID)}}if(_this.type==="vimeo"){_this.playerOptions="";_this.playerOptions+="player_id="+_this.playerID;_this.playerOptions+="&autopause=0";if(!_this.options.controls){_this.playerOptions+="&badge=0&byline=0&portrait=0&title=0"}_this.playerOptions+="&autoplay=0";_this.playerOptions+="&loop="+(_this.options.loop?1:0);if(!_this.$iframe){_this.$iframe=document.createElement("iframe");_this.$iframe.setAttribute("id",_this.playerID);_this.$iframe.setAttribute("src","https://player.vimeo.com/video/"+_this.videoID+"?"+_this.playerOptions);_this.$iframe.setAttribute("frameborder","0");hiddenDiv.appendChild(_this.$iframe);document.body.appendChild(hiddenDiv)}_this.player=_this.player||$f(_this.$iframe);_this.player.addEvent("ready",function(eventReady){_this.player.api("setVolume",_this.options.mute?0:100);if(_this.options.autoplay){_this.play()}var vmStarted;_this.player.addEvent("playProgress",function(eventPlay){if(!vmStarted){_this.fire("started",eventPlay)}vmStarted=1});_this.player.addEvent("play",function(e){_this.fire("play",e)});_this.player.addEvent("pause",function(e){_this.fire("pause",e)});_this.player.addEvent("finish",function(e){_this.fire("end",e)});_this.fire("ready",eventReady)})}callback(_this.$iframe)})};VideoWorker.prototype.init=function(){var _this=this;_this.playerID="VideoWorker-"+_this.ID};var YoutubeAPIadded=0;var VimeoAPIadded=0;VideoWorker.prototype.loadAPI=function(){var _this=this;if(YoutubeAPIadded&&VimeoAPIadded){return}var src="";if(_this.type==="youtube"&&!YoutubeAPIadded){YoutubeAPIadded=1;src="//www.youtube.com/iframe_api"}if(_this.type==="vimeo"&&!VimeoAPIadded){VimeoAPIadded=1;src="//f.vimeocdn.com/js/froogaloop2.min.js"}if(window.location.origin==="file://"){src="http:"+src}var tag=document.createElement("script");var head=document.getElementsByTagName("head")[0];tag.src=src;head.appendChild(tag);head=null;tag=null};var loadingYoutubePlayer=0;var loadingVimeoPlayer=0;var loadingYoutubeDeffer=new Deferred;var loadingVimeoDeffer=new Deferred;VideoWorker.prototype.onAPIready=function(callback){var _this=this;if(_this.type==="youtube"){if((typeof YT==="undefined"||YT.loaded===0)&&!loadingYoutubePlayer){loadingYoutubePlayer=1;window.onYouTubeIframeAPIReady=function(){window.onYouTubeIframeAPIReady=null;loadingYoutubeDeffer.resolve("done");callback()}}else if(typeof YT==="object"&&YT.loaded===1){callback()}else{loadingYoutubeDeffer.done(function(){callback()})}}if(_this.type==="vimeo"){if(typeof $f==="undefined"&&!loadingVimeoPlayer){loadingVimeoPlayer=1;var frooga_interval=setInterval(function(){if(typeof $f!=="undefined"){clearInterval(frooga_interval);loadingVimeoDeffer.resolve("done");callback()}},20)}else if(typeof $f!=="undefined"){callback()}else{loadingVimeoDeffer.done(function(){callback()})}}};window.VideoWorker=VideoWorker})(window);(function(){"use strict";if(typeof jarallax==="undefined"){return}var Jarallax=jarallax.constructor;var def_init=Jarallax.prototype.init;Jarallax.prototype.init=function(){var _this=this;def_init.apply(_this);if(_this.video){_this.video.getIframe(function(iframe){_this.css(iframe,{position:"fixed",top:"0px",left:"0px",right:"0px",bottom:"0px",width:"100%",height:"100%",visibility:"visible",zIndex:-1});_this.$video=iframe;_this.image.$container.appendChild(iframe)})}};var def_coverImage=Jarallax.prototype.coverImage;Jarallax.prototype.coverImage=function(){var _this=this;def_coverImage.apply(_this);if(_this.video&&_this.image.$item.nodeName==="IFRAME"){_this.css(_this.image.$item,{height:_this.image.$item.getBoundingClientRect().height+400+"px",top:"-200px"})}};var def_initImg=Jarallax.prototype.initImg;Jarallax.prototype.initImg=function(){var _this=this;if(!_this.options.videoSrc){_this.options.videoSrc=_this.$item.getAttribute("data-jarallax-video")||false}if(_this.options.videoSrc){var video=new VideoWorker(_this.options.videoSrc);if(video.isValid()){_this.image.useImgTag=true;video.on("ready",function(){var oldOnScroll=_this.onScroll;_this.onScroll=function(){oldOnScroll.apply(_this);if(_this.isVisible()){video.play()}else{video.pause()}}});video.on("started",function(){_this.image.$default_item=_this.image.$item;_this.image.$item=_this.$video;_this.image.width=_this.imgWidth=1280;_this.image.height=_this.imgHeight=720;_this.coverImage();_this.clipContainer();_this.onScroll();if(_this.image.$default_item){_this.image.$default_item.style.display="none"}});_this.video=video;video.getImageURL(function(url){_this.image.src=url;_this.init()})}return false}return def_initImg.apply(_this)};var def_destroy=Jarallax.prototype.destroy;Jarallax.prototype.destroy=function(){var _this=this;def_destroy.apply(_this)}})();(function($){$(document).ready(function(){var navBreakpoint=991,mobileTest;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){mobileTest=true}else{mobileTest=false}$(window).on("resize",function(){var width=Math.max($(window).width(),window.innerWidth);var menuItem=$(".has-submenu");if(width>navBreakpoint){menuItem.removeClass("submenu-open")}if(width>navBreakpoint&&mobileTest!==true){menuItem.children("a").unbind("click");menuItem.unbind("mouseenter mouseleave");menuItem.on({mouseenter:function(){$(this).addClass("submenu-open")},mouseleave:function(){$(this).removeClass("submenu-open")}})}else{menuItem.unbind("mouseenter mouseleave");menuItem.children("a").unbind("click").click(function(e){e.preventDefault();$(this).parent().toggleClass("submenu-open");if(width>navBreakpoint&&mobileTest==true){$(this).parent().siblings().removeClass("submenu-open");$(this).parent().siblings().find(".submenu-open").removeClass("submenu-open")}})}})})})(jQuery);(function($){$(document).ready(function(){$("#contact-form").find("input,textarea").jqBootstrapValidation({preventSubmit:true,submitError:function($form,event,errors){},submitSuccess:function($form,event){event.preventDefault();var submit=$("#contact-form submit");var ajaxResponse=$("#contact-response");var name=$('#contact-form [name="name"]').val();var lastname=$('#contact-form [name="lastname"]').val();var email=$('#contact-form [name="email"]').val();var message=$('#contact-form [name="message"]').val();$.ajax({type:"POST",url:"assets/php/contact.php",dataType:"json",data:{name:name,lastname:lastname,email:email,message:message},cache:false,beforeSend:function(result){submit.empty();submit.append('<i class="fa fa-cog fa-spin"></i> Wait...')},success:function(result){if(result.sendstatus==1){ajaxResponse.html(result.message);$form.fadeOut(500)}else{ajaxResponse.html(result.message)}}})}})})})(jQuery);